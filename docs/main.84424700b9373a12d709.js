(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.f)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.g)(Object(r.g)([],Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.f)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,u=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=Object(r.h)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.f)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var s=Object(r.h)(this.onInitCallbacks),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return hn}),n.d(e,"b",function(){return ec}),n.d(e,"c",function(){return Yu}),n.d(e,"d",function(){return Wu}),n.d(e,"e",function(){return Ku}),n.d(e,"f",function(){return Wc}),n.d(e,"g",function(){return Fc}),n.d(e,"h",function(){return Fa}),n.d(e,"i",function(){return dc}),n.d(e,"j",function(){return ua}),n.d(e,"k",function(){return ic}),n.d(e,"l",function(){return da}),n.d(e,"m",function(){return kr}),n.d(e,"n",function(){return Ou}),n.d(e,"o",function(){return gs}),n.d(e,"p",function(){return Pn}),n.d(e,"q",function(){return P}),n.d(e,"r",function(){return ln}),n.d(e,"s",function(){return Ps}),n.d(e,"t",function(){return Pa}),n.d(e,"u",function(){return Da}),n.d(e,"v",function(){return rc}),n.d(e,"w",function(){return Ka}),n.d(e,"x",function(){return Bc}),n.d(e,"y",function(){return Wa}),n.d(e,"z",function(){return Dc}),n.d(e,"A",function(){return gc}),n.d(e,"B",function(){return Nn}),n.d(e,"C",function(){return tc}),n.d(e,"D",function(){return Ju}),n.d(e,"E",function(){return ga}),n.d(e,"F",function(){return pa}),n.d(e,"G",function(){return Dr}),n.d(e,"H",function(){return ya}),n.d(e,"I",function(){return _r}),n.d(e,"J",function(){return Dn}),n.d(e,"K",function(){return qc}),n.d(e,"L",function(){return Ha}),n.d(e,"M",function(){return Sc}),n.d(e,"N",function(){return dn}),n.d(e,"O",function(){return ba}),n.d(e,"P",function(){return va}),n.d(e,"Q",function(){return Xa}),n.d(e,"R",function(){return R}),n.d(e,"S",function(){return Lc}),n.d(e,"T",function(){return Pc}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return Ic}),n.d(e,"W",function(){return $c}),n.d(e,"X",function(){return Ec}),n.d(e,"Y",function(){return nc}),n.d(e,"Z",function(){return ys}),n.d(e,"ab",function(){return Wo}),n.d(e,"bb",function(){return v}),n.d(e,"cb",function(){return br}),n.d(e,"db",function(){return nr}),n.d(e,"eb",function(){return Qn}),n.d(e,"fb",function(){return Gn}),n.d(e,"gb",function(){return Xn}),n.d(e,"hb",function(){return Kn}),n.d(e,"ib",function(){return Wn}),n.d(e,"jb",function(){return Yn}),n.d(e,"kb",function(){return Ho}),n.d(e,"lb",function(){return Qc}),n.d(e,"mb",function(){return Qo}),n.d(e,"nb",function(){return $o}),n.d(e,"ob",function(){return $n}),n.d(e,"pb",function(){return z}),n.d(e,"qb",function(){return Vs}),n.d(e,"rb",function(){return so}),n.d(e,"sb",function(){return ro}),n.d(e,"tb",function(){return io}),n.d(e,"ub",function(){return qo}),n.d(e,"vb",function(){return kt}),n.d(e,"wb",function(){return d}),n.d(e,"xb",function(){return Hn}),n.d(e,"yb",function(){return Ds}),n.d(e,"zb",function(){return _t}),n.d(e,"Ab",function(){return sa}),n.d(e,"Bb",function(){return wi}),n.d(e,"Cb",function(){return $s}),n.d(e,"Db",function(){return So}),n.d(e,"Eb",function(){return Fo}),n.d(e,"Fb",function(){return _o}),n.d(e,"Gb",function(){return Vu}),n.d(e,"Hb",function(){return tt}),n.d(e,"Ib",function(){return at}),n.d(e,"Jb",function(){return S}),n.d(e,"Kb",function(){return x}),n.d(e,"Lb",function(){return it}),n.d(e,"Mb",function(){return ut}),n.d(e,"Nb",function(){return Ys}),n.d(e,"Ob",function(){return eo}),n.d(e,"Pb",function(){return to}),n.d(e,"Qb",function(){return Js}),n.d(e,"Rb",function(){return no}),n.d(e,"Sb",function(){return sn}),n.d(e,"Tb",function(){return Uo}),n.d(e,"Ub",function(){return kn}),n.d(e,"Vb",function(){return an}),n.d(e,"Wb",function(){return Gu}),n.d(e,"Xb",function(){return oo}),n.d(e,"Yb",function(){return zu}),n.d(e,"Zb",function(){return Se}),n.d(e,"ac",function(){return _e}),n.d(e,"bc",function(){return co}),n.d(e,"cc",function(){return wu}),n.d(e,"dc",function(){return _u}),n.d(e,"ec",function(){return Su}),n.d(e,"fc",function(){return xu}),n.d(e,"gc",function(){return fo}),n.d(e,"hc",function(){return ho}),n.d(e,"ic",function(){return Xs}),n.d(e,"jc",function(){return du}),n.d(e,"kc",function(){return fu}),n.d(e,"lc",function(){return pu}),n.d(e,"mc",function(){return gu}),n.d(e,"nc",function(){return Uu}),n.d(e,"oc",function(){return Ks}),n.d(e,"pc",function(){return Pr}),n.d(e,"qc",function(){return Wt}),n.d(e,"rc",function(){return Sr}),n.d(e,"sc",function(){return xr}),n.d(e,"tc",function(){return st}),n.d(e,"uc",function(){return wo}),n.d(e,"vc",function(){return Ws}),n.d(e,"wc",function(){return $u}),n.d(e,"xc",function(){return Lo}),n.d(e,"yc",function(){return jo}),n.d(e,"zc",function(){return Mo}),n.d(e,"Ac",function(){return Ro}),n.d(e,"Bc",function(){return Bu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{providers:t.providers||[],imports:t.imports||[]}}function T(t){return E(t,O)||E(t,A)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(I))?t[k]:null}const O=l({"\u0275prov":l}),k=l({"\u0275inj":l}),A=l({ngInjectableDef:l}),I=l({ngInjectorDef:l});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function D(t){const e=N;return N=t,e}function L(t,e,n){const r=T(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==e?e:void _(d(t),"Injector")}function j(t){return{toString:t}.toString()}var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),R=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,B="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,z=F||V||U||B,q={},H=[],Q=[],$=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),X=l({"\u0275fac":l}),Z=l({__NG_ELEMENT_ID__:l});let J=0;function tt(t){return j(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||R.Emulated,id:"c",styles:t.styles||Q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[G]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||Q,declarations:t.declarations||Q,imports:t.imports||Q,exports:t.exports||Q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&j(()=>{rt[t.id]=t.type}),e}function st(t,e){return j(()=>{const n=lt(t,!0);n.declarations=e.declarations||Q,n.imports=e.imports||Q,n.exports=e.exports||Q})}function ot(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[$]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function vt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),xt}function xt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new wt(u&&u.currentValue,e,o===q),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const Ct="http://www.w3.org/2000/svg";let Ot;function kt(t){Ot=t}function At(){return void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}const Pt={createRenderer:(t,e)=>At()};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return Nt(e[t])}function Lt(t,e){return Nt(e[t.index])}function jt(t,e){return t.data[e]}function Mt(t,e){return t[e]}function Rt(t,e){const n=e[t];return ft(n)?n:n[0]}function Ft(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ut(t){return 4==(4&t[2])}function Bt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qt(){return Ht.bindingsEnabled}function $t(){return Ht.lFrame.lView}function Gt(){return Ht.lFrame.tView}function Wt(t){Ht.lFrame.contextLView=t}function Kt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return Ht.lFrame.currentTNode}function Xt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Ht.lFrame.isParent}function Jt(){Ht.lFrame.isParent=!1}function te(){return Ht.isInCheckNoChangesMode}function ee(t){Ht.isInCheckNoChangesMode=t}function ne(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Ht.lFrame.bindingIndex}function ie(){return Ht.lFrame.bindingIndex++}function se(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){Ht.lFrame.currentDirectiveIndex=t}function ue(){return Ht.lFrame.currentQueryIndex}function ce(t){Ht.lFrame.currentQueryIndex=t}function le(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function he(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=le(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function de(t){const e=fe(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?pe(t):e}function pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const me=ge;function ye(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return Ht.lFrame.selectedIndex}function be(t){Ht.lFrame.selectedIndex=t}function we(){const t=Ht.lFrame;return jt(t.tView,t.selectedIndex)}function _e(){Ht.lFrame.currentNamespace=Ct}function Se(){Ht.lFrame.currentNamespace=null}function xe(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Te(t,e,n){Oe(t,e,3,n)}function Ee(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function Ce(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(ke(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ke(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ae=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Pe(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];De(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ne(t){return 3===t||4===t||6===t}function De(t){return 64===t.charCodeAt(0)}function Le(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Me(t){return t!==Ae}function Re(t){return 32767&t}function Fe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function Be(t){const e=Ue;return Ue=t,e}let Ve=0;function ze(t,e){const n=He(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,qe(r.data,t),qe(e,null),qe(r.blueprint,null));const i=Qe(t,e),s=t.injectorIndex;if(Me(i)){const t=Re(i),n=Fe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function He(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ae;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ae}function $e(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Ve++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ge(t,e,n){if(n&P.Optional)return t;_(e,"NodeInjector")}function We(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],s=D(void 0);try{return i?i.get(e,r,n&P.Optional):L(e,r,n&P.Optional)}finally{D(s)}}return Ge(r,e,n)}function Ke(t,e,n,r=P.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Xe:e}(n);if("function"==typeof s){if(!he(e,t,r))return r&P.Host?Ge(i,n,r):We(e,n,r,i);try{const t=s();if(null!=t||r&P.Optional)return t;_(n)}finally{me()}}else if("number"==typeof s){let i=null,o=He(t,e),a=Ae,u=r&P.Host?e[16][6]:null;for((-1===o||r&P.SkipSelf)&&(a=-1===o?Qe(t,e):e[o+8],a!==Ae&&nn(r,!1)?(i=e[1],o=Re(a),e=Fe(a,e)):o=-1);-1!==o;){const t=e[1];if(en(s,o,t.data)){const t=Ze(o,e,n,i,r,u);if(t!==Ye)return t}a=e[o+8],a!==Ae&&nn(r,e[1].data[o+8]===u)&&en(s,o,e)?(i=t,o=Re(a),e=Fe(a,e)):o=-1}}}return We(e,n,r,i)}const Ye={};function Xe(){return new rn(Kt(),$t())}function Ze(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Je(a,o,n,null==r?mt(a)&&Ue:r!=o&&0!=(3&a.type),i&P.Host&&s===a);return null!==u?tn(e,o,u,a):Ye}function Je(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&vt(t)&&t.type===n)return u}return null}function tn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ie){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(s[n]));const a=Be(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?D(o.injectImpl):null;he(t,r,P.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&D(u),Be(a),o.resolving=!1,me()}}return i}function en(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function nn(t,e){return!(t&P.Self||t&P.Host&&e)}class rn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ke(this._tNode,this._lView,t,void 0,e)}}function sn(t){return j(()=>{const e=t.prototype.constructor,n=e[X]||on(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||on(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function on(t){return y(t)?()=>{const e=on(m(t));return e&&e()}:bt(t)}function an(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ne(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const un="__parameters__";function cn(t,e,n){return j(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ln{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hn=new ln("AnalyzeForEntryComponents"),dn=Function;function fn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),fn(r,e)):e!==t&&e.push(r)}return e}function pn(t,e){t.forEach(t=>Array.isArray(t)?pn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vn(t,e,n){let r=wn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bn(t,e){const n=wn(t,e);if(n>=0)return t[1|n]}function wn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const _n={},Sn=/\n/gm,xn="__source",Tn=l({provide:String,useValue:l});let En;function Cn(t){const e=En;return En=t,e}function On(t,e=P.Default){if(void 0===En)throw new Error("inject() must be called from an injection context");return null===En?L(t,void 0,e):En.get(t,e&P.Optional?null:void 0,e)}function kn(t,e=P.Default){return(N||On)(m(t),e)}function An(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(kn(t,n))}else e.push(kn(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Pn=In(cn("Inject",t=>({token:t})),-1),Nn=In(cn("Optional"),8),Dn=In(cn("SkipSelf"),4);let Ln,jn;function Mn(t){var e;return(null===(e=function(){if(void 0===Ln&&(Ln=null,z.trustedTypes))try{Ln=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ln}())||void 0===e?void 0:e.createHTML(t))||t}function Rn(t){var e;return(null===(e=function(){if(void 0===jn&&(jn=null,z.trustedTypes))try{jn=z.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return jn}())||void 0===e?void 0:e.createHTML(t))||t}class Fn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Un extends Fn{getTypeName(){return"HTML"}}class Bn extends Fn{getTypeName(){return"Style"}}class Vn extends Fn{getTypeName(){return"Script"}}class zn extends Fn{getTypeName(){return"URL"}}class qn extends Fn{getTypeName(){return"ResourceURL"}}function Hn(t){return t instanceof Fn?t.changingThisBreaksApplicationSecurity:t}function Qn(t,e){const n=$n(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function $n(t){return t instanceof Fn&&t.getTypeName()||null}function Gn(t){return new Un(t)}function Wn(t){return new Bn(t)}function Kn(t){return new Vn(t)}function Yn(t){return new zn(t)}function Xn(t){return new qn(t)}class Zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Mn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const tr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nr(t){return(t=String(t)).match(tr)||t.match(er)?t:"unsafe:"+t}function rr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ir(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const sr=rr("area,br,col,hr,img,wbr"),or=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ar=rr("rp,rt"),ur=ir(ar,or),cr=ir(sr,ir(or,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ir(ar,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ur),lr=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hr=rr("srcset"),dr=ir(lr,hr,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fr=rr("script,style,template");class pr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!cr.hasOwnProperty(e))return this.sanitizedSomething=!0,!fr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!dr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;lr[s]&&(o=nr(o)),hr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>nr(t.trim())).join(", ")),this.buf.push(" ",e,'="',yr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();cr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function yr(t){return t.replace(/&/g,"&amp;").replace(gr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vr;function br(t,e){let n=null;try{vr=vr||function(t){const e=new Jn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Mn(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}(t);let r=e?String(e):"";n=vr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=vr.getInertBodyElement(r)}while(r!==s);return Mn((new pr).sanitizeChildren(wr(n)||n))}finally{if(n){const t=wr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function wr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _r=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Sr(t){const e=Tr();return e?Rn(e.sanitize(_r.HTML,t)||""):Qn(t,"HTML")?Rn(Hn(t)):br(At(),b(t))}function xr(t){const e=Tr();return e?e.sanitize(_r.URL,t)||"":Qn(t,"URL")?Hn(t):nr(b(t))}function Tr(){const t=$t();return t&&t[12]}function Er(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function Or(t,...e){t.error(...e)}class kr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Or}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Er(t)?Er(t):this._findContext(Cr(t)):null}_findOriginalError(t){let e=Cr(t);for(;e&&Cr(e);)e=Cr(e);return e}}function Ar(t,e){t.__ngContext__=e}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Pr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Nr(t){return t instanceof Function?t():t}var Dr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Lr(t,e){return(void 0)(t,e)}function jr(t){const e=t[3];return pt(e)?e[3]:e}function Mr(t){return Fr(t[13])}function Rr(t){return Fr(t[4])}function Fr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ur(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:ft(r)&&(o=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?Gr(e,n,a):$r(e,n,a,i||null,!0):1===t&&null!==n?$r(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Kr(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Nt(n)&&Ur(e,t,r,s,i);for(let o=dt;o<n.length;o++){const i=n[o];ri(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Br(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function zr(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Vr(s,r),e>0&&(t[n-1][4]=r[4]);const o=mn(t,dt+e);ri(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function qr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&ri(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Hr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&Hr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&Hr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Hr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Vr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Qr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===R.None||e===R.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}function $r(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Gr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function Wr(t,e,n,r,i){null!==r?$r(t,e,n,r,i):Gr(t,e,n)}function Kr(t,e){return It(t)?t.parentNode(e):e.parentNode}function Yr(t,e,n){return Xr(t,e,n)}let Xr=function(t,e,n){return 40&t.type?Lt(t,n):null};function Zr(t,e,n,r){const i=Qr(t,r,e),s=e[11],o=Yr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Wr(s,i,n[a],o,!1);else Wr(s,i,n,o,!1)}function Jr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return ei(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Jr(t,n);{const n=t[e.index];return pt(n)?ei(-1,n):Nt(n)}}if(32&n)return Lr(e,t)()||Nt(t[e.index]);{const n=ti(t,e);return null!==n?Array.isArray(n)?n[0]:Jr(jr(t[16]),n):Jr(t,e.next)}}return null}function ti(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ei(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Jr(t,r)}return e[7]}function ni(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ar(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ni(t,e,n.child,r,i,s,!1),Ur(e,t,i,a,s);else if(32&u){const o=Lr(n,r);let u;for(;u=o();)Ur(e,t,i,u,s);Ur(e,t,i,a,s)}else 16&u?ii(t,e,r,n,i,s):Ur(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ri(t,e,n,r,i,s){ni(n,r,t.firstChild,e,i,s,!1)}function ii(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Ur(e,t,i,a[u],s);else ni(t,e,a,o[3],i,s,!0)}function si(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function oi(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ai(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ui="ng-template";function ci(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ai(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function li(t){return 4===t.type&&t.value!==ui}function hi(t,e,n){return e===(4!==t.type||n?t.value:ui)}function di(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ne(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!hi(t,u,n)||""===u&&1===e.length){if(fi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ci(t.attrs,c,n)){if(fi(r))return!1;o=!0}continue}const l=pi(8&r?"class":u,i,li(t),n);if(-1===l){if(fi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ai(e,c,0)||2&r&&c!==t){if(fi(r))return!1;o=!0}}}}else{if(!o&&!fi(r)&&!fi(u))return!1;if(o&&fi(u))continue;o=!1,r=u|1&r}}return fi(r)||o}function fi(t){return 0==(1&t)}function pi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function gi(t,e,n=!1){for(let r=0;r<e.length;r++)if(di(t,e[r],n))return!0;return!1}function mi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function yi(t,e){return t?":not("+e.trim()+")":e}function vi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||fi(o)||(e+=yi(s,i),i=""),r=o,s=s||!fi(r);n++}return""!==i&&(e+=yi(s,i)),e}const bi={};function wi(t){_i(Gt(),$t(),ve()+t,te())}function _i(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Te(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ee(e,r,0,n)}be(n)}function Si(t,e){return t<<17|e<<2}function xi(t){return t>>17&32767}function Ti(t){return 2|t}function Ei(t){return(131068&t)>>2}function Ci(t,e){return-131069&t|e<<2}function Oi(t){return 1|t}function ki(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ce(i),n.contentQueries(2,e[s],s)}}}function Ai(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ii(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Yt(),o=Zt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Xt(s,!0),s}function Pi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ni(t,e,n){de(e);try{const r=t.viewQuery;null!==r&&as(1,r,n);const i=t.template;null!==i&&ji(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ki(t,e),t.staticViewQueries&&as(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ns(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ye()}}function Di(t,e,n,r){const i=e[2];if(256==(256&i))return;de(e);const s=te();try{zt(e),Ht.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ji(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Te(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ee(e,n,0,null),Ce(e,0)}if(function(t){for(let e=Mr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Mr(t);null!==e;e=Rr(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];Bt(n)&&Di(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ki(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Te(e,n)}else{const n=t.contentHooks;null!==n&&Ee(e,n,1),Ce(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)be(~r);else{const i=r,s=n[++t],o=n[++t];oe(s,i),o(2,e[i])}}}finally{be(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ts(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&as(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Te(e,n)}else{const n=t.viewHooks;null!==n&&Ee(e,n,2),Ce(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{ye()}}function Li(t,e,n,r){const i=e[10],s=!te(),o=Ut(e);try{s&&!o&&i.begin&&i.begin(),o&&Ni(t,e,r),Di(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ji(t,e,n,r,i){const s=ve(),o=2&r;try{be(-1),o&&e.length>ht&&_i(t,e,ht,te()),n(r,i)}finally{be(s)}}function Mi(t,e,n){Qt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ze(n,e),Ar(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=vt(r);s&&Yi(e,n,r);const u=tn(e,t,a,n);Ar(u,e),null!==o&&Xi(0,a-i,u,r,0,o),s&&(Rt(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ht.lFrame.currentDirectiveIndex;try{be(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ae(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Qi(r,i)}}finally{be(-1),ae(o)}}(t,e,n))}function Ri(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Fi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ui(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:bi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Bi(t,e,n,r){const i=cs(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ls(t).push(r,i.length-1))}function Vi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function zi(t,e,n,r,i,s,o,a){const u=Lt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ds(t,n,c,r,i),mt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(u,r,i):De(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function qi(t,e,n,r){let i=!1;if(Qt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];gi(n,o.selectors,!1)&&(i||(i=[]),$e(ze(n,e),t,o.type),vt(o)?($i(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Wi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Pi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Le(n.mergedAttrs,c.hostAttrs),Ki(t,n,e,u,c),Gi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||li(e)?null:Zi(n,i);s.push(c),o=Vi(n,u,o),a=Vi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Le(n.mergedAttrs,n.attrs),i}function Hi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Qi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function $i(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vt(e)&&(n[""]=t)}}function Wi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ki(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new Ie(s,vt(i),null);t.blueprint[r]=o,n[r]=o,Hi(t,e,0,r,Pi(t,n,i.hostVars,bi),i)}function Yi(t,e,n){const r=Lt(e,t),i=Fi(n),s=t[10],o=rs(t,Ai(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Xi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Zi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ts(t,e){const n=Rt(e,t);if(Bt(n)){const t=n[1];80&n[2]?Di(t,n,t.template,n[8]):n[5]>0&&es(n)}}function es(t){for(let n=Mr(t);null!==n;n=Rr(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Di(t,e,t.template,e[8])}else e[5]>0&&es(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Bt(r)&&r[5]>0&&es(r)}}function ns(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ni(r,n,n[8])}function rs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function is(t){for(;t;){t[2]|=64;const e=jr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ss(t,e,n){const r=e[10];r.begin&&r.begin();try{Di(t,e,t.template,n)}catch(i){throw hs(e,i),i}finally{r.end&&r.end()}}function os(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ft(n),i=r[1];Li(i,r,i.template,n)}}(t[8])}function as(t,e,n){ce(0),e(t,n)}const us=(()=>Promise.resolve(null))();function cs(t){return t[7]||(t[7]=[])}function ls(t){return t.cleanup||(t.cleanup=[])}function hs(t,e){const n=t[9],r=n?n.get(kr,null):null;r&&r.handleError(e)}function ds(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function fs(t,e,n){const r=Dt(e,t);!function(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ps(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const gs=new ln("INJECTOR",-1);class ms{get(t,e=_n){if(e===_n){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const ys=new ln("Set Injector scope."),vs={},bs={},ws=[];let _s;function Ss(){return void 0===_s&&(_s=new ms),_s}function xs(t,e=null,n=null,r){return new Ts(t,n,e||Ss(),r)}class Ts{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&pn(e,n=>this.processProvider(n,t,e)),pn([t],t=>this.processInjectorType(t,[],i)),this.records.set(gs,Os(void 0,this));const s=this.records.get(ys);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_n,n=P.Default){this.assertNotDestroyed();const r=Cn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ln)&&T(t);e=n&&this.injectableDefInScope(n)?Os(Es(t),vs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?Ss():this.parent).get(t,e=n&P.Optional&&e===_n?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[xn]&&i.unshift(e[xn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Cn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{pn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];pn(r,t=>this.processProvider(t,n,r||ws))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,Os(a,vs));const u=r.providers;if(null!=u&&!o){const e=t;pn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=As(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return ks(t)?Os(void 0,t.useValue):Os(Cs(t),vs)}(t);if(As(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Os(void 0,vs,!0),e.factory=()=>An(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===vs&&(e.value=bs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Es(t){const e=T(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof ln)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=yn(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Cs(t,e,n){let r;if(As(t)){const e=m(t);return bt(e)||Es(e)}if(ks(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...An(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>kn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Es(e);r=()=>new e(...An(t.deps))}var i;return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ks(t){return null!==t&&"object"==typeof t&&Tn in t}function As(t){return"function"==typeof t}const Is=function(t,e,n){return function(t,e=null,n=null,r){const i=xs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ps=(()=>{class t{static create(t,e){return Array.isArray(t)?Is(t,e,""):Is(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_n,t.NULL=new ms,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>kn(gs)}),t.__NG_ELEMENT_ID__=-1,t})();function Ns(t,e){xe(Ft(t)[1],Kt())}function Ds(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(vt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ls(t.inputs),e.declaredInputs=Ls(t.declaredInputs),e.outputs=Ls(t.outputs);const n=i.hostBindings;n&&Rs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&js(t,s),o&&Ms(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),vt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ds&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Le(i.hostAttrs,n=Le(n,i.hostAttrs))}}(r)}function Ls(t){return t===q?{}:t===Q?[]:t}function js(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ms(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Rs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Fs=null;function Us(){if(!Fs){const t=z.Symbol;if(t&&t.iterator)Fs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Fs=n)}}}return Fs}class Bs{constructor(t){this.wrapped=t}static wrap(t){return new Bs(t)}static unwrap(t){return Bs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Bs}}function Vs(t){return!!zs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Us()in t)}function zs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qs(t,e,n){return t[e]=n}function Hs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qs(t,e,n,r){const i=Hs(t,e,n);return Hs(t,e+1,r)||i}function $s(t,e,n,r){const i=$t();return Hs(i,ie(),e)&&(Gt(),function(t,e,n,r,i,s){const o=Lt(t,e);!function(t,e,n,r,i,s,o){if(null==s)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?b(s):o(s,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(we(),i,t,e,n,r)),$s}function Gs(t,e,n,r){return Hs(t,ie(),n)?e+b(n)+r:bi}function Ws(t,e,n,r,i,s,o,a){const u=$t(),c=Gt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ii(e,t,4,o||null,Vt(c,a));qi(e,n,l,Vt(c,u)),xe(e,l);const h=l.tViews=Ui(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Xt(h,!1);const d=u[11].createComment("");Zr(c,u,d,h),Ar(d,u),rs(u,u[l]=Ji(d,u,d,h)),yt(h)&&Mi(c,u,h),null!=o&&Ri(u,h,a)}function Ks(t){return Mt(Ht.lFrame.contextLView,ht+t)}function Ys(t,e=P.Default){const n=$t();return null===n?kn(t,e):Ke(Kt(),n,m(t),e)}function Xs(t,e,n){const r=$t();return Hs(r,ie(),e)&&zi(Gt(),we(),r,t,e,r[11],n,!1),Xs}function Zs(t,e,n,r,i){const s=i?"class":"style";ds(t,n,e.inputs[s],s,r)}function Js(t,e,n,r){const i=$t(),s=Gt(),o=ht+t,a=i[11],u=i[o]=Br(a,e,Ht.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ii(e,t,2,i,Vt(a,s));return qi(e,n,u,Vt(a,o)),null!==u.attrs&&ps(u,u.attrs,!1),null!==u.mergedAttrs&&ps(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Xt(c,!0);const l=c.mergedAttrs;null!==l&&Pe(a,u,l);const h=c.classes;null!==h&&oi(a,u,h);const d=c.styles;null!==d&&si(a,u,d),64!=(64&c.flags)&&Zr(s,i,u,c),0===Ht.lFrame.elementDepthCount&&Ar(u,i),Ht.lFrame.elementDepthCount++,yt(c)&&(Mi(s,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&Ri(i,c)}function to(){let t=Kt();Zt()?Jt():(t=t.parent,Xt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(xe(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zs(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zs(n,e,$t(),e.stylesWithoutHost,!1)}function eo(t,e,n,r){Js(t,e,n,r),to()}function no(){return $t()}function ro(t){return!!t&&"function"==typeof t.then}function io(t){return!!t&&"function"==typeof t.subscribe}const so=io;function oo(t,e,n=!1,r){const i=$t(),s=Gt(),o=Kt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&ls(t),l=cs(e);let h=!0;if(3&r.type){const d=Lt(r,e),f=a?a(d):q,p=f.target||d,g=l.length,m=a?t=>a(Nt(t[r.index])).target:r.index;if(It(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=uo(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=uo(r,e,0,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=uo(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),oo}function ao(t,e,n,r){try{return!1!==n(r)}catch(i){return hs(t,i),!1}}function uo(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&is(o);let a=ao(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=ao(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function co(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function lo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?gi(t,s,!0):mi(r,s))return i}else n=i}return n}function ho(t){const e=$t()[16][6];if(!e.projection){const n=e.projection=yn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?lo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function fo(t,e=0,n){const r=$t(),i=Gt(),s=Ii(i,ht+t,16,null,n||null);null===s.projection&&(s.projection=e),Jt(),64!=(64&s.flags)&&function(t,e,n){ii(e[11],0,e,n,Qr(t,n,e),Yr(n.parent||e[6],n,e))}(i,r,s)}function po(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?xi(s):Ei(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];go(t[a],e)&&(u=!0,t[a+1]=r?Oi(n):Ti(n)),a=r?xi(n):Ei(n)}u&&(t[n+1]=r?Ti(s):Oi(s))}function go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wn(t,e)>=0}const mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yo(t){return t.substring(mo.key,mo.keyEnd)}function vo(t,e){const n=mo.textEnd;return n===e?-1:(e=mo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,mo.key=e,n),bo(t,e,n))}function bo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function wo(t,e,n){return To(t,e,n,!1),wo}function _o(t,e){return To(t,e,null,!0),_o}function So(t){Eo(vn,xo,t,!0)}function xo(t,e){for(let n=function(t){return function(t){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=t.length}(t),vo(t,bo(t,0,mo.textEnd))}(e);n>=0;n=vo(e,n))vn(t,yo(e),!0)}function To(t,e,n,r){const i=$t(),s=Gt(),o=se(2);s.firstUpdatePass&&Oo(s,t,o,r),e!==bi&&Hs(i,o,e)&&Io(s,s.data[ve()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=d(Hn(t)))),t}(e,n),r,o)}function Eo(t,e,n,r){const i=Gt(),s=se(2);i.firstUpdatePass&&Oo(i,null,s,r);const o=$t();if(n!==bi&&Hs(o,s,n)){const a=i.data[ve()];if(Do(a,r)&&!Co(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=f(t,n||"")),Zs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===bi&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Io(t,e,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=Hn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Co(t,e){return e>=t.expandoStartIndex}function Oo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ve()],o=Co(t,n);Do(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ao(n=ko(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ko(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ei(r))return t[xi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ko(null,t,e,n[1],r),n=Ao(n,e.attrs,r),function(t,e,n,r){t[xi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ao(r,t[s].hostAttrs,n);return Ao(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=xi(o),u=Ei(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||wn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=xi(t[a+1]);t[r+1]=Si(e,a),0!==e&&(t[e+1]=Ci(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Si(a,0),0!==a&&(t[a+1]=Ci(t[a+1],r)),a=r;else t[r+1]=Si(u,0),0===a?a=r:t[u+1]=Ci(t[u+1],r),u=r;l&&(t[r+1]=Ti(t[r+1])),po(t,c,r,!0),po(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&wn(s,e)>=0&&(n[r+1]=Oi(n[r+1]))}(e,c,t,r,s),o=Si(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ko(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ao(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ao(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Io(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];No(1==(1&c)?Po(u,e,n,i,Ei(c),o):void 0)||(No(s)||2==(2&c)&&(s=Po(u,null,n,i,a,o)),function(t,e,n,r,i){const s=It(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Dr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Dr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Dt(ve(),n),i,s))}function Po(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===bi&&(l=c?H:void 0);let h=c?bn(l,r):u===r?l:void 0;if(s&&!No(h)&&(h=bn(e,r)),No(h)&&(a=h,o))return a;const d=t[i+1];i=o?xi(d):Ei(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=bn(t,r))}return a}function No(t){return void 0!==t}function Do(t,e){return 0!=(t.flags&(e?16:32))}function Lo(t,e=""){const n=$t(),r=Gt(),i=t+ht,s=r.firstCreatePass?Ii(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return It(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Zr(r,n,o,s),Xt(s,!1)}function jo(t){return Mo("",t,""),jo}function Mo(t,e,n){const r=$t(),i=Gs(r,t,e,n);return i!==bi&&fs(r,ve(),i),Mo}function Ro(t,e,n,r,i){const s=$t(),o=function(t,e,n,r,i,s){const o=Qs(t,re(),n,i);return se(2),o?e+b(n)+r+b(i)+s:bi}(s,t,e,n,r,i);return o!==bi&&fs(s,ve(),o),Ro}function Fo(t,e,n){Eo(vn,xo,Gs($t(),t,e,n),!0)}function Uo(t,e,n){const r=$t();return Hs(r,ie(),e)&&zi(Gt(),we(),r,t,e,r[11],n,!0),Uo}const Bo=void 0;var Vo=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let zo={};function qo(t,e,n){"string"!=typeof e&&(n=e,e=t[Wo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),zo[e]=t,n&&(zo[e][Wo.ExtraData]=n)}function Ho(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Go(e);if(n)return n;const r=e.split("-")[0];if(n=Go(r),n)return n;if("en"===r)return Vo;throw new Error(`Missing locale data for the locale "${t}".`)}function Qo(t){return Ho(t)[Wo.CurrencyCode]||null}function $o(t){return Ho(t)[Wo.PluralCase]}function Go(t){return t in zo||(zo[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),zo[t]}var Wo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ko="en-US";let Yo=Ko;function Xo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Yo=t.toLowerCase().replace(/_/g,"-"))}function Zo(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)Zo(t[s],e,n,r,i);else{const s=Gt(),o=$t();let a=As(t)?t:m(t.provide),u=Cs(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(As(t)||!t.multi){const r=new Ie(u,i,Ys),f=ea(a,e,i?l:l+d,h);-1===f?($e(ze(c,o),s,a),Jo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ea(a,e,l+d,h),p=ea(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){$e(ze(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ie(t,n,Ys);return s.multi=[],s.index=e,s.componentProviders=0,ta(s,i,r&&!n),s}(i?ra:na,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Jo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Jo(s,t,f>-1?f:p,ta(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Jo(t,e,n,r){const i=As(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ta(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ea(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function na(t,e,n,r){return ia(this.multi,[])}function ra(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ia(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ia(i,s);return s}function ia(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function sa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=vt(t);Zo(n,r.data,r.blueprint,i,!0),Zo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class oa{}class aa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ua=(()=>{class t{}return t.NULL=new aa,t})();function ca(...t){}function la(t,e){return new da(Lt(t,e))}const ha=function(){return la(Kt(),$t())};let da=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ha,t})();function fa(t){return t instanceof da?t.nativeElement:t}class pa{}let ga=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ma(),t})();const ma=function(){const t=$t(),e=Rt(Kt().index,t);return function(t){return t[11]}(ft(e)?e:t)};let ya=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class va{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ba=new va("11.2.14");class wa{constructor(){}supports(t){return Vs(t)}create(t){return new Sa(t)}}const _a=(t,e)=>e;class Sa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_a}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ca(n,r,i)?e:n,o=Ca(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Vs(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Us()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new xa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ea),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ea),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ta{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ea{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ta,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Oa{constructor(){}supports(t){return t instanceof Map||zs(t)}create(){return new ka}}class ka{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||zs(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Aa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Aa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ia(){return new Pa([new wa])}let Pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ia()),deps:[[t,new Dn,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:Ia}),t})();function Na(){return new Da([new Oa])}let Da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Na()),deps:[[t,new Dn,new Nn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:Na}),t})();function La(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Nt(s)),pt(s))for(let t=dt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&La(e[1],e,n,r)}const o=n.type;if(8&o)La(t,e,n.child,r);else if(32&o){const t=Lr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=ti(e,n);if(Array.isArray(t))r.push(...t);else{const n=jr(e[16]);La(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ja{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return La(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(zr(t,n),mn(e,n))}this._attachedToViewContainer=!1}qr(this._lView[1],this._lView)}onDestroy(t){Bi(this._lView[1],this._lView,null,t)}markForCheck(){is(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ss(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{ss(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ri(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ma extends ja{constructor(t){super(t),this._view=t}detectChanges(){os(this._view)}checkNoChanges(){!function(t){ee(!0);try{os(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Ra=Ua;let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t.__ChangeDetectorRef__=!0,t})();function Ua(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Rt(t.index,e);return new ja(n,n)}return 47&t.type?new ja(e[16],e):null}(Kt(),$t(),t)}const Ba=[new Oa],Va=new Pa([new wa]),za=new Da(Ba),qa=function(){return Ga(Kt(),$t())};let Ha=(()=>{class t{}return t.__NG_ELEMENT_ID__=qa,t})();const Qa=Ha,$a=class extends Qa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ai(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ni(e,n,t),new ja(n)}};function Ga(t,e){return 4&t.type?new $a(e,t,la(t,e)):null}class Wa{}class Ka{}const Ya=function(){return nu(Kt(),$t())};let Xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ya,t})();const Za=Xa,Ja=class extends Za{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new rn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qe(this._hostTNode,this._hostLView);if(Me(t)){const e=Fe(t,this._hostLView),n=Re(t);return new rn(e[1].data[n+8],e)}return new rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=tu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Wa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ja(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=dt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-dt?(e[4]=n[i],gn(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=ei(i,s),a=n[11],u=Kr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ri(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),gn(eu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=tu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);n&&(mn(eu(this._lContainer),e),qr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=zr(this._lContainer,e);return n&&null!=mn(eu(this._lContainer),e)?new ja(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function tu(t){return t[8]}function eu(t){return t[8]||(t[8]=[])}function nu(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);$r(n,Kr(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ji(r,e,i,t),rs(e,n)}return new Ja(n,t,e)}const ru={};class iu extends ua{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new au(e,this.ngModule)}}function su(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ou=new ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class au extends oa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(vi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return su(this.componentDef.inputs)}get outputs(){return su(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ru,i);return s!==ru||r===ru?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(pa,Pt),o=i.get(ya,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===R.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Br(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?Ct:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:us,playerHandler:null,flags:0},d=Ui(0,null,null,1,0,null,null,null,null,null),f=Ai(null,d,h,l,null,null,s,a,o,i);let p,g;de(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ii(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ps(a,u,!0),null!==t&&(Pe(i,t,u),null!==a.classes&&oi(i,t,a.classes),null!==a.styles&&si(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ai(n,Fi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&($e(ze(a,n),o,e.type),$i(o,a),Wi(a,n.length,1)),rs(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Pe(a,c,["ng-version",ba.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!fi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Pe(a,c,t),e&&e.length>0&&oi(a,c,e.join(" "))}if(g=jt(d,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ki(t,r,e,Pi(t,e,1,null),n));const i=tn(e,t,r.directiveStart,r);Ar(i,e);const s=Lt(r,e);return s&&Ar(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(be(a.index),Hi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Qi(e,o)),o}(t,this.componentDef,f,h,[Ns]),Ni(d,f,null)}finally{ye()}return new uu(this.componentType,p,la(g,f),f,g)}}class uu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ma(r),this.componentType=t}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const cu=new Map;class lu extends Wa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iu(this);const n=lt(t),r=t[Y]||null;r&&Xo(r),this._bootstrapComponents=Nr(n.bootstrap),this._r3Injector=xs(t,e,[{provide:Wa,useValue:this},{provide:ua,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ps.THROW_IF_NOT_FOUND,n=P.Default){return t===Ps||t===Wa||t===gs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class hu extends Ka{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,cu.get(i),n),cu.set(i,n));const s=Nr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new lu(this.moduleType,t)}}function du(t,e,n){const r=ne()+t,i=$t();return i[r]===bi?qs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function fu(t,e,n,r){return yu($t(),ne(),t,e,n,r)}function pu(t,e,n,r,i){return vu($t(),ne(),t,e,n,r,i)}function gu(t,e,n,r,i,s){return bu($t(),ne(),t,e,n,r,i,s)}function mu(t,e){const n=t[e];return n===bi?void 0:n}function yu(t,e,n,r,i,s){const o=e+n;return Hs(t,o,i)?qs(t,o+1,s?r.call(s,i):r(i)):mu(t,o+1)}function vu(t,e,n,r,i,s,o){const a=e+n;return Qs(t,a,i,s)?qs(t,a+2,o?r.call(o,i,s):r(i,s)):mu(t,a+2)}function bu(t,e,n,r,i,s,o,a){const u=e+n;return function(t,e,n,r,i){const s=Qs(t,e,n,r);return Hs(t,e+2,i)||s}(t,u,i,s,o)?qs(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):mu(t,u+3)}function wu(t,e){const n=Gt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=D(Ys);try{const t=Be(!1),e=s();return Be(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,$t(),i,e),e}finally{D(o)}}function _u(t,e,n){const r=t+ht,i=$t(),s=Mt(i,r);return Eu(i,Tu(i,r)?yu(i,ne(),e,s.transform,n,s):s.transform(n))}function Su(t,e,n,r){const i=t+ht,s=$t(),o=Mt(s,i);return Eu(s,Tu(s,i)?vu(s,ne(),e,o.transform,n,r,o):o.transform(n,r))}function xu(t,e,n,r,i){const s=t+ht,o=$t(),a=Mt(o,s);return Eu(o,Tu(o,s)?bu(o,ne(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function Tu(t,e){return t[1].data[e].pure}function Eu(t,e){return Bs.isWrapped(e)&&(e=Bs.unwrap(e),t[re()]=bi),e}function Cu(t){return e=>{setTimeout(t,void 0,e)}}const Ou=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Cu(u),a&&(a=Cu(a)),c&&(c=Cu(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.a&&t.add(l),l}};function ku(){return this._results[Us()]()}class Au{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Us(),n=Au.prototype;n[e]||(n[e]=ku)}get changes(){return this._changes||(this._changes=new Ou)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=fn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Iu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Iu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Pu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Qu(t,e).matches&&this.queries[e].setDirty()}}class Nu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Du{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Du(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Lu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Lu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,ju(e,i)),this.matchTNodeWithReadOption(t,e,Je(e,t,i,!1,!1))}else n===Ha?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===da||r===Xa||r===Ha&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ju(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Mu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?la(t,e):4&t.type?Ga(t,e):null}(e,t):-2===n?function(t,e,n){return n===da?la(e,t):n===Ha?Ga(e,t):n===Xa?nu(e,t):void 0}(t,e,r):tn(t,t[1],n,e)}function Ru(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Mu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Fu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ru(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=dt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Fu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Fu(n[1],n,i,r)}}}}}return r}function Uu(t){const e=$t(),n=Gt(),r=ue();ce(r+1);const i=Qu(n,r);if(t.dirty&&Ut(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Fu(n,e,r,[]):Ru(n,e,i,r);t.reset(s,fa),t.notifyOnChanges()}return!0}return!1}function Bu(t,e,n){const r=Gt();r.firstCreatePass&&(Hu(r,new Nu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),qu(r,$t(),e)}function Vu(t,e,n,r){const i=Gt();if(i.firstCreatePass){const s=Kt();Hu(i,new Nu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}qu(i,$t(),n)}function zu(){return t=$t(),e=ue(),t[19].queries[e].queryList;var t,e}function qu(t,e,n){const r=new Au(4==(4&n));Bi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Pu),e[19].queries.push(new Iu(r))}function Hu(t,e,n){null===t.queries&&(t.queries=new Du),t.queries.track(new Lu(e,n))}function Qu(t,e){return t.queries.getByIndex(e)}function $u(t,e){return Ga(t,e)}function Gu(t=P.Default){const e=Ua(!0);if(null!=e||t&P.Optional)return e;_("ChangeDetectorRef")}const Wu=new ln("Application Initializer");let Ku=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ca,this.reject=ca,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ro(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(kn(Wu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Yu=new ln("AppId"),Xu={provide:Yu,useFactory:function(){return`${Zu()}${Zu()}${Zu()}`},deps:[]};function Zu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ju=new ln("Platform Initializer"),tc=new ln("Platform ID"),ec=new ln("appBootstrapListener");let nc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const rc=new ln("LocaleId"),ic=new ln("DefaultCurrencyCode");class sc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const oc=function(t){return new hu(t)},ac=oc,uc=function(t){return Promise.resolve(oc(t))},cc=function(t){const e=oc(t),n=Nr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new au(n)),t},[]);return new sc(e,n)},lc=cc,hc=function(t){return Promise.resolve(cc(t))};let dc=(()=>{class t{constructor(){this.compileModuleSync=ac,this.compileModuleAsync=uc,this.compileModuleAndAllComponentsSync=lc,this.compileModuleAndAllComponentsAsync=hc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const fc=(()=>Promise.resolve(0))();function pc(t){"undefined"==typeof Zone?fc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class gc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ou(!1),this.onMicrotaskEmpty=new Ou(!1),this.onStable=new Ou(!1),this.onError=new Ou(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vc(t),yc(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return bc(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),wc(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return bc(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vc(t),yc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(gc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,mc,ca,ca);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const mc={};function yc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function bc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wc(t){t._nesting--,yc(t)}class _c{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ou,this.onMicrotaskEmpty=new Ou,this.onStable=new Ou,this.onError=new Ou}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Sc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gc.assertNotInAngularZone(),pc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(kn(gc))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),xc=(()=>{class t{constructor(){this._applications=new Map,Oc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Oc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class Tc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ec(t){Oc=t}let Cc,Oc=new Tc,kc=!0,Ac=!1;function Ic(){return Ac=!0,kc}function Pc(){if(Ac)throw new Error("Cannot enable prod mode after platform setup.");kc=!1}const Nc=new ln("AllowMultipleToken");class Dc{constructor(t,e){this.name=t,this.token=e}}function Lc(t,e,n=[]){const r=`Platform: ${e}`,i=new ln(r);return(e=[])=>{let s=jc();if(!s||s.injector.get(Nc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ys,useValue:"platform"});!function(t){if(Cc&&!Cc.destroyed&&!Cc.injector.get(Nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cc=t.get(Mc);const e=t.get(Ju,null);e&&e.forEach(t=>t())}(Ps.create({providers:t,name:r}))}return function(t){const e=jc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function jc(){return Cc&&!Cc.destroyed?Cc:null}let Mc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new _c:("zone.js"===t?void 0:t)||new gc({enableLongStackTrace:Ic(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:gc,useValue:n}];return n.run(()=>{const e=Ps.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(kr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Uc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ro(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Ku);return t.runInitializers(),t.donePromise.then(()=>(Xo(i.injector.get(rc,Ko)||Ko),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Rc({},e);return function(t,e,n){const r=new hu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(kn(Ps))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Rc(t,e){return Array.isArray(e)?e.reduce(Rc,t):Object.assign(Object.assign({},t),e)}let Fc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{gc.assertNotInAngularZone(),pc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{gc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof oa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Wa),i=n.create(Ps.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Sc,null),a=o&&i.injector.get(xc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Uc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Uc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ec,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(kn(gc),kn(Ps),kn(kr),kn(ua),kn(Ku))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Uc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Bc{}class Vc{}const zc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||zc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Hc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Hc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(kn(dc),kn(Vc,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Hc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Qc=function(t){return null},$c=Lc(null,"core",[{provide:tc,useValue:"unknown"},{provide:Mc,deps:[Ps]},{provide:xc,deps:[]},{provide:nc,deps:[]}]),Gc=[{provide:Fc,useClass:Fc,deps:[gc,Ps,kr,ua,Ku]},{provide:ou,deps:[gc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ku,useClass:Ku,deps:[[new Nn,Wu]]},{provide:dc,useClass:dc,deps:[]},Xu,{provide:Pa,useFactory:function(){return Va},deps:[]},{provide:Da,useFactory:function(){return za},deps:[]},{provide:rc,useFactory:function(t){return Xo(t=t||"undefined"!=typeof $localize&&$localize.locale||Ko),t},deps:[[new Pn(rc),new Nn,new Dn]]},{provide:ic,useValue:"USD"}];let Wc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(kn(Fc))},t.\u0275mod=it({type:t}),t.\u0275inj=x({providers:Gc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function a(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function h(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return S}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return A}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return s}),n.d(e,"j",function(){return o}),n.d(e,"k",function(){return I}),n.d(e,"l",function(){return c}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g}),n.d(e,"p",function(){return m}),n.d(e,"q",function(){return v}),n.d(e,"r",function(){return l}),n.d(e,"s",function(){return h}),n.d(e,"t",function(){return p}),n.d(e,"u",function(){return y}),n.d(e,"v",function(){return b});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}function v(){return"indexedDB"in self&&null!=indexedDB}function b(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})}function w(){return!(!navigator||!navigator.cookieEnabled)}var _=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,S.prototype.create),s}return Object(r.d)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?x(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new _(i,a,r);return u},t}();function x(t,e){return t.replace(T,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var T=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=k),void 0===r.error&&(r.error=k),void 0===r.complete&&(r.complete=k);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function k(){}function A(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function I(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return O}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return E}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return m}),n.d(e,"k",function(){return x});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.r("angularfire2.app.options"),b=new u.r("angularfire2.app.nameOrConfig");class w{}const _=new u.P("6.1.5");function S(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&T("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const x=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:w,useFactory:S,deps:[v,u.A,[new u.B,b]]};let O=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(u.C))},t.\u0275mod=u.Lb({type:t}),t.\u0275inj=u.Kb({providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.i)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.f)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.j)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.j)(e,t)},createSubscribe:o.h,ErrorFactory:o.b,deepExtend:o.j}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.m)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.s)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Ub)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=Object(r.Jb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Ub)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Ub)(o).location;return new b(Object(r.Ub)(a),e&&e.origin||"")}const v=new r.r("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(v,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(v,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(m),r.Ub(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Jb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new _(Object(r.Ub)(m),Object(r.Ub)(a))}function x(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),C=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),O=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),A=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){return M(Object(r.kb)(t)[r.ab.DateFormat],e)}function P(t,e){return M(Object(r.kb)(t)[r.ab.TimeFormat],e)}function N(t,e){return M(Object(r.kb)(t)[r.ab.DateTimeFormat],e)}function D(t,e){const n=Object(r.kb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.ab.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.ab.NumberSymbols][A.Group]}return i}const L=r.nb;function j(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function M(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function R(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const F=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,U={},B=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var V=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),z=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),q=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function H(t,e,n,r){let i=function(t){if(rt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Q(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(F))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(n)}const e=new Date(t);if(!rt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=$(n,e)||e;let s,o=[];for(;e;){if(s=B.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=nt(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(nt(e,r)-r))}(i,r));let u="";return o.forEach(t=>{const e=function(t){if(et[t])return et[t];let e;switch(t){case"G":case"GG":case"GGG":e=Y(q.Eras,O.Abbreviated);break;case"GGGG":e=Y(q.Eras,O.Wide);break;case"GGGGG":e=Y(q.Eras,O.Narrow);break;case"y":e=K(z.FullYear,1,0,!1,!0);break;case"yy":e=K(z.FullYear,2,0,!0,!0);break;case"yyy":e=K(z.FullYear,3,0,!1,!0);break;case"yyyy":e=K(z.FullYear,4,0,!1,!0);break;case"Y":e=tt(1);break;case"YY":e=tt(2,!0);break;case"YYY":e=tt(3);break;case"YYYY":e=tt(4);break;case"M":case"L":e=K(z.Month,1,1);break;case"MM":case"LL":e=K(z.Month,2,1);break;case"MMM":e=Y(q.Months,O.Abbreviated);break;case"MMMM":e=Y(q.Months,O.Wide);break;case"MMMMM":e=Y(q.Months,O.Narrow);break;case"LLL":e=Y(q.Months,O.Abbreviated,C.Standalone);break;case"LLLL":e=Y(q.Months,O.Wide,C.Standalone);break;case"LLLLL":e=Y(q.Months,O.Narrow,C.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=K(z.Date,1);break;case"dd":e=K(z.Date,2);break;case"E":case"EE":case"EEE":e=Y(q.Days,O.Abbreviated);break;case"EEEE":e=Y(q.Days,O.Wide);break;case"EEEEE":e=Y(q.Days,O.Narrow);break;case"EEEEEE":e=Y(q.Days,O.Short);break;case"a":case"aa":case"aaa":e=Y(q.DayPeriods,O.Abbreviated);break;case"aaaa":e=Y(q.DayPeriods,O.Wide);break;case"aaaaa":e=Y(q.DayPeriods,O.Narrow);break;case"b":case"bb":case"bbb":e=Y(q.DayPeriods,O.Abbreviated,C.Standalone,!0);break;case"bbbb":e=Y(q.DayPeriods,O.Wide,C.Standalone,!0);break;case"bbbbb":e=Y(q.DayPeriods,O.Narrow,C.Standalone,!0);break;case"B":case"BB":case"BBB":e=Y(q.DayPeriods,O.Abbreviated,C.Format,!0);break;case"BBBB":e=Y(q.DayPeriods,O.Wide,C.Format,!0);break;case"BBBBB":e=Y(q.DayPeriods,O.Narrow,C.Format,!0);break;case"h":e=K(z.Hours,1,-12);break;case"hh":e=K(z.Hours,2,-12);break;case"H":e=K(z.Hours,1);break;case"HH":e=K(z.Hours,2);break;case"m":e=K(z.Minutes,1);break;case"mm":e=K(z.Minutes,2);break;case"s":e=K(z.Seconds,1);break;case"ss":e=K(z.Seconds,2);break;case"S":e=K(z.FractionalSeconds,1);break;case"SS":e=K(z.FractionalSeconds,2);break;case"SSS":e=K(z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(V.Short);break;case"ZZZZZ":e=X(V.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(V.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(V.Long);break;default:return null}return et[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Q(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function $(t,e){const n=function(t){return Object(r.kb)(t)[r.ab.LocaleId]}(t);if(U[n]=U[n]||{},U[n][e])return U[n][e];let i="";switch(e){case"shortDate":i=I(t,k.Short);break;case"mediumDate":i=I(t,k.Medium);break;case"longDate":i=I(t,k.Long);break;case"fullDate":i=I(t,k.Full);break;case"shortTime":i=P(t,k.Short);break;case"mediumTime":i=P(t,k.Medium);break;case"longTime":i=P(t,k.Long);break;case"fullTime":i=P(t,k.Full);break;case"short":const e=$(t,"shortTime"),n=$(t,"shortDate");i=G(N(t,k.Short),[e,n]);break;case"medium":const r=$(t,"mediumTime"),s=$(t,"mediumDate");i=G(N(t,k.Medium),[r,s]);break;case"long":const o=$(t,"longTime"),a=$(t,"longDate");i=G(N(t,k.Long),[o,a]);break;case"full":const u=$(t,"fullTime"),c=$(t,"fullDate");i=G(N(t,k.Full),[u,c])}return i&&(U[n][e]=i),i}function G(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function W(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function K(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case z.FullYear:return e.getFullYear();case z.Month:return e.getMonth();case z.Date:return e.getDate();case z.Hours:return e.getHours();case z.Minutes:return e.getMinutes();case z.Seconds:return e.getSeconds();case z.FractionalSeconds:return e.getMilliseconds();case z.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===z.Hours)0===a&&-12===n&&(a=12);else if(t===z.FractionalSeconds)return u=e,W(a,3).substr(0,u);var u;const c=D(o,A.MinusSign);return W(a,e,c,r,i)}}function Y(t,e,n=C.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case q.Months:return function(t,e,n){const i=Object(r.kb)(t),s=M([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return M(s,n)}(e,s,i)[t.getMonth()];case q.Days:return function(t,e,n){const i=Object(r.kb)(t),s=M([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return M(s,n)}(e,s,i)[t.getDay()];case q.DayPeriods:const a=t.getHours(),u=t.getMinutes();if(o){const t=function(t){const e=Object(r.kb)(t);return j(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?R(t):[R(t[0]),R(t[1])])}(e),n=function(t,e,n){const i=Object(r.kb)(t);j(i);const s=M([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return M(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&u>=e.minutes,i=a<n.hours||a===n.hours&&u<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===u)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.kb)(t),s=M([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return M(s,n)}(e,s,i)[a<12?0:1];case q.Eras:return function(t,e){return M(Object(r.kb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function X(t){return function(e,n,r){const i=-1*r,s=D(n,A.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case V.Short:return(i>=0?"+":"")+W(o,2,s)+W(Math.abs(i%60),2,s);case V.ShortGMT:return"GMT"+(i>=0?"+":"")+W(o,1,s);case V.Long:return"GMT"+(i>=0?"+":"")+W(o,2,s)+":"+W(Math.abs(i%60),2,s);case V.Extended:return 0===r?"Z":(i>=0?"+":"")+W(o,2,s)+":"+W(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return Q(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=Q(t,0,1).getDay();return Q(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return W(i,t,D(r,A.MinusSign))}}function tt(t,e=!1){return function(n,r){return W(Z(n).getFullYear(),t,D(r,A.MinusSign),e)}}const et={};function nt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function rt(t){return t instanceof Date&&!isNaN(t.valueOf())}const it=/^(\d+)?\.((\d+)(-(\d+))?)?$/,st=".",ot="0";function at(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ut{}let ct=(()=>{class t extends ut{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(L(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.v))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function lt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class ht{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ht(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ft(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new ft(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.Q),r.Nb(r.L),r.Nb(r.t))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ft{constructor(t,e){this.record=t,this.view=e}}let pt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.Q),r.Nb(r.L))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class gt{constructor(){this.$implicit=null,this.ngIf=null}}function mt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let yt=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.u),r.Nb(r.E))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),vt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.Q))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.zb]}),t})();function bt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.wb)(t)}'`)}let wt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return H(e,n,i||this.locale,r)}catch(s){throw bt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.v))},t.\u0275pipe=r.Mb({name:"date",type:t,pure:!0}),t})(),_t=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(st))>-1&&(o=o.replace(st,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===ot;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===ot;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(it);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=at(e)),null!=n&&(h=at(n)),null!=r?d=at(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(D(n,r)),m.length&&(a+=D(n,i)+m.join("")),g&&(a+=D(n,A.Exponential)+"+"+g)}else a=D(n,A.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(st)?i.split(st):[i.substring(0,i.lastIndexOf(ot)+1),i.substring(i.lastIndexOf(ot)+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===ot?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.kb)(t)[r.ab.NumberFormats][e]}(e,T.Decimal),D(e,A.MinusSign)),e,A.Group,A.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(s){throw bt(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.v))},t.\u0275pipe=r.Mb({name:"number",type:t,pure:!0}),t})(),St=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw bt(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Mb({name:"slice",type:t,pure:!1}),t})(),xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[{provide:ut,useClass:ct}]}),t})();function Tt(t){return"browser"===t}function Et(t){return"server"===t}let Ct=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new Ot(Object(r.Ub)(o),window)}),t})();class Ot{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=kt(this.window.history)||kt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function kt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class At extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new At,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Pt||(Pt=document.querySelector("base"),Pt)?Pt.getAttribute("href"):null;return null==e?null:(n=e,It||(It=document.createElement("a")),It.setAttribute("href",n),"/"===It.pathname.charAt(0)?It.pathname:"/"+It.pathname);var n}resetBaseElement(){Pt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return lt(document.cookie,t)}}let It,Pt=null;const Nt=new r.r("TRANSITION_ID"),Dt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Nt,o,r.s],multi:!0}];class Lt{static init(){Object(r.X)(new Lt)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const jt=new r.r("EventManagerPlugins");let Mt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(jt),r.Ub(r.A))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class Rt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ft=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Ut=(()=>{class t extends Ft{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Bt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bt))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function Bt(t){s().remove(t)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zt=/%COMP%/g;function qt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?qt(t,i,n):(i=i.replace(zt,t),n.push(i))}return n}function Ht(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $t(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Gt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new Wt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=qt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Mt),r.Ub(Ut),r.Ub(r.c))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class $t{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Vt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Vt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Vt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ht(n)):this.eventManager.addEventListener(t,e,Ht(n))}}class Gt extends $t{constructor(t,e,n,r){super(t),this.component=n;const i=qt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(zt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(zt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Wt extends $t{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=qt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Kt=(()=>{class t extends Rt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Yt=["alt","control","meta","shift"],Xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Jt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let te=(()=>{class t extends Rt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Yt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Zt.hasOwnProperty(e)&&(e=Zt[e]))}return Xt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Yt.forEach(r=>{r!=n&&(0,Jt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ee=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){At.makeCurrent(),Lt.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],ne=Object(r.S)(r.W,"browser",ee),re=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:jt,useClass:Kt,multi:!0,deps:[o,r.A,r.C]},{provide:jt,useClass:te,multi:!0,deps:[o]},[],{provide:Qt,useClass:Qt,deps:[Mt,Ut,r.c]},{provide:r.F,useExisting:Qt},{provide:Ft,useExisting:Ut},{provide:Ut,useClass:Ut,deps:[o]},{provide:r.M,useClass:r.M,deps:[r.A]},{provide:Mt,useClass:Mt,deps:[jt,r.A]},[]];let ie=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Nt,useExisting:r.c},Dt]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(t,12))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:re,imports:[xt,r.f]}),t})();function se(){return new oe(Object(r.Ub)(o))}let oe=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o))},t.\u0275prov=Object(r.Jb)({factory:se,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var ae=n("LRne"),ue=n("HDdC"),ce=n("5+tZ");function le(t,e){return Object(ce.a)(t,e,1)}var he=n("7o/Q");function de(t,e){return function(n){return n.lift(new fe(t,e))}}class fe{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new pe(t,this.predicate,this.thisArg))}}class pe extends he.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var ge=n("lJxs");class me{}class ye{}class ve{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ve?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ve;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ve?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class be{encodeKey(t){return we(t)}encodeValue(t){return we(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function we(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class _e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new be,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _e({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Se(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function xe(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Te(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ee{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new ve),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new _e,this.urlWithParams=e}serializeBody(){return null===this.body?null:Se(this.body)||xe(this.body)||Te(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Te(this.body)?null:xe(this.body)?this.body.type||null:Se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Ee(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Ce=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Oe{constructor(t,e=200,n="OK"){this.headers=t.headers||new ve,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ke extends Oe{constructor(t={}){super(t),this.type=Ce.ResponseHeader}clone(t={}){return new ke({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ae extends Oe{constructor(t={}){super(t),this.type=Ce.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ae({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ie extends Oe{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Pe(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ne=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Ee)r=t;else{let i,s;i=n.headers instanceof ve?n.headers:new ve(n.headers),n.params&&(s=n.params instanceof _e?n.params:new _e({fromObject:n.params})),r=new Ee(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(ae.a)(r).pipe(le(t=>this.handler.handle(t)));if(t instanceof Ee||"events"===n.observe)return i;const s=i.pipe(de(t=>t instanceof Ae));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(ge.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(ge.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(ge.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(ge.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new _e).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Pe(n,e))}post(t,e,n={}){return this.request("POST",t,Pe(n,e))}put(t,e,n={}){return this.request("PUT",t,Pe(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(me))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class De{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Le=new r.r("HTTP_INTERCEPTORS");let je=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Me=/^\)\]\}',?\n/;class Re{}let Fe=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Ue=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ue.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new ve(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new ke({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Me,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Ae({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Ie({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Ie({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Ce.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ce.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ce.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Re))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Be=new r.r("XSRF_COOKIE_NAME"),Ve=new r.r("XSRF_HEADER_NAME");class ze{}let qe=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=lt(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o),r.Ub(r.C),r.Ub(Be))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),He=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ze),r.Ub(Ve))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),Qe=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Le,[]);this.chain=t.reduceRight((t,e)=>new De(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(ye),r.Ub(r.s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),$e=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:He,useClass:je}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Be,useValue:e.cookieName}:[],e.headerName?{provide:Ve,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[He,{provide:Le,useExisting:He,multi:!0},{provide:ze,useClass:qe},{provide:Be,useValue:"XSRF-TOKEN"},{provide:Ve,useValue:"X-XSRF-TOKEN"}]}),t})(),Ge=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[Ne,{provide:me,useClass:Qe},Ue,{provide:ye,useExisting:Ue},Fe,{provide:Re,useExisting:Fe}],imports:[[$e.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var We=n("Cfvw"),Ke=n("XNiG"),Ye=n("9ppp");class Xe extends Ke.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ye.a;return this._value}next(t){super.next(this._value=t)}}var Ze=n("z+Ro"),Je=n("DH7j");class tn extends he.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class en extends he.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var nn=n("SeVD");function rn(t,e,n,r,i=new en(t,n,r)){if(!i.closed)return e instanceof ue.a?e.subscribe(i):Object(nn.a)(e)(i)}var sn=n("yCtX");const on={};function an(...t){let e,n;return Object(Ze.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Je.a)(t[0])&&(t=t[0]),Object(sn.a)(t,n).lift(new un(e))}class un{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new cn(t,this.resultSelector))}}class cn extends tn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(on),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(rn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===on?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ln=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var hn=n("bHdf");function dn(...t){return Object(hn.a)(1)(Object(ae.a)(...t))}var fn=n("EY2u");function pn(t){return new ue.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(We.a)(n):Object(fn.b)()).subscribe(e)})}var gn=n("EQ5u"),mn=n("zx2A");function yn(t,e){return"function"==typeof e?n=>n.pipe(yn((n,r)=>Object(We.a)(t(n,r)).pipe(Object(ge.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new vn(t))}class vn{constructor(t){this.project=t}call(t,e){return e.subscribe(new bn(t,this.project))}}class bn extends mn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new mn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(mn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const wn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function _n(t){return e=>0===t?Object(fn.b)():e.lift(new Sn(t))}class Sn{constructor(t){if(this.total=t,this.total<0)throw new wn}call(t,e){return e.subscribe(new xn(t,this.total))}}class xn extends he.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Tn(...t){const e=t[t.length-1];return Object(Ze.a)(e)?(t.pop(),n=>dn(t,n,e)):e=>dn(t,e)}function En(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Cn(t,e,n))}}class Cn{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new On(t,this.accumulator,this.seed,this.hasSeed))}}class On extends he.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function kn(t){return function(e){const n=new An(t),r=e.lift(n);return n.caught=r}}class An{constructor(t){this.selector=t}call(t,e){return e.subscribe(new In(t,this.selector,this.caught))}}class In extends mn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new mn.a(this);this.add(r);const i=Object(mn.c)(n,r);i!==r&&this.add(i)}}}function Pn(t){return function(e){return 0===t?Object(fn.b)():e.lift(new Nn(t))}}class Nn{constructor(t){if(this.total=t,this.total<0)throw new wn}call(t,e){return e.subscribe(new Dn(t,this.total))}}class Dn extends he.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ln(t=Rn){return e=>e.lift(new jn(t))}class jn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Mn(t,this.errorFactory))}}class Mn extends he.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(dw){t=dw}this.destination.error(t)}}}function Rn(){return new ln}function Fn(t=null){return e=>e.lift(new Un(t))}class Un{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Bn(t,this.defaultValue))}}class Bn extends he.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Vn=n("SpAZ");function zn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):Vn.a,_n(1),n?Fn(e):Ln(()=>new ln))}var qn=n("vkgz"),Hn=n("x+ZX"),Qn=n("quSY");class $n{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Gn(t,this.callback))}}class Gn extends he.a{constructor(t,e){super(t),this.add(new Qn.a(e))}}class Wn{constructor(t,e){this.id=t,this.url=e}}class Kn extends Wn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yn extends Wn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xn extends Wn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zn extends Wn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jn extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends Wn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nr extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends Wn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class or{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const hr="primary";class dr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fr(t){return new dr(t)}function pr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function gr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function mr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!yr(t[i],e[i]))return!1;return!0}function yr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function vr(t){return Array.prototype.concat.apply([],t)}function br(t){return t.length>0?t[t.length-1]:null}function wr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _r(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(We.a)(Promise.resolve(t)):Object(ae.a)(t)}function Sr(t,e,n){return n?function(t,e){return mr(t,e)}(t.queryParams,e.queryParams)&&xr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>yr(t[n],e[n]))}(t.queryParams,e.queryParams)&&Tr(t.root,e.root)}function xr(t,e){if(!Ar(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xr(t.children[n],e.children[n]))return!1}return!0}function Tr(t,e){return Er(t,e,e.segments)}function Er(t,e,n){if(t.segments.length>n.length)return!!Ar(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Ar(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Tr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Ar(t.segments,r)&&!!t.children.primary&&Er(t.children.primary,e,i)}}class Cr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return Nr.serialize(this)}}class Or{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dr(this)}}class kr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return Br(this)}}function Ar(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ir{}class Pr{parse(t){const e=new Qr(t);return new Cr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Lr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Mr(e)}=${Mr(t)}`).join("&"):`${Mr(e)}=${Mr(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Nr=new Pr;function Dr(t){return t.segments.map(t=>Br(t)).join("/")}function Lr(t,e){if(!t.hasChildren())return Dr(t);if(e){const e=t.children.primary?Lr(t.children.primary,!1):"",n=[];return wr(t.children,(t,e)=>{e!==hr&&n.push(`${e}:${Lr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return wr(t.children,(t,r)=>{r===hr&&(n=n.concat(e(t,r)))}),wr(t.children,(t,r)=>{r!==hr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===hr?[Lr(t.children.primary,!1)]:[`${n}:${Lr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Dr(t)}/${e[0]}`:`${Dr(t)}/(${e.join("//")})`}}function jr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mr(t){return jr(t).replace(/%3B/gi,";")}function Rr(t){return jr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fr(t){return decodeURIComponent(t)}function Ur(t){return Fr(t.replace(/\+/g,"%20"))}function Br(t){return`${Rr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Rr(t)}=${Rr(e[t])}`).join("")}`;var e}const Vr=/^[^\/()?;=#]+/;function zr(t){const e=t.match(Vr);return e?e[0]:""}const qr=/^[^=?&#]+/,Hr=/^[^?&#]+/;class Qr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Or([],{}):new Or([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Or(t,e)),n}parseSegment(){const t=zr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new kr(Fr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=zr(this.remaining);t&&(n=t,this.capture(n))}t[Fr(e)]=Fr(n)}parseQueryParam(t){const e=function(t){const e=t.match(qr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Hr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ur(e),i=Ur(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=zr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=hr);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Or([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class $r{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Gr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Wr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Wr(t,this._root).map(t=>t.value)}}function Gr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Gr(t,n);if(e)return e}return null}function Wr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Wr(t,n);if(r.length)return r.unshift(e),r}return[]}class Kr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Xr extends $r{constructor(t,e){super(t),this.snapshot=e,ri(this,t)}toString(){return this.snapshot.toString()}}function Zr(t,e){const n=function(t,e){const n=new ei([],{},{},"",{},hr,e,null,t.root,-1,{});return new ni("",new Kr(n,[]))}(t,e),r=new Xe([new kr("",{})]),i=new Xe({}),s=new Xe({}),o=new Xe({}),a=new Xe(""),u=new Jr(r,i,o,a,s,hr,e,n.root);return u.snapshot=n.root,new Xr(new Kr(u,[]),n)}class Jr{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ge.a)(t=>fr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ge.a)(t=>fr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ti(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ei{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ni extends $r{constructor(t,e){super(e),this.url=t,ri(this,e)}toString(){return ii(this._root)}}function ri(t,e){e.value._routerState=t,e.children.forEach(e=>ri(t,e))}function ii(t){const e=t.children.length>0?` { ${t.children.map(ii).join(", ")} } `:"";return`${t.value}${e}`}function si(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,mr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),mr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!mr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),mr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function oi(t,e){return mr(t.params,e.params)&&function(t,e){return Ar(t,e)&&t.every((t,n)=>mr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||oi(t.parent,e.parent))}function ai(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return ai(t,e,r);return ai(t,e)})}(t,e,n);return new Kr(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return ui(e,t),t}}const n=new Jr(new Xe((r=e.value).url),new Xe(r.params),new Xe(r.queryParams),new Xe(r.fragment),new Xe(r.data),r.outlet,r.component,r),i=e.children.map(e=>ai(t,e));return new Kr(n,i)}var r}function ui(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)ui(t.children[n],e.children[n])}function ci(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function li(t){return"object"==typeof t&&null!=t&&t.outlets}function hi(t,e,n,r,i){let s={};return r&&wr(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Cr(n.root===t?e:di(n.root,t,e),s,i)}function di(t,e,n){const r={};return wr(t.children,(t,i)=>{r[i]=t===e?n:di(t,e,n)}),new Or(t.segments,r)}class fi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ci(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(li);if(r&&r!==br(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function gi(t,e,n){if(t||(t=new Or([],{})),0===t.segments.length&&t.hasChildren())return mi(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(li(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!wi(a,u,e))return s;r+=2}else{if(!wi(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Or(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Or(t.segments.slice(r.pathIndex),t.children),mi(e,0,i)}return r.match&&0===i.length?new Or(t.segments,{}):r.match&&!t.hasChildren()?yi(t,e,n):r.match?mi(t,0,i):yi(t,e,n)}function mi(t,e,n){if(0===n.length)return new Or(t.segments,{});{const r=function(t){return li(t[0])?t[0].outlets:{[hr]:t}}(n),i={};return wr(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=gi(t.children[r],e,n))}),wr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Or(t.segments,i)}}function yi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(li(s)){const t=vi(s.outlets);return new Or(r,t)}if(0===i&&ci(n[0])){r.push(new kr(t.segments[e].path,bi(n[0]))),i++;continue}const o=li(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ci(a)?(r.push(new kr(o,bi(a))),i+=2):(r.push(new kr(o,{})),i++)}return new Or(r,{})}function vi(t){const e={};return wr(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=yi(new Or([],{}),0,t))}),e}function bi(t){const e={};return wr(t,(t,n)=>e[n]=`${t}`),e}function wi(t,e,n){return t==n.path&&mr(e,n.parameters)}class _i{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),si(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Yr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),wr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Yr(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Yr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new cr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ar(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(si(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Si(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Si(t){si(t.value),t.children.forEach(Si)}class xi{constructor(t,e){this.routes=t,this.module=e}}function Ti(t){return"function"==typeof t}function Ei(t){return t instanceof Cr}const Ci=Symbol("INITIAL_VALUE");function Oi(){return yn(t=>an(t.map(t=>t.pipe(_n(1),Tn(Ci)))).pipe(En((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ci)return t;if(r===Ci&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ei(r))return r}return t},t)},Ci),de(t=>t!==Ci),Object(ge.a)(t=>Ei(t)?t:!0===t),_n(1)))}let ki=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"router-outlet")},directives:function(){return[Ts]},encapsulation:2}),t})();function Ai(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ii(r,Pi(e,r))}}function Ii(t,e){t.children&&Ai(t.children,e)}function Pi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ni(t){const e=t.children&&t.children.map(Ni),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==hr&&(n.component=ki),n}function Di(t){return t.outlet||hr}function Li(t,e){const n=t.filter(t=>Di(t)===e);return n.push(...t.filter(t=>Di(t)!==e)),n}const ji={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Mi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ji):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gr)(n,t,e);if(!i)return Object.assign({},ji);const s={};wr(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ri(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Fi(t,e,n)&&Di(n)!==hr)}(t,n,r)){const i=new Or(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Di(s)!==hr){const n=new Or([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Di(s)]=n}return i}(t,e,r,new Or(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Fi(t,e,n))}(t,n,r)){const s=new Or(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Fi(t,n,a)&&!i[Di(a)]){const n=new Or([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Di(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Or(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Fi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ui(t,e,n,r){return!!(Di(t)===r||r!==hr&&Fi(e,n,t))&&("**"===t.path||Mi(e,t,n).matched)}function Bi(t,e,n){return 0===e.length&&!t.children[n]}class Vi{constructor(t){this.segmentGroup=t||null}}class zi{constructor(t){this.urlTree=t}}function qi(t){return new ue.a(e=>e.error(new Vi(t)))}function Hi(t){return new ue.a(e=>e.error(new zi(t)))}function Qi(t){return new ue.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class $i{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Ri(this.urlTree.root,[],[],this.config).segmentGroup,e=new Or(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,hr).pipe(Object(ge.a)(t=>this.createUrlTree(Gi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(kn(t=>{if(t instanceof zi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Vi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,hr).pipe(Object(ge.a)(e=>this.createUrlTree(Gi(e),t.queryParams,t.fragment))).pipe(kn(t=>{if(t instanceof Vi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Or([],{[hr]:t}):t;return new Cr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ge.a)(t=>new Or([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(We.a)(r).pipe(le(r=>{const i=n.children[r],s=Li(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(ge.a)(t=>({segment:t,outlet:r})))}),En((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?de((e,n)=>t(e,n,r)):Vn.a,Pn(1),n?Fn(e):Ln(()=>new ln))}())}expandSegment(t,e,n,r,i,s){return Object(We.a)(n).pipe(le(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(kn(t=>{if(t instanceof Vi)return Object(ae.a)(null);throw t}))),zn(t=>!!t),kn((t,n)=>{if(t instanceof ln||"EmptyError"===t.name){if(Bi(e,r,i))return Object(ae.a)(new Or([],{}));throw new Vi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ui(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):qi(e):qi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Hi(i):this.lineralizeSegments(n,i).pipe(Object(ce.a)(n=>{const i=new Or(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Mi(e,r,i);if(!o)return qi(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Hi(l):this.lineralizeSegments(r,l).pipe(Object(ce.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(ae.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ge.a)(t=>(n._loadedConfig=t,new Or(r,{})))):Object(ae.a)(new Or(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Mi(e,n,r);if(!s)return qi(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(ce.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=Ri(e,o,u,s),l=new Or(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(ge.a)(t=>new Or(o,t)));if(0===s.length&&0===c.length)return Object(ae.a)(new Or(o,{}));const h=Di(n)===i;return this.expandSegment(r,l,s,c,h?hr:i,!0).pipe(Object(ge.a)(t=>new Or(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ae.a)(new xi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ae.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ce.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ge.a)(t=>(e._loadedConfig=t,t))):function(t){return new ue.a(e=>e.error(pr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ae.a)(new xi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(ae.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&Ti(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Ti(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return _r(s)});return Object(ae.a)(i).pipe(Oi(),Object(qn.a)(t=>{if(!Ei(t))return;const e=pr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ge.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(ae.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Qi(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Cr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return wr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return wr(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Or(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Gi(t){const e={};for(const n of Object.keys(t.children)){const r=Gi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Or(t.segments.concat(e.segments),e.children)}return t}(new Or(t.segments,e))}class Wi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ki{constructor(t,e){this.component=t,this.route=e}}function Yi(t,e,n){const r=t._root;return Zi(r,e?e._root:null,n,[r.value])}function Xi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Zi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ar(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ar(t.url,e.url)||!mr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oi(t,e)||!mr(t.queryParams,e.queryParams);case"paramsChange":default:return!oi(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Wi(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Zi(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ki(a.outlet.component,o))}else o&&Ji(e,a,i),i.canActivateChecks.push(new Wi(r)),Zi(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),wr(s,(t,e)=>Ji(t,n.getContext(e),i)),i}function Ji(t,e,n){const r=Yr(t),i=t.value;wr(r,(t,r)=>{Ji(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ki(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class ts{}function es(t){return new ue.a(e=>e.error(t))}class ns{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Ri(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,hr);if(null===e)return null;const n=new ei([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},hr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Kr(n,e),i=new ni(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ti(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Li(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=is(n);return r.sort((t,e)=>t.value.outlet===hr?-1:e.value.outlet===hr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Bi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Ui(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?br(n).parameters:{};i=new ei(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,as(t),Di(t),t.component,t,ss(e),os(e)+n.length,us(t))}else{const r=Mi(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new ei(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,as(t),Di(t),t.component,t,ss(e),os(e)+s.length,us(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Ri(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Kr(i,t)]}if(0===a.length&&0===c.length)return[new Kr(i,[])];const l=Di(t)===r,h=this.processSegment(a,u,c,l?hr:r);return null===h?null:[new Kr(i,h)]}}function rs(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function is(t){const e=[],n=new Set;for(const r of t){if(!rs(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=is(r.children);e.push(new Kr(r.value,t))}return e.filter(t=>!n.has(t))}function ss(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function os(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function as(t){return t.data||{}}function us(t){return t.resolve||{}}function cs(t){return yn(e=>{const n=t(e);return n?Object(We.a)(n).pipe(Object(ge.a)(()=>e)):Object(ae.a)(e)})}class ls extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const hs=new r.r("ROUTES");class ds{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(ge.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new xi(vr(i.injector.get(hs,void 0,r.q.Self|r.q.Optional)).map(Ni),i)}),kn(t=>{throw e._loader$=void 0,t}));return e._loader$=new gn.a(n,()=>new Ke.a).pipe(Object(Hn.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(We.a)(this.loader.load(t)):_r(t()).pipe(Object(ce.a)(t=>t instanceof r.w?Object(ae.a)(t):Object(We.a)(this.compiler.compileModuleAsync(t))))}}class fs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ps,this.attachRef=null}}class ps{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new fs,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class gs{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ms(t){throw t}function ys(t,e,n){return e.parse("/")}function vs(t,e){return Object(ae.a)(null)}let bs=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ke.a,this.errorHandler=ms,this.malformedUriErrorHandler=ys,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vs,afterPreactivation:vs},this.urlHandlingStrategy=new gs,this.routeReuseStrategy=new ls,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.Y);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Cr(new Or([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ds(o,a,t=>this.triggerEvent(new ir(t)),t=>this.triggerEvent(new sr(t))),this.routerState=Zr(this.currentUrlTree,this.rootComponentType),this.transitions=new Xe({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(de(t=>0!==t.id),Object(ge.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),yn(t=>{let n=!1,r=!1;return Object(ae.a)(t).pipe(Object(qn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ae.a)(t).pipe(yn(t=>{const n=this.transitions.getValue();return e.next(new Kn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?fn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,yn(t=>function(t,e,n,r,i){return new $i(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(ge.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(qn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ce.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new ns(t,e,n,r,i,s).recognize();return null===o?es(new ts):Object(ae.a)(o)}catch(dw){return es(dw)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(ge.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(qn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Jn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Kn(n,this.serializeUrl(r),i,s);e.next(a);const u=Zr(r,this.rootComponentType).snapshot;return Object(ae.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),fn.a}),cs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(qn.a)(t=>{const e=new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ge.a)(t=>Object.assign(Object.assign({},t),{guards:Yi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ce.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(ae.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(We.a)(t).pipe(Object(ce.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(ae.a)(!0);const o=s.map(s=>{const o=Xi(s,e,i);let a;if(function(t){return t&&Ti(t.canDeactivate)}(o))a=_r(o.canDeactivate(t,e,n,r));else{if(!Ti(o))throw new Error("Invalid CanDeactivate guard");a=_r(o(t,e,n,r))}return a.pipe(zn())});return Object(ae.a)(o).pipe(Oi())}(t.component,t.route,n,e,r)),zn(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ce.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(We.a)(e).pipe(le(e=>dn(function(t,e){return null!==t&&e&&e(new or(t)),Object(ae.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ur(t)),Object(ae.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>pn(()=>{const i=e.guards.map(i=>{const s=Xi(i,e.node,n);let o;if(function(t){return t&&Ti(t.canActivateChild)}(s))o=_r(s.canActivateChild(r,t));else{if(!Ti(s))throw new Error("Invalid CanActivateChild guard");o=_r(s(r,t))}return o.pipe(zn())});return Object(ae.a)(i).pipe(Oi())}));return Object(ae.a)(i).pipe(Oi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(ae.a)(!0);const i=r.map(r=>pn(()=>{const i=Xi(r,e,n);let s;if(function(t){return t&&Ti(t.canActivate)}(i))s=_r(i.canActivate(e,t));else{if(!Ti(i))throw new Error("Invalid CanActivate guard");s=_r(i(e,t))}return s.pipe(zn())}));return Object(ae.a)(i).pipe(Oi())}(t,e.route,n))),zn(t=>!0!==t,!0))}(r,s,t,e):Object(ae.a)(n)),Object(ge.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(qn.a)(t=>{if(Ei(t.guardsResult)){const e=pr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),de(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Xn(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),cs(t=>{if(t.guards.canActivateChecks.length)return Object(ae.a)(t).pipe(Object(qn.a)(t=>{const e=new nr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),yn(t=>{let n=!1;return Object(ae.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ce.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(ae.a)(t);let s=0;return Object(We.a)(n).pipe(le(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(ae.a)({});const s={};return Object(We.a)(i).pipe(Object(ce.a)(i=>function(t,e,n,r){const i=Xi(t,e,r);return _r(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(qn.a)(t=>{s[i]=t}))),Pn(1),Object(ce.a)(()=>Object.keys(s).length===i.length?Object(ae.a)(s):fn.a))}(t._resolve,t,e,r).pipe(Object(ge.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ti(t,n).resolve),null)))}(t.route,e,r,i)),Object(qn.a)(()=>s++),Pn(1),Object(ce.a)(e=>s===n.length?Object(ae.a)(t):fn.a))})),Object(qn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Xn(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(qn.a)(t=>{const e=new rr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),cs(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ge.a)(t=>{const e=function(t,e,n){const r=ai(t,e._root,n?n._root:void 0);return new Xr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(qn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(ge.a)(t=>(new _i(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(qn.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Xn(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new $n(i))),kn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ei(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Xn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Zn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Rh){t.reject(Rh)}}var i;return fn.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ai(t),this.config=t.map(Ni),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return hi(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new fi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return wr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new fi(n,e,r)}(n);if(s.toRoot())return hi(e.root,new Or([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new pi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new pi(t,t===e.root,0)}const r=ci(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new pi(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?mi(o.segmentGroup,o.index,s.commands):gi(o.segmentGroup,o.index,s.commands);return hi(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ei(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(dw){e=this.malformedUriErrorHandler(dw,this.urlSerializer,t)}return e}isActive(t,e){if(Ei(t))return Sr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Sr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(Ir),r.Ub(ps),r.Ub(_),r.Ub(r.s),r.Ub(r.x),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),ws=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ke.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Ss(this.skipLocationChange),replaceUrl:Ss(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ss(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(bs),r.Nb(Jr),r.Vb("tabindex"),r.Nb(r.E),r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Xb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})(),_s=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Ke.a,this.subscription=t.events.subscribe(t=>{t instanceof Yn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Ss(this.skipLocationChange),replaceUrl:Ss(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ss(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(bs),r.Nb(Jr),r.Nb(m))},t.\u0275dir=r.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.sc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.zb]}),t})();function Ss(t){return""===t||!!t}let xs=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Yn&&this.update()})}ngAfterContentInit(){Object(ae.a)(this.links.changes,this.linksWithHrefs.changes,Object(ae.a)(null)).pipe(Object(hn.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(We.a)(e).pipe(Object(hn.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(bs),r.Nb(r.l),r.Nb(r.E),r.Nb(r.h),r.Nb(ws,8),r.Nb(_s,8))},t.\u0275dir=r.Ib({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Gb(n,ws,1),r.Gb(n,_s,1)),2&t){let t;r.nc(t=r.Yb())&&(e.links=t),r.nc(t=r.Yb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.zb]}),t})(),Ts=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||hr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Es(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(ps),r.Nb(r.Q),r.Nb(r.j),r.Vb("name"),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Es{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Jr?this.route:t===ps?this.childContexts:this.parent.get(t,e)}}class Cs{}class Os{preload(t,e){return Object(ae.a)(null)}}let ks=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ds(e,n,e=>t.triggerEvent(new ir(e)),e=>t.triggerEvent(new sr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(de(t=>t instanceof Yn),le(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(We.a)(n).pipe(Object(hn.a)(),Object(ge.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(ae.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(ce.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(bs),r.Ub(r.x),r.Ub(r.i),r.Ub(r.s),r.Ub(Cs))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),As=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Kn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof lr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new lr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(bs),r.Ub(Ct),r.Ub(void 0))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const Is=new r.r("ROUTER_CONFIGURATION"),Ps=new r.r("ROUTER_FORROOT_GUARD"),Ns=[_,{provide:Ir,useClass:Pr},{provide:bs,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new bs(null,t,e,n,r,i,o,vr(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Ir,ps,_,r.s,r.x,r.i,hs,Is,[class{},new r.B],[class{},new r.B]]},ps,{provide:Jr,useFactory:function(t){return t.routerState.root},deps:[bs]},{provide:r.x,useClass:r.K},ks,Os,class{preload(t,e){return e().pipe(kn(()=>Object(ae.a)(null)))}},{provide:Is,useValue:{enableTracing:!1}}];function Ds(){return new r.z("Router",bs)}let Ls=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ns,Fs(e),{provide:Ps,useFactory:Rs,deps:[[bs,new r.B,new r.J]]},{provide:Is,useValue:n||{}},{provide:m,useFactory:Ms,deps:[a,[new r.p(v),new r.B],Is]},{provide:As,useFactory:js,deps:[bs,Ct,Is]},{provide:Cs,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Os},{provide:r.z,multi:!0,useFactory:Ds},[Us,{provide:r.d,multi:!0,useFactory:Bs,deps:[Us]},{provide:zs,useFactory:Vs,deps:[Us]},{provide:r.b,multi:!0,useExisting:zs}]]}}static forChild(e){return{ngModule:t,providers:[Fs(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ps,8),r.Ub(bs,8))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})();function js(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new As(t,e,n)}function Ms(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function Rs(t){return"guarded"}function Fs(t){return[{provide:r.a,multi:!0,useValue:t},{provide:hs,multi:!0,useValue:t}]}let Us=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ke.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(bs),r=this.injector.get(Is);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(ae.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Is),n=this.injector.get(ks),i=this.injector.get(As),s=this.injector.get(bs),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function Bs(t){return t.appInitializer.bind(t)}function Vs(t){return t.bootstrapListener.bind(t)}const zs=new r.r("Router Initializer");var qs=n("D0XW");function Hs(){return t=>t.lift(new Qs)}class Qs{call(t,e){return e.subscribe(new $s(t))}}class $s extends he.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Gs(t,e){return n=>n.lift(new Ws(t,e))}class Ws{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ks(t,this.compare,this.keySelector))}}class Ks extends he.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ys=n("pxpQ"),Xs=n("spgP"),Zs=n("Jgta"),Js=n("zIRd"),to=n("qOnz"),eo=n("q/0M"),no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ro(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var io,so="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},oo=oo||{},ao=so||self;function uo(){}function co(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ho="closure_uid_"+(1e9*Math.random()>>>0),fo=0;function po(t,e,n){return t.call.apply(t.bind,arguments)}function go(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function mo(t,e,n){return(mo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?po:go).apply(null,arguments)}function yo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function vo(){return Date.now()}function bo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function wo(){this.j=this.j,this.i=this.i}wo.prototype.j=!1,wo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ho)&&t[ho]||(t[ho]=++fo)}(this)},wo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _o=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},So=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function xo(t){return Array.prototype.concat.apply([],arguments)}function To(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Eo(t){return/^[\s\xa0]*$/.test(t)}var Co,Oo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ko(t,e){return-1!=t.indexOf(e)}function Ao(t,e){return t<e?-1:t>e?1:0}t:{var Io=ao.navigator;if(Io){var Po=Io.userAgent;if(Po){Co=Po;break t}}Co=""}function No(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Do(t){var e={};for(var n in t)e[n]=t[n];return e}var Lo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Lo.length;s++)n=Lo[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mo(t){return Mo[" "](t),t}Mo[" "]=uo;var Ro,Fo,Uo=ko(Co,"Opera"),Bo=ko(Co,"Trident")||ko(Co,"MSIE"),Vo=ko(Co,"Edge"),zo=Vo||Bo,qo=ko(Co,"Gecko")&&!(ko(Co.toLowerCase(),"webkit")&&!ko(Co,"Edge"))&&!(ko(Co,"Trident")||ko(Co,"MSIE"))&&!ko(Co,"Edge"),Ho=ko(Co.toLowerCase(),"webkit")&&!ko(Co,"Edge");function Qo(){var t=ao.document;return t?t.documentMode:void 0}t:{var $o="",Go=(Fo=Co,qo?/rv:([^\);]+)(\)|;)/.exec(Fo):Vo?/Edge\/([\d\.]+)/.exec(Fo):Bo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Fo):Ho?/WebKit\/(\S+)/.exec(Fo):Uo?/(?:Version)[ \/]?(\S+)/.exec(Fo):void 0);if(Go&&($o=Go?Go[1]:""),Bo){var Wo=Qo();if(null!=Wo&&Wo>parseFloat($o)){Ro=String(Wo);break t}}Ro=$o}var Ko={};function Yo(t){return function(t,e){var n=Ko;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Oo(String(Ro)).split("."),r=Oo(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Ao(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Ao(0==o[2].length,0==a[2].length)||Ao(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Xo=ao.document&&Bo&&(Qo()||parseInt(Ro,10))||void 0,Zo=!Bo||9<=Number(Xo),Jo=Bo&&!Yo("9"),ta=function(){if(!ao.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ao.addEventListener("test",uo,e),ao.removeEventListener("test",uo,e)}catch(n){}return t}();function ea(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function na(t,e){if(ea.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(qo){t:{try{Mo(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ra[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ea.prototype.b=function(){this.defaultPrevented=!0},bo(na,ea);var ra={2:"touch",3:"pen",4:"mouse"};na.prototype.b=function(){na.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Jo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ia="closure_listenable_"+(1e6*Math.random()|0),sa=0;function oa(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++sa,this.Y=this.Z=!1}function aa(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ua(t){this.src=t,this.a={},this.b=0}function ca(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=_o(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(aa(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function la(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ua.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=la(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new oa(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ha="closure_lm_"+(1e6*Math.random()|0),da={};function fa(t,e,n,r,i){if(r&&r.once)return ga(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fa(t,e[s],n,r,i);return null}return n=xa(n),t&&t[ia]?t.va(e,n,lo(r)?!!r.capture:!!r,i):pa(t,e,n,!1,r,i)}function pa(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=lo(i)?!!i.capture:!!i;if(o&&!Zo)return null;var a=_a(t);if(a||(t[ha]=a=new ua(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=wa,e=Zo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ta||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(va(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ga(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ga(t,e[s],n,r,i);return null}return n=xa(n),t&&t[ia]?t.wa(e,n,lo(r)?!!r.capture:!!r,i):pa(t,e,n,!0,r,i)}function ma(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ma(t,e[s],n,r,i);else r=lo(r)?!!r.capture:!!r,n=xa(n),t&&t[ia]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=la(s=t.a[e],n,r,i))&&(aa(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=_a(t))&&(e=t.a[e.toString()],t=-1,e&&(t=la(e,n,r,i)),(n=-1<t?e[t]:null)&&ya(n))}function ya(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ia])ca(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(va(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_a(e))?(ca(n,t),0==n.b&&(n.src=null,e[ha]=null)):aa(t)}}}function va(t){return t in da?da[t]:da[t]="on"+t}function ba(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ya(t),n.call(r,e)}function wa(t,e){if(t.Y)return!0;if(!Zo){if(!e)t:{e=["window","event"];for(var n=ao,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return ba(t,e=new na(e,this))}return ba(t,new na(e,this))}function _a(t){return(t=t[ha])instanceof ua?t:null}var Sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function xa(t){return"function"==typeof t?t:(t[Sa]||(t[Sa]=function(e){return t.handleEvent(e)}),t[Sa])}function Ta(){wo.call(this),this.c=new ua(this),this.J=this,this.C=null}function Ea(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ea(e,t);else if(e instanceof ea)e.target=e.target||t;else{var i=e;jo(e=new ea(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Ca(o,r,!0,e)&&i}if(i=Ca(o=e.a=t,r,!0,e)&&i,i=Ca(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ca(o=e.a=n[s],r,!1,e)&&i}function Ca(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&ca(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}bo(Ta,wo),Ta.prototype[ia]=!0,(io=Ta.prototype).addEventListener=function(t,e,n,r){fa(this,t,e,n,r)},io.removeEventListener=function(t,e,n,r){ma(this,t,e,n,r)},io.G=function(){if(Ta.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)aa(n[r]);delete e.a[t],e.b--}}this.C=null},io.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},io.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Oa=ao.JSON.stringify;function ka(){this.b=this.a=null}var Aa,Ia=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Na},function(t){t.reset()});function Pa(){var t=Ma,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Na(){this.next=this.b=this.a=null}function Da(t){ao.setTimeout(function(){throw t},0)}function La(t,e){Aa||function(){var t=ao.Promise.resolve(void 0);Aa=function(){t.then(Ra)}}(),ja||(Aa(),ja=!0),Ma.add(t,e)}ka.prototype.add=function(t,e){var n=Ia.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Na.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Na.prototype.reset=function(){this.next=this.b=this.a=null};var ja=!1,Ma=new ka;function Ra(){for(var t;t=Pa();){try{t.a.call(t.b)}catch(n){Da(n)}var e=Ia;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ja=!1}function Fa(t,e){Ta.call(this),this.b=t||1,this.a=e||ao,this.f=mo(this.Za,this),this.g=vo()}function Ua(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ba(t,e,n){if("function"==typeof t)n&&(t=mo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=mo(t.handleEvent,t)}return 2147483647<Number(e)?-1:ao.setTimeout(t,e||0)}function Va(t){t.a=Ba(function(){t.a=null,t.c&&(t.c=!1,Va(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}bo(Fa,Ta),(io=Fa.prototype).aa=!1,io.M=null,io.Za=function(){if(this.aa){var t=vo()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ea(this,"tick"),this.aa&&(Ua(this),this.start()))}},io.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=vo())},io.G=function(){Fa.X.G.call(this),Ua(this),delete this.a};var za=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Va(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ao.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(wo);function qa(t){wo.call(this),this.b=t,this.a={}}bo(qa,wo);var Ha=[];function Qa(t,e,n,r){Array.isArray(n)||(n&&(Ha[0]=n.toString()),n=Ha);for(var i=0;i<n.length;i++){var s=fa(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function $a(t){No(t.a,function(t,e){this.a.hasOwnProperty(e)&&ya(t)},t),t.a={}}function Ga(){this.a=!0}function Wa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Oa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}qa.prototype.G=function(){qa.X.G.call(this),$a(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ga.prototype.info=function(){};var Ka={},Ya=null;function Xa(){return Ya=Ya||new Ta}function Za(t){ea.call(this,Ka.Fa,t)}function Ja(t){var e=Xa();Ea(e,new Za(e,t))}function tu(t,e){ea.call(this,Ka.STAT_EVENT,t),this.stat=e}function eu(t){var e=Xa();Ea(e,new tu(e,t))}function nu(t){ea.call(this,Ka.Ga,t)}function ru(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ao.setTimeout(function(){t()},e)}Ka.Fa="serverreachability",bo(Za,ea),Ka.STAT_EVENT="statevent",bo(tu,ea),Ka.Ga="timingevent",bo(nu,ea);var iu={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},su={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ou(){}function au(){}ou.prototype.a=null;var uu,cu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function lu(){ea.call(this,"d")}function hu(){ea.call(this,"c")}function du(){}function fu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new qa(this),this.P=pu,this.R=new Fa(t=zo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}bo(lu,ea),bo(hu,ea),bo(du,ou),uu=new du;var pu=45e3,gu={},mu={};function yu(t,e,n){t.H=1,t.i=Uu(Du(e)),t.j=n,t.I=!0,vu(t,null)}function vu(t,e){t.u=vo(),_u(t),t.l=Du(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Zu(n.b,"t",r),t.D=0,t.a=$c(t.g,t.g.C?e:null),0<t.O&&(t.F=new za(mo(t.Ca,t,t.a),t.O)),Qa(t.J,t.a,"readystatechange",t.Xa),e=t.B?Do(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ja(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function bu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=wu(t,n);if(i==mu){4==e&&(t.h=4,eu(14),r=!1),Wa(t.c,t.f,null,"[Incomplete Response]");break}if(i==gu){t.h=4,eu(15),Wa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wa(t.c,t.f,i,null),Cu(t,i)}4==e&&0==n.length&&(t.h=1,eu(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fc(e),e.F=!0,eu(11))):(Wa(t.c,t.f,n,"[Invalid Chunked Response]"),Eu(t),Tu(t))}function wu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?mu:(n=Number(e.substring(n,r)),isNaN(n)?gu:(r+=1)+n>e.length?mu:(e=e.substr(r,n),t.D=r+n,e))}function _u(t){t.T=vo()+t.P,Su(t,t.P)}function Su(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ru(mo(t.Va,t),e)}function xu(t){t.o&&(ao.clearTimeout(t.o),t.o=null)}function Tu(t){0==t.g.v||t.A||Vc(t.g,t)}function Eu(t){xu(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ua(t.R),$a(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Cu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||sc(n.b,t)))if(n.I=t.N,!t.C&&sc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(kb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Bc(n),Ac(n)}Rc(n),eu(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ru(mo(n.Sa,n),6e3));if(1>=ic(n.b)&&n.ea){try{n.ea()}catch(kb){}n.ea=void 0}}else qc(n,11)}else if((t.C||n.a==t)&&Bc(n),!Eo(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ko(l,"spdy")||ko(l,"quic")||ko(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(oc(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Fu(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=vo()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Qc(u,u.C?u.ga:null,u.fa),f.C){ac(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(xu(p),_u(p)),u.a=f}else Mc(u);0<n.g.length&&Nc(n)}else"stop"!=i[0]&&"close"!=i[0]||qc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qc(n,7):kc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ja(4)}catch(kb){}}function Ou(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(co(t)||"string"==typeof t)So(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(co(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(co(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ku(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ku)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Au(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Iu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Iu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Iu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(io=fu.prototype).setTimeout=function(t){this.P=t},io.Xa=function(t){t=t.target;var e=this.F;e&&3==Tc(t)?e.f():this.Ca(t)},io.Ca=function(t){try{if(t==this.a)t:{var e=Tc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!zo&&!this.a.$())){this.A||4!=e||7==n||Ja(8==n||0>=r?3:2),xu(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eo(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,eu(12),Eu(this),Tu(this);break t}Wa(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Cu(this,u)}this.I?(bu(this,e,s),zo&&this.b&&3==e&&(Qa(this.J,this.R,"tick",this.Wa),this.R.start())):(Wa(this.c,this.f,s,null),Cu(this,s)),4==e&&Eu(this),this.b&&!this.A&&(4==e?Vc(this.g,this):(this.b=!1,_u(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,eu(12)):(this.h=0,eu(13)),Eu(this),Tu(this)}}}catch(c){}},io.Wa=function(){if(this.a){var t=Tc(this.a),e=this.a.$();this.D<e.length&&(xu(this),bu(this,t,e),this.b&&4!=t&&_u(this))}},io.cancel=function(){this.A=!0,Eu(this)},io.Va=function(){this.o=null;var t=vo();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ja(3),eu(17)),Eu(this),this.h=2,Tu(this)):Su(this,this.T-t)},(io=ku.prototype).K=function(){Au(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},io.L=function(){return Au(this),this.a.concat()},io.get=function(t,e){return Iu(this.b,t)?this.b[t]:e},io.set=function(t,e){Iu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},io.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Pu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Nu){this.a=void 0!==e?e:t.a,Lu(this,t.f),this.j=t.j,ju(this,t.c),Mu(this,t.h),this.g=t.g,e=t.b;var n=new Wu;n.c=e.c,e.a&&(n.a=new ku(e.a),n.b=e.b),Ru(this,n),this.i=t.i}else t&&(n=String(t).match(Pu))?(this.a=!!e,Lu(this,n[1]||"",!0),this.j=Bu(n[2]||""),ju(this,n[3]||"",!0),Mu(this,n[4]),this.g=Bu(n[5]||"",!0),Ru(this,n[6]||"",!0),this.i=Bu(n[7]||"")):(this.a=!!e,this.b=new Wu(null,this.a))}function Du(t){return new Nu(t)}function Lu(t,e,n){t.f=n?Bu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ju(t,e,n){t.c=n?Bu(e,!0):e}function Mu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ru(t,e,n){e instanceof Wu?(t.b=e,function(t,e){e&&!t.f&&(Ku(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Yu(this,e),Zu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Vu(e,$u)),t.b=new Wu(e,t.a))}function Fu(t,e,n){t.b.set(e,n)}function Uu(t){return Fu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^vo()).toString(36)),t}function Bu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vu(e,qu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Vu(e,qu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vu(n,"/"==n.charAt(0)?Qu:Hu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Vu(n,Gu)),t.join("")};var qu=/[#\/\?@]/g,Hu=/[#\?:]/g,Qu=/[#\?]/g,$u=/[#\?@]/g,Gu=/#/g;function Wu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ku(t){t.a||(t.a=new ku,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yu(t,e){Ku(t),e=Ju(t,e),Iu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Iu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Au(t)))}function Xu(t,e){return Ku(t),e=Ju(t,e),Iu(t.a.b,e)}function Zu(t,e,n){Yu(t,e),0<n.length&&(t.c=null,t.a.set(Ju(t,e),To(n)),t.b+=n.length)}function Ju(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(io=Wu.prototype).add=function(t,e){Ku(this),this.c=null,t=Ju(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},io.forEach=function(t,e){Ku(this),this.a.forEach(function(n,r){So(n,function(n){t.call(e,n,r,this)},this)},this)},io.L=function(){Ku(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},io.K=function(t){Ku(this);var e=[];if("string"==typeof t)Xu(this,t)&&(e=xo(e,this.a.get(Ju(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=xo(e,t[n])}return e},io.set=function(t,e){return Ku(this),this.c=null,Xu(this,t=Ju(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},io.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},io.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var tc=function(){return function(t,e){this.b=t,this.a=e}}();function ec(t){this.g=t||nc,t=ao.PerformanceNavigationTiming?0<(t=ao.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ao.ia&&ao.ia.ya&&ao.ia.ya()&&ao.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var nc=10;function rc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ic(t){return t.b?1:t.a?t.a.size:0}function sc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function oc(t,e){t.a?t.a.add(e):t.b=e}function ac(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function uc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ro(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return To(t.c)}function cc(){}function lc(){this.a=new cc}function hc(t,e,n){var r=n||"";try{Ou(t,function(t,n){var i=t;lo(t)&&(i=Oa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(dw){throw e.push(r+"type="+encodeURIComponent("_badmap")),dw}}function dc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}ec.prototype.cancel=function(){var t,e;if(this.c=uc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ro(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cc.prototype.stringify=function(t){return ao.JSON.stringify(t,void 0)},cc.prototype.parse=function(t){return ao.JSON.parse(t,void 0)};var fc=ao.JSON.parse;function pc(t){Ta.call(this),this.headers=new ku,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gc,this.D=this.F=!1}bo(pc,Ta);var gc="",mc=/^https?$/i,yc=["POST","PUT"];function vc(t){return"content-type"==t.toLowerCase()}function bc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,wc(t),Sc(t)}function wc(t){t.u||(t.u=!0,Ea(t,"complete"),Ea(t,"error"))}function _c(t){if(t.b&&void 0!==oo&&(!t.s[1]||4!=Tc(t)||2!=t.W()))if(t.l&&4==Tc(t))Ba(t.za,0,t);else if(Ea(t,"readystatechange"),4==Tc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Pu)[1]||null;if(!s&&ao.self&&ao.self.location){var o=ao.self.location.protocol;s=o.substr(0,o.length-1)}i=!mc.test(s?s.toLowerCase():"")}e=i}if(e)Ea(t,"complete"),Ea(t,"success");else{t.h=6;try{var a=2<Tc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",wc(t)}}finally{Sc(t)}}}function Sc(t,e){if(t.a){xc(t);var n=t.a,r=t.s[0]?uo:null;t.a=null,t.s=null,e||Ea(t,"ready");try{n.onreadystatechange=r}catch(dw){}}}function xc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ao.clearTimeout(t.m),t.m=null)}function Tc(t){return t.a?t.a.readyState:0}function Ec(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return No(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Fu(t,e,n))}function Cc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Oc(t){this.pa=0,this.g=[],this.c=new Ga,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Cc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Cc("baseRetryDelayMs",5e3,t),this.Ra=Cc("retryDelaySeedMs",1e4,t),this.Ma=Cc("forwardChannelMaxRetries",2,t),this.ma=Cc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ec(t&&t.concurrentRequestLimit),this.ka=new lc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function kc(t){if(Ic(t),3==t.v){var e=t.R++,n=Du(t.B);Fu(n,"SID",t.J),Fu(n,"RID",e),Fu(n,"TYPE","terminate"),Lc(t,n),(e=new fu(t,t.c,e,void 0)).H=2,e.i=Uu(Du(n)),n=!1,ao.navigator&&ao.navigator.sendBeacon&&(n=ao.navigator.sendBeacon(e.i.toString(),"")),!n&&ao.Image&&((new Image).src=e.i,n=!0),n||(e.a=$c(e.g,null),e.a.ba(e.i)),e.u=vo(),_u(e)}Hc(t)}function Ac(t){t.a&&(Fc(t),t.a.cancel(),t.a=null)}function Ic(t){Ac(t),t.j&&(ao.clearTimeout(t.j),t.j=null),Bc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ao.clearTimeout(t.h),t.h=null)}function Pc(t,e){t.g.push(new tc(t.Oa++,e)),3==t.v&&Nc(t)}function Nc(t){rc(t.b)||t.h||(t.h=!0,La(t.Ba,t),t.u=0)}function Dc(t,e){var n;n=e?e.f:t.R++;var r=Du(t.B);Fu(r,"SID",t.J),Fu(r,"RID",n),Fu(r,"AID",t.P),Lc(t,r),t.i&&t.l&&Ec(r,t.i,t.l),n=new fu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),oc(t.b,n),yu(n,r,e)}function Lc(t,e){t.f&&Ou({},function(t,n){Fu(e,n,t)})}function jc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?mo(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{hc(l,o,"req"+c+"_")}catch(xl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mc(t){t.a||t.j||(t.T=1,La(t.Aa,t),t.o=0)}function Rc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ru(mo(t.Aa,t),zc(t,t.o)),t.o++,0))}function Fc(t){null!=t.s&&(ao.clearTimeout(t.s),t.s=null)}function Uc(t){t.a=new fu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Du(t.la);Fu(e,"RID","rpc"),Fu(e,"SID",t.J),Fu(e,"CI",t.H?"0":"1"),Fu(e,"AID",t.P),Lc(t,e),Fu(e,"TYPE","xmlhttp"),t.i&&t.l&&Ec(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Uu(Du(e)),n.j=null,n.I=!0,vu(n,t)}function Bc(t){null!=t.m&&(ao.clearTimeout(t.m),t.m=null)}function Vc(t,e){var n=null;if(t.a==e){Bc(t),Fc(t),t.a=null;var r=2}else{if(!sc(t.b,e))return;n=e.s,ac(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=vo()-e.u;var i=t.u;Ea(r=Xa(),new nu(r,n,e,i)),Nc(t)}else Mc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ic(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ru(mo(t.Ba,t,e),zc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Rc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qc(t,5);break;case 4:qc(t,10);break;case 3:qc(t,6);break;default:qc(t,2)}}function zc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function qc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=mo(t.Ya,t);n||(n=new Nu("//www.google.com/images/cleardot.gif"),ao.location&&"http"==ao.location.protocol||Lu(n,"https"),Uu(n)),function(t,e){var n=new Ga;if(ao.Image){var r=new Image;r.onload=yo(dc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yo(dc,n,r,"TestLoadImage: error",!1,e),r.onabort=yo(dc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yo(dc,n,r,"TestLoadImage: timeout",!1,e),ao.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else eu(2);t.v=0,t.f&&t.f.ra(e),Hc(t),Ic(t)}function Hc(t){t.v=0,t.I=-1,t.f&&(0==uc(t.b).length&&0==t.g.length||(t.b.c.length=0,To(t.g),t.g.length=0),t.f.qa())}function Qc(t,e,n){var r=function(t){return t instanceof Nu?Du(t):new Nu(t,void 0)}(n);if(""!=r.c)e&&ju(r,e+"."+r.c),Mu(r,r.h);else{var i=ao.location;r=function(t,e,n,r){var i=new Nu(null,void 0);return t&&Lu(i,t),e&&ju(i,e),n&&Mu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&No(t.V,function(t,e){Fu(r,e,t)}),n=t.na,(e=t.A)&&n&&Fu(r,e,n),Fu(r,"VER",t.ha),Lc(t,r),r}function $c(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pc(t.Na)).F=t.C,e}function Gc(){}function Wc(){if(Bo&&!(10<=Number(Xo)))throw Error("Environmental error: no available transport.")}function Kc(t,e){Ta.call(this),this.a=new Oc(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Eo(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eo(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zc(this)}function Yc(t){lu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xc(){hu.call(this),this.status=1}function Zc(t){this.a=t}(io=pc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:uu),this.a.onreadystatechange=mo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void bc(this,s)}t=n||"";var i=new ku(this.headers);r&&Ou(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=vc,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ao.FormData&&t instanceof ao.FormData,!(0<=_o(yc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{xc(this),0<this.o&&((this.D=function(t){return Bo&&Yo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=mo(this.xa,this)):this.m=Ba(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){bc(this,s)}},io.xa=function(){void 0!==oo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ea(this,"timeout"),this.abort(8))},io.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ea(this,"complete"),Ea(this,"abort"),Sc(this))},io.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sc(this,!0)),pc.X.G.call(this)},io.za=function(){this.j||(this.A||this.l||this.g?_c(this):this.Ua())},io.Ua=function(){_c(this)},io.W=function(){try{return 2<Tc(this)?this.a.status:-1}catch(Fo){return-1}},io.$=function(){try{return this.a?this.a.responseText:""}catch(Fo){return""}},io.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fc(e)}},io.ua=function(){return this.h},io.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(io=Oc.prototype).ha=8,io.v=1,io.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new fu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?jo(r=Do(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jc(this,n,e),Fu(i=Du(this.B),"RID",t),Fu(i,"CVER",22),this.A&&Fu(i,"X-HTTP-Session-Id",this.A),Lc(this,i),this.i&&r&&Ec(i,this.i,r),oc(this.b,n),this.Ia&&Fu(i,"TYPE","init"),this.da?(Fu(i,"$req",e),Fu(i,"SID","null"),n.U=!0,yu(n,i,null)):yu(n,i,e),this.v=2}}else 3==this.v&&(t?Dc(this,t):0==this.g.length||rc(this.b)||Dc(this))},io.Aa=function(){if(this.j=null,Uc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ru(mo(this.Ta,this),t)}},io.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,eu(10),Ac(this),Uc(this))},io.Sa=function(){null!=this.m&&(this.m=null,Ac(this),Rc(this),eu(19))},io.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),eu(2)):(this.c.info("Failed to ping google.com"),eu(1))},(io=Gc.prototype).ta=function(){},io.sa=function(){},io.ra=function(){},io.qa=function(){},io.Ja=function(){},Wc.prototype.a=function(t,e){return new Kc(t,e)},bo(Kc,Ta),Kc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;eu(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Qc(t,null,t.fa),Nc(t)},Kc.prototype.close=function(){kc(this.a)},Kc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Pc(this.a,e)}else this.l?((e={}).__data__=Oa(t),Pc(this.a,e)):Pc(this.a,t)},Kc.prototype.G=function(){this.a.f=null,delete this.f,kc(this.a),delete this.a,Kc.X.G.call(this)},bo(Yc,lu),bo(Xc,hu),bo(Zc,Gc),Zc.prototype.ta=function(){Ea(this.a,"a")},Zc.prototype.sa=function(t){Ea(this.a,new Yc(t))},Zc.prototype.ra=function(t){Ea(this.a,new Xc(t))},Zc.prototype.qa=function(){Ea(this.a,"b")},Wc.prototype.createWebChannel=Wc.prototype.a,Kc.prototype.send=Kc.prototype.h,Kc.prototype.open=Kc.prototype.g,Kc.prototype.close=Kc.prototype.close,iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,su.COMPLETE="complete",au.EventType=cu,cu.OPEN="a",cu.CLOSE="b",cu.ERROR="c",cu.MESSAGE="d",Ta.prototype.listen=Ta.prototype.va,pc.prototype.listenOnce=pc.prototype.wa,pc.prototype.getLastError=pc.prototype.Qa,pc.prototype.getLastErrorCode=pc.prototype.ua,pc.prototype.getStatus=pc.prototype.W,pc.prototype.getResponseJson=pc.prototype.Pa,pc.prototype.getResponseText=pc.prototype.$,pc.prototype.send=pc.prototype.ba;var Jc=iu,tl=su,el=Ka,nl=au,rl=pc,il=n("mrSG"),sl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();sl.o=-1;var ol={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},al=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(il.d)(e,t),e}(Error),ul=new eo.b("@firebase/firestore");function cl(){return ul.logLevel}function ll(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ul.logLevel<=eo.a.DEBUG){var r=e.map(fl);ul.debug.apply(ul,Object(il.g)(["Firestore (8.6.3): "+t],r))}}function hl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ul.logLevel<=eo.a.ERROR){var r=e.map(fl);ul.error.apply(ul,Object(il.g)(["Firestore (8.6.3): "+t],r))}}function dl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ul.logLevel<=eo.a.WARN){var r=e.map(fl);ul.warn.apply(ul,Object(il.g)(["Firestore (8.6.3): "+t],r))}}function fl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(dw){return t}}function pl(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.3) INTERNAL ASSERTION FAILED: "+t;throw hl(e),new Error(e)}function gl(t,e){t||pl()}function ml(t,e){return t}function yl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=yl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function bl(t,e){return t<e?-1:t>e?1:0}function wl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function _l(t){return t+"\0"}var Sl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new al(ol.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new al(ol.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new al(ol.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new al(ol.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?bl(this.nanoseconds,t.nanoseconds):bl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),xl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Sl(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Tl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function El(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Cl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ol=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&pl(),void 0===n?n=t.length-e:n>t.length-e&&pl(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new al(ol.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Ol),Al=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Il=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Al.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new al(ol.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new al(ol.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new al(ol.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new al(ol.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Ol),Pl=function(){function t(t){this.fields=t,t.sort(Il.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return wl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Nl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return bl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Nl.EMPTY_BYTE_STRING=new Nl("");var Dl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ll(t){if(gl(!!t),"string"==typeof t){var e=0,n=Dl.exec(t);if(gl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jl(t.seconds),nanos:jl(t.nanos)}}function jl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ml(t){return"string"==typeof t?Nl.fromBase64String(t):Nl.fromUint8Array(t)}function Rl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fl(t){var e=t.mapValue.fields.__previous_value__;return Rl(e)?Fl(e):e}function Ul(t){var e=Ll(t.mapValue.fields.__local_write_time__.timestampValue);return new Sl(e.seconds,e.nanos)}function Bl(t){return null==t}function Vl(t){return 0===t&&1/t==-1/0}function zl(t){return"number"==typeof t&&Number.isInteger(t)&&!Vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ql=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(kl.fromString(e))},t.fromName=function(e){return new t(kl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===kl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return kl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new kl(e.slice()))},t}();function Hl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rl(t)?4:10:pl()}function Ql(t,e){var n=Hl(t);if(n!==Hl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ll(t.timestampValue),r=Ll(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ml(t.bytesValue).isEqual(Ml(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return jl(t.geoPointValue.latitude)===jl(e.geoPointValue.latitude)&&jl(t.geoPointValue.longitude)===jl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return jl(t.integerValue)===jl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=jl(t.doubleValue),r=jl(e.doubleValue);return n===r?Vl(n)===Vl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],Ql);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Tl(n)!==Tl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ql(n[i],r[i])))return!1;return!0}(t,e);default:return pl()}}function $l(t,e){return void 0!==(t.values||[]).find(function(t){return Ql(t,e)})}function Gl(t,e){var n=Hl(t),r=Hl(e);if(n!==r)return bl(n,r);switch(n){case 0:return 0;case 1:return bl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=jl(t.integerValue||t.doubleValue),r=jl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Wl(t.timestampValue,e.timestampValue);case 4:return Wl(Ul(t),Ul(e));case 5:return bl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ml(t),r=Ml(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=bl(n[i],r[i]);if(0!==s)return s}return bl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=bl(jl(t.latitude),jl(e.latitude));return 0!==n?n:bl(jl(t.longitude),jl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Gl(n[i],r[i]);if(s)return s}return bl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=bl(r[o],s[o]);if(0!==a)return a;var u=Gl(n[r[o]],i[s[o]]);if(0!==u)return u}return bl(r.length,s.length)}(t.mapValue,e.mapValue);default:throw pl()}}function Wl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return bl(t,e);var n=Ll(t),r=Ll(e),i=bl(n.seconds,r.seconds);return 0!==i?i:bl(n.nanos,r.nanos)}function Kl(t){return Yl(t)}function Yl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ll(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ml(t.bytesValue).toBase64():"referenceValue"in t?ql.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Yl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Yl(t.fields[s])}return e+"}"}(t.mapValue):pl();var e}function Xl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Zl(t){return!!t&&"integerValue"in t}function Jl(t){return!!t&&"arrayValue"in t}function th(t){return!!t&&"nullValue"in t}function eh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nh(t){return!!t&&"mapValue"in t}function rh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Ll(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return El(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=rh(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rh(t.arrayValue.values[r]);return n}return Object.assign({},t)}var ih=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!nh(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=rh(e)},t.prototype.setAll=function(t){var e=this,n=Il.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=rh(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());nh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ql(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];nh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){El(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(rh(this.value))},t}();function sh(t){var e=[];return El(t.fields,function(t,n){var r=new Il([t]);if(nh(n)){var i=sh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Pl(e)}var oh=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,xl.min(),ih.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,ih.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,ih.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=ih.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=ih.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ah=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function uh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new ah(t,e,n,r,i,s,o)}function ch(t){var e=ml(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Kl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Bl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Sh(e.startAt)),e.endAt&&(n+="|ub:",n+=Sh(e.endAt)),e.h=n}return e.h}function lh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Th(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Ql(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ch(t.startAt,e.startAt)&&Ch(t.endAt,e.endAt)}function hh(t){return ql.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var dh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(il.d)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new fh(t,n,r):"array-contains"===n?new yh(t,r):"in"===n?new vh(t,r):"not-in"===n?new bh(t,r):"array-contains-any"===n?new wh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ph(t,n):new gh(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Gl(e,this.value)):null!==e&&Hl(this.value)===Hl(e)&&this.m(Gl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pl()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),fh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ql.fromName(r.referenceValue),i}return Object(il.d)(e,t),e.prototype.matches=function(t){var e=ql.comparator(t.key,this.key);return this.m(e)},e}(dh),ph=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=mh(0,n),r}return Object(il.d)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(dh),gh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=mh(0,n),r}return Object(il.d)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(dh);function mh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ql.fromName(t.referenceValue)})}var yh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(il.d)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Jl(e)&&$l(e.arrayValue,this.value)},e}(dh),vh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(il.d)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&$l(this.value.arrayValue,e)},e}(dh),bh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(il.d)(e,t),e.prototype.matches=function(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!$l(this.value.arrayValue,e)},e}(dh),wh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(il.d)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Jl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return $l(e.value.arrayValue,t)})},e}(dh),_h=function(t,e){this.position=t,this.before=e};function Sh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Kl(t)}).join(",")}var xh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Th(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Eh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?ql.comparator(ql.fromName(o.referenceValue),n.key):Gl(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ch(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ql(t.position[n],e.position[n]))return!1;return!0}var Oh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function kh(t,e,n,r,i,s,o,a){return new Oh(t,e,n,r,i,s,o,a)}function Ah(t){return new Oh(t)}function Ih(t){return!Bl(t.limit)&&"F"===t.limitType}function Ph(t){return!Bl(t.limit)&&"L"===t.limitType}function Nh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Dh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Lh(t){return null!==t.collectionGroup}function jh(t){var e=ml(t);if(null===e.p){e.p=[];var n=Dh(e),r=Nh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new xh(n)),e.p.push(new xh(Il.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new xh(Il.keyField(),u))}}}return e.p}function Mh(t){var e=ml(t);if(!e.T)if("F"===e.limitType)e.T=uh(e.path,e.collectionGroup,jh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=jh(e);r<i.length;r++){var s=i[r];n.push(new xh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new _h(e.endAt.position,!e.endAt.before):null,a=e.startAt?new _h(e.startAt.position,!e.startAt.before):null;e.T=uh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Rh(t,e,n){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return lh(Mh(t),Mh(e))&&t.limitType===e.limitType}function Uh(t){return ch(Mh(t))+"|lt:"+t.limitType}function Bh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Kl(e.value);var e}).join(", ")+"]"),Bl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Sh(t.startAt)),t.endAt&&(e+=", endAt: "+Sh(t.endAt)),"Target("+e+")"}(Mh(t))+"; limitType="+t.limitType+")"}function Vh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ql.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Eh(t.startAt,jh(t),e)||t.endAt&&Eh(t.endAt,jh(t),e))}(t,e)}function zh(t){return function(e,n){for(var r=!1,i=0,s=jh(t);i<s.length;i++){var o=s[i],a=qh(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function qh(t,e,n){var r=t.field.isKeyField()?ql.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Gl(r,i):pl()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pl()}}function Hh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(e)?"-0":e}}function Qh(t){return{integerValue:""+t}}function $h(t,e){return zl(e)?Qh(e):Hh(t,e)}var Gh=function(){this._=void 0};function Wh(t,e,n){return t instanceof Xh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Zh?Jh(t,e):t instanceof td?ed(t,e):function(t,e){var n=Yh(t,e),r=rd(n)+rd(t.A);return Zl(n)&&Zl(t.A)?Qh(r):Hh(t.R,r)}(t,e)}function Kh(t,e,n){return t instanceof Zh?Jh(t,e):t instanceof td?ed(t,e):n}function Yh(t,e){return t instanceof nd?Zl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Xh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e}(Gh),Zh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(il.d)(e,t),e}(Gh);function Jh(t,e){for(var n=id(e),r=function(t){n.some(function(e){return Ql(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var td=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(il.d)(e,t),e}(Gh);function ed(t,e){for(var n=id(e),r=function(t){n=n.filter(function(e){return!Ql(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var nd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(il.d)(e,t),e}(Gh);function rd(t){return jl(t.integerValue||t.doubleValue)}function id(t){return Jl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var sd=function(t,e){this.field=t,this.transform=e},od=function(t,e){this.version=t,this.transformResults=e},ad=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ud(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var cd=function(){};function ld(t,e,n){t instanceof gd?function(t,e,n){var r=t.value.clone(),i=vd(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof md?function(t,e,n){if(ud(t.precondition,e)){var r=vd(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(yd(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function hd(t,e,n){t instanceof gd?function(t,e,n){if(ud(t.precondition,e)){var r=t.value.clone(),i=bd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(pd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof md?function(t,e,n){if(ud(t.precondition,e)){var r=bd(t.fieldTransforms,n,e),i=e.data;i.setAll(yd(t)),i.setAll(r),e.convertToFoundDocument(pd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ud(t.precondition,e)&&e.convertToNoDocument(xl.min())}(t,e)}function dd(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Yh(s.transform,o||null);null!=a&&(null==n&&(n=ih.empty()),n.set(s.field,a))}return n||null}function fd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&wl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Zh&&e instanceof Zh||t instanceof td&&e instanceof td?wl(t.elements,e.elements,Ql):t instanceof nd&&e instanceof nd?Ql(t.A,e.A):t instanceof Xh&&e instanceof Xh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function pd(t){return t.isFoundDocument()?t.version:xl.min()}var gd=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(il.d)(e,t),e}(cd),md=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(il.d)(e,t),e}(cd);function yd(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function vd(t,e,n){var r=new Map;gl(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Kh(o,a,n[i]))}return r}function bd(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Wh(a,u,e))}return r}var wd,_d,Sd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(il.d)(e,t),e}(cd),xd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(il.d)(e,t),e}(cd),Td=function(t){this.count=t};function Ed(t){switch(t){case ol.OK:return pl();case ol.CANCELLED:case ol.UNKNOWN:case ol.DEADLINE_EXCEEDED:case ol.RESOURCE_EXHAUSTED:case ol.INTERNAL:case ol.UNAVAILABLE:case ol.UNAUTHENTICATED:return!1;case ol.INVALID_ARGUMENT:case ol.NOT_FOUND:case ol.ALREADY_EXISTS:case ol.PERMISSION_DENIED:case ol.FAILED_PRECONDITION:case ol.ABORTED:case ol.OUT_OF_RANGE:case ol.UNIMPLEMENTED:case ol.DATA_LOSS:return!0;default:return pl()}}function Cd(t){if(void 0===t)return hl("GRPC error has no .code"),ol.UNKNOWN;switch(t){case wd.OK:return ol.OK;case wd.CANCELLED:return ol.CANCELLED;case wd.UNKNOWN:return ol.UNKNOWN;case wd.DEADLINE_EXCEEDED:return ol.DEADLINE_EXCEEDED;case wd.RESOURCE_EXHAUSTED:return ol.RESOURCE_EXHAUSTED;case wd.INTERNAL:return ol.INTERNAL;case wd.UNAVAILABLE:return ol.UNAVAILABLE;case wd.UNAUTHENTICATED:return ol.UNAUTHENTICATED;case wd.INVALID_ARGUMENT:return ol.INVALID_ARGUMENT;case wd.NOT_FOUND:return ol.NOT_FOUND;case wd.ALREADY_EXISTS:return ol.ALREADY_EXISTS;case wd.PERMISSION_DENIED:return ol.PERMISSION_DENIED;case wd.FAILED_PRECONDITION:return ol.FAILED_PRECONDITION;case wd.ABORTED:return ol.ABORTED;case wd.OUT_OF_RANGE:return ol.OUT_OF_RANGE;case wd.UNIMPLEMENTED:return ol.UNIMPLEMENTED;case wd.DATA_LOSS:return ol.DATA_LOSS;default:return pl()}}(_d=wd||(wd={}))[_d.OK=0]="OK",_d[_d.CANCELLED=1]="CANCELLED",_d[_d.UNKNOWN=2]="UNKNOWN",_d[_d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_d[_d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_d[_d.NOT_FOUND=5]="NOT_FOUND",_d[_d.ALREADY_EXISTS=6]="ALREADY_EXISTS",_d[_d.PERMISSION_DENIED=7]="PERMISSION_DENIED",_d[_d.UNAUTHENTICATED=16]="UNAUTHENTICATED",_d[_d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_d[_d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_d[_d.ABORTED=10]="ABORTED",_d[_d.OUT_OF_RANGE=11]="OUT_OF_RANGE",_d[_d.UNIMPLEMENTED=12]="UNIMPLEMENTED",_d[_d.INTERNAL=13]="INTERNAL",_d[_d.UNAVAILABLE=14]="UNAVAILABLE",_d[_d.DATA_LOSS=15]="DATA_LOSS";var Od=function(){function t(t,e){this.comparator=t,this.root=e||Ad.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ad.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ad.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new kd(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new kd(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new kd(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new kd(this.root,t,this.comparator,!0)},t}(),kd=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Ad=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw pl();if(this.right.isRed())throw pl();var t=this.left.check();if(t!==this.right.check())throw pl();return t+(this.isRed()?0:1)},t}();Ad.EMPTY=null,Ad.RED=!0,Ad.BLACK=!1,Ad.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw pl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw pl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw pl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw pl()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw pl()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ad(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Id=function(){function t(t){this.comparator=t,this.data=new Od(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Pd(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Pd(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Pd=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Nd=new Od(ql.comparator);function Dd(){return Nd}var Ld=new Od(ql.comparator);function jd(){return Ld}var Md=new Od(ql.comparator);function Rd(){return Md}var Fd=new Id(ql.comparator);function Ud(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Fd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Bd=new Id(bl);function Vd(){return Bd}var zd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(xl.min(),r,Vd(),Dd(),Ud())},t}(),qd=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Nl.EMPTY_BYTE_STRING,n,Ud(),Ud(),Ud())},t}(),Hd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Qd=function(t,e){this.targetId=t,this.V=e},$d=function(t,e,n,r){void 0===n&&(n=Nl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Gd=function(){function t(){this.S=0,this.D=Yd(),this.C=Nl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Ud(),e=Ud(),n=Ud();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pl()}}),new qd(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Yd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Wd=function(){function t(t){this.W=t,this.G=new Map,this.H=Dd(),this.J=Kd(),this.Y=new Id(bl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:pl()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(hh(i))if(0===n){var s=new ql(i.path);this.tt(e,s,oh.newNoDocument(s,xl.min()))}else gl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&hh(s.target)){var o=new ql(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,oh.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Ud();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new zd(t,n,this.Y,this.H,r);return this.H=Dd(),this.J=Kd(),this.Y=new Id(bl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Gd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Id(bl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||ll("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Gd),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Kd(){return new Od(ql.comparator)}function Yd(){return new Od(ql.comparator)}var Xd={asc:"ASCENDING",desc:"DESCENDING"},Zd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jd=function(t,e){this.databaseId=t,this.I=e};function tf(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ef(t,e){return t.I?e.toBase64():e.toUint8Array()}function nf(t,e){return tf(t,e.toTimestamp())}function rf(t){return gl(!!t),xl.fromTimestamp(function(t){var e=Ll(t);return new Sl(e.seconds,e.nanos)}(t))}function sf(t,e){return function(t){return new kl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function of(t){var e=kl.fromString(t);return gl(If(e)),e}function af(t,e){return sf(t.databaseId,e.path)}function uf(t,e){var n=of(e);if(n.get(1)!==t.databaseId.projectId)throw new al(ol.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new al(ol.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ql(df(n))}function cf(t,e){return sf(t.databaseId,e)}function lf(t){var e=of(t);return 4===e.length?kl.emptyPath():df(e)}function hf(t){return new kl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function df(t){return gl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ff(t,e,n){return{name:af(t,e),fields:n.value.mapValue.fields}}function pf(t,e,n){var r=uf(t,e.name),i=rf(e.updateTime),s=new ih({mapValue:{fields:e.fields}}),o=oh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function gf(t,e){var n;if(e instanceof gd)n={update:ff(t,e.key,e.value)};else if(e instanceof Sd)n={delete:af(t,e.key)};else if(e instanceof md)n={update:ff(t,e.key,e.data),updateMask:Af(e.fieldMask)};else{if(!(e instanceof xd))return pl();n={verify:af(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Xh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof td)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nd)return{fieldPath:e.field.canonicalString(),increment:n.A};throw pl()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:nf(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pl()}(t,e.precondition)),n}function mf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ad.updateTime(rf(t.updateTime)):void 0!==t.exists?ad.exists(t.exists):ad.none()}(e.currentDocument):ad.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(gl("REQUEST_TIME"===e.setToServerValue),n=new Xh):"appendMissingElements"in e?n=new Zh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new td(e.removeAllFromArray.values||[]):"increment"in e?n=new nd(t,e.increment):pl();var r=Il.fromServerFormat(e.fieldPath);return new sd(r,n)}(t,e)}):[];if(e.update){var i=uf(t,e.update.name),s=new ih({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Pl((t.fieldPaths||[]).map(function(t){return Il.fromServerFormat(t)}))}(e.updateMask);return new md(i,s,o,n,r)}return new gd(i,s,n,r)}if(e.delete){var a=uf(t,e.delete);return new Sd(a,n)}if(e.verify){var u=uf(t,e.verify);return new xd(u,n)}return pl()}function yf(t,e){return{documents:[cf(t,e.path)]}}function vf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=cf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(eh(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NAN"}};if(th(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(eh(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NOT_NAN"}};if(th(t.value))return{unaryFilter:{field:Ef(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ef(t.field),op:Tf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ef(t.field),direction:xf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Bl(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=_f(e.startAt)),e.endAt&&(n.structuredQuery.endAt=_f(e.endAt)),n}function bf(t){var e=lf(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gl(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=wf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new xh(Cf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Bl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Sf(n.startAt));var l=null;return n.endAt&&(l=Sf(n.endAt)),kh(e,i,a,o,u,"F",c,l)}function wf(t){return t?void 0!==t.unaryFilter?[kf(t)]:void 0!==t.fieldFilter?[Of(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return wf(t)}).reduce(function(t,e){return t.concat(e)}):pl():[]}function _f(t){return{before:t.before,values:t.position}}function Sf(t){return new _h(t.values||[],!!t.before)}function xf(t){return Xd[t]}function Tf(t){return Zd[t]}function Ef(t){return{fieldPath:t.canonicalString()}}function Cf(t){return Il.fromServerFormat(t.fieldPath)}function Of(t){return dh.create(Cf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return pl()}}(t.fieldFilter.op),t.fieldFilter.value)}function kf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Cf(t.unaryFilter.field);return dh.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Cf(t.unaryFilter.field);return dh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Cf(t.unaryFilter.field);return dh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Cf(t.unaryFilter.field);return dh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return pl()}}function Af(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function If(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Pf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Df(e)),e=Nf(t.get(n),e);return Df(e)}function Nf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Df(t){return t+"\x01\x01"}function Lf(t){var e=t.length;if(gl(e>=2),2===e)return gl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),kl.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&pl(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:pl()}s=o+2}return new kl(r)}var jf=function(t,e){this.seconds=t,this.nanoseconds=e},Mf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Mf.store="owner",Mf.key="owner";var Rf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Rf.store="mutationQueues",Rf.keyPath="userId";var Ff=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Ff.store="mutations",Ff.keyPath="batchId",Ff.userMutationsIndex="userMutationsIndex",Ff.userMutationsKeyPath=["userId","batchId"];var Uf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pf(e)]},t.key=function(t,e,n){return[t,Pf(e),n]},t}();Uf.store="documentMutations",Uf.PLACEHOLDER=new Uf;var Bf=function(t,e){this.path=t,this.readTime=e},Vf=function(t,e){this.path=t,this.version=e},zf=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};zf.store="remoteDocuments",zf.readTimeIndex="readTimeIndex",zf.readTimeIndexPath="readTime",zf.collectionReadTimeIndex="collectionReadTimeIndex",zf.collectionReadTimeIndexPath=["parentPath","readTime"];var qf=function(t){this.byteSize=t};qf.store="remoteDocumentGlobal",qf.key="remoteDocumentGlobalKey";var Hf=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Hf.store="targets",Hf.keyPath="targetId",Hf.queryTargetsIndexName="queryTargetsIndex",Hf.queryTargetsKeyPath=["canonicalId","targetId"];var Qf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Qf.store="targetDocuments",Qf.keyPath=["targetId","path"],Qf.documentTargetsIndex="documentTargetsIndex",Qf.documentTargetsKeyPath=["path","targetId"];var $f=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$f.key="targetGlobalKey",$f.store="targetGlobal";var Gf=function(t,e){this.collectionId=t,this.parent=e};Gf.store="collectionParents",Gf.keyPath=["collectionId","parent"];var Wf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Wf.store="clientMetadata",Wf.keyPath="clientId";var Kf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Kf.store="bundles",Kf.keyPath="bundleId";var Yf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Yf.store="namedQueries",Yf.keyPath="name";var Xf=Object(il.g)(Object(il.g)([],Object(il.g)(Object(il.g)([],Object(il.g)(Object(il.g)([],Object(il.g)(Object(il.g)([],[Rf.store,Ff.store,Uf.store,zf.store,Hf.store,Mf.store,$f.store,Qf.store]),[Wf.store])),[qf.store])),[Gf.store])),[Kf.store,Yf.store]),Zf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),tp=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ep=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&pl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),np=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new tp,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new sp(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=lp(e.target.error);n.ft.reject(new sp(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new sp(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ll("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ap(e)},t}(),rp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(to.l)())&&hl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return ll("SimpleDb","Removing database:",t),up(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(to.l)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(il.b)(this,void 0,void 0,function(){var e,n=this;return Object(il.e)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(ll("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new sp(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new al(ol.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new sp(t,n))},i.onupgradeneeded=function(t){ll("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){ll("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(il.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(il.e)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(il.e)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=np.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),ep.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return ll("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ip=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return up(this.Pt.delete())},t}(),sp=function(t){function e(e,n){var r=this;return(r=t.call(this,ol.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(il.d)(e,t),e}(al);function op(t){return"IndexedDbTransactionError"===t.name}var ap=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(ll("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(ll("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),up(n)},t.prototype.add=function(t){return ll("SimpleDb","ADD",this.store.name,t,t),up(this.store.add(t))},t.prototype.get=function(t){var e=this;return up(this.store.get(t)).next(function(n){return void 0===n&&(n=null),ll("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return ll("SimpleDb","DELETE",this.store.name,t),up(this.store.delete(t))},t.prototype.count=function(){return ll("SimpleDb","COUNT",this.store.name),up(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){ll("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new ep(function(n,r){e.onerror=function(t){var e=lp(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new ep(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new ip(i),o=e(i.primaryKey,i.value,s);if(o instanceof ep){var a=o.catch(function(t){return s.done(),ep.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return ep.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function up(t){return new ep(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=lp(t.target.error);n(e)}})}var cp=!1;function lp(t){var e=rp._t(Object(to.l)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new al("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return cp||(cp=!0,setTimeout(function(){throw r},0)),r}}return t}var hp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(il.d)(e,t),e}(Jf);function dp(t,e){var n=ml(t);return rp.It(n.Mt,e)}var fp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&ld(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&hd(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&hd(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(xl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ud())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,function(t,e){return fd(t,e)})&&wl(this.baseMutations,t.baseMutations,function(t,e){return fd(t,e)})},t}(),pp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){gl(e.mutations.length===r.length);for(var i=Rd(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),gp=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=xl.min()),void 0===s&&(s=xl.min()),void 0===o&&(o=Nl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),mp=function(t){this.Lt=t};function yp(t,e){if(e.document)return pf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ql.fromSegments(e.noDocument.path),r=Sp(e.noDocument.readTime),i=oh.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=ql.fromSegments(e.unknownDocument.path);return r=Sp(e.unknownDocument.version),oh.newUnknownDocument(s,r)}return pl()}function vp(t,e,n){var r=bp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:af(t,e.key),fields:e.data.value.mapValue.fields,updateTime:tf(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new zf(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=_p(e.version);return o=e.hasCommittedMutations,new zf(null,new Bf(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=_p(e.version);return new zf(new Vf(c,l),null,null,!0,r,i)}return pl()}function bp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function wp(t){var e=new Sl(t[0],t[1]);return xl.fromTimestamp(e)}function _p(t){var e=t.toTimestamp();return new jf(e.seconds,e.nanoseconds)}function Sp(t){var e=new Sl(t.seconds,t.nanoseconds);return xl.fromTimestamp(e)}function xp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return mf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return mf(t.Lt,e)}),s=Sl.fromMillis(e.localWriteTimeMs);return new fp(e.batchId,s,n,i)}function Tp(t){var e,n,r=Sp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Sp(t.lastLimboFreeSnapshotVersion):xl.min();return void 0!==t.query.documents?(gl(1===(n=t.query).documents.length),e=Mh(Ah(lf(n.documents[0])))):e=function(t){return Mh(bf(t))}(t.query),new gp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Nl.fromBase64String(t.resumeToken))}function Ep(t,e){var n,r=_p(e.snapshotVersion),i=_p(e.lastLimboFreeSnapshotVersion);n=hh(e.target)?yf(t.Lt,e.target):vf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Hf(e.targetId,ch(e.target),r,s,e.sequenceNumber,i,n)}function Cp(t){var e=bf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rh(e,e.limit,"L"):e}var Op=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return kp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Sp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return kp(t).put({bundleId:(n=e).id,createTime:_p(rf(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Ap(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Cp(e.bundledQuery),readTime:Sp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Ap(t).put(function(t){return{name:t.name,readTime:_p(rf(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function kp(t){return dp(t,Kf.store)}function Ap(t){return dp(t,Yf.store)}var Ip=function(){function t(){this.Bt=new Pp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ep.resolve()},t.prototype.getCollectionParents=function(t,e){return ep.resolve(this.Bt.getEntries(e))},t}(),Pp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Id(kl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Id(kl.comparator)).toArray()},t}(),Np=function(){function t(){this.qt=new Pp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Pf(i)};return Dp(t).put(s)}return ep.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_l(e),""],!1,!0);return Dp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Lf(s.parent))}return n})},t}();function Dp(t){return dp(t,Gf.store)}var Lp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Mp(t,e,n){var r=t.store(Ff.store),i=t.store(Uf.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){gl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Uf.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return ep.waitFor(s).next(function(){return c})}function Rp(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw pl();e=t.noDocument}return JSON.stringify(e).length}jp.DEFAULT_COLLECTION_PERCENTILE=10,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jp.DEFAULT=new jp(41943040,jp.DEFAULT_COLLECTION_PERCENTILE,jp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jp.DISABLED=new jp(-1,0,0);var Fp=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return gl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bp(t).$t({index:Ff.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Vp(t),o=Bp(t);return o.add({}).next(function(a){gl("number"==typeof a);for(var u=new fp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return gf(t.Lt,e)}),i=n.mutations.map(function(e){return gf(t.Lt,e)});return new Ff(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Id(function(t,e){return bl(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Uf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,Uf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),ep.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Bp(t).get(e).next(function(t){return t?(gl(t.userId===n.userId),xp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?ep.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Bp(t).$t({index:Ff.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(gl(e.batchId>=r),s=xp(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Bp(t).$t({index:Ff.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bp(t).Nt(Ff.userMutationsIndex,n).next(function(t){return t.map(function(t){return xp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Uf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Vp(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=Lf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Bp(t).get(u).next(function(t){if(!t)throw pl();gl(t.userId===n.userId),s.push(xp(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Id(bl),i=[];return e.forEach(function(e){var s=Uf.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Vp(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=Lf(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),ep.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Uf.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Id(bl);return Vp(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=Lf(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Bp(t).get(e).next(function(t){if(null===t)throw pl();gl(t.userId===n.userId),r.push(xp(n.R,t))}))}),ep.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Mp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),ep.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return ep.resolve();var r=IDBKeyRange.lowerBound(Uf.prefixForUser(e.userId)),i=[];return Vp(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=Lf(t[1]);i.push(s)}else r.done()}).next(function(){gl(0===i.length)})})},t.prototype.containsKey=function(t,e){return Up(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return zp(t).get(this.userId).next(function(t){return t||new Rf(e.userId,-1,"")})},t}();function Up(t,e,n){var r=Uf.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Vp(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Bp(t){return dp(t,Ff.store)}function Vp(t){return dp(t,Uf.store)}function zp(t){return dp(t,Rf.store)}var qp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Hp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new qp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return xl.fromTimestamp(new Sl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Qp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return gl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Qp(t).$t(function(o,a){var u=Tp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return ep.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Qp(t).$t(function(t,n){var r=Tp(n);e(r)})},t.prototype.Xt=function(t){return $p(t).get($f.key).next(function(t){return gl(null!==t),t})},t.prototype.Zt=function(t,e){return $p(t).put($f.key,e)},t.prototype.te=function(t,e){return Qp(t).put(Ep(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=ch(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Qp(t).$t({range:r,index:Hf.queryTargetsIndexName},function(t,n,r){var s=Tp(n);lh(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Gp(t);return e.forEach(function(e){var o=Pf(e.path);i.push(s.put(new Qf(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),ep.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Gp(t);return ep.forEach(e,function(e){var s=Pf(e.path);return ep.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Gp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gp(t),i=Ud();return r.$t({range:n,kt:!0},function(t,e,n){var r=Lf(t[1]),s=new ql(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Pf(e.path),r=IDBKeyRange.bound([n],[_l(n)],!1,!0),i=0;return Gp(t).$t({index:Qf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Qp(t).get(e).next(function(t){return t?Tp(t):null})},t}();function Qp(t){return dp(t,Hf.store)}function $p(t){return dp(t,$f.store)}function Gp(t){return dp(t,Qf.store)}function Wp(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){if(t.code!==ol.FAILED_PRECONDITION||t.message!==Zf)throw t;return ll("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Kp(t,e){var n=t[1],r=e[1],i=bl(t[0],e[0]);return 0===i?bl(n,r):i}var Yp=function(){function t(t){this.ne=t,this.buffer=new Id(Kp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Kp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Xp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;ll("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(il.b)(e,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return op(e=n.sent())?(ll("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Wp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Zp=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ep.resolve(sl.o);var r=new Yp(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ll("LruGarbageCollector","Garbage collection skipped; disabled"),ep.resolve(Lp)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(ll("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Lp):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(ll("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),cl()<=eo.a.DEBUG&&ll("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),ep.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Jp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Zp(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return tg(t,n)},t.prototype.removeReference=function(t,e,n){return tg(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return tg(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return zp(t).Ot(function(r){return Up(t,r,e).next(function(t){return t&&(n=!0),ep.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Gp(t).delete([0,Pf(o.path)])})});i.push(u)}}).next(function(){return ep.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return tg(t,e)},t.prototype.we=function(t,e){var n,r=Gp(t),i=sl.o;return r.$t({index:Qf.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==sl.o&&e(new ql(Lf(n)),i),i=o,n=s):i=sl.o}).next(function(){i!==sl.o&&e(new ql(Lf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function tg(t,e){return Gp(t).put(function(t,e){return new Qf(0,Pf(t.path),e)}(e,t.currentSequenceNumber))}var eg=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){El(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return Cl(this.inner)},t}(),ng=function(){function t(){this.changes=new eg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:xl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:oh.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ep.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),rg=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return og(t).put(ag(e),n)},t.prototype.removeEntry=function(t,e){var n=og(t),r=ag(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return og(t).get(ag(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return og(t).get(ag(e)).next(function(t){return{document:n.ye(e,t),size:Rp(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Dd();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Dd(),i=new Od(ql.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Rp(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ep.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return og(t).$t({range:r},function(t,e,r){for(var o=ql.fromSegments(t);s&&ql.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Dd(),s=e.path.length+1,o={};if(n.isEqual(xl.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=bp(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=zf.collectionReadTimeIndex}return og(t).$t(o,function(t,n,o){if(t.length===s){var a=yp(r.R,n);e.path.isPrefixOf(a.key.path)?Vh(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ig(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return sg(t).get(qf.key).next(function(t){return gl(!!t),t})},t.prototype.me=function(t,e){return sg(t).put(qf.key,e)},t.prototype.ye=function(t,e){if(e){var n=yp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(xl.min()))return n}return oh.newInvalidDocument(t)},t}(),ig=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new eg(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(il.d)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Id(function(t,e){return bl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=vp(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=Rp(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=vp(e.Ie.R,oh.newNoDocument(s,xl.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),ep.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(ng);function sg(t){return dp(t,qf.store)}function og(t){return dp(t,zf.store)}function ag(t){return t.path.toArray()}var ug=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;gl(n<r&&n>=0&&r<=11);var s=new np("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Mf.store)}(t),function(t){t.createObjectStore(Rf.store,{keyPath:Rf.keyPath}),t.createObjectStore(Ff.store,{keyPath:Ff.keyPath,autoIncrement:!0}).createIndex(Ff.userMutationsIndex,Ff.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Uf.store)}(t),cg(t),function(t){t.createObjectStore(zf.store)}(t));var o=ep.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Qf.store),t.deleteObjectStore(Hf.store),t.deleteObjectStore($f.store)}(t),cg(t)),o=o.next(function(){return function(t){var e=t.store($f.store),n=new $f(0,0,xl.min().toTimestamp(),0);return e.put($f.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Ff.store).Nt().next(function(n){t.deleteObjectStore(Ff.store),t.createObjectStore(Ff.store,{keyPath:Ff.keyPath,autoIncrement:!0}).createIndex(Ff.userMutationsIndex,Ff.userMutationsKeyPath,{unique:!0});var r=e.store(Ff.store),i=n.map(function(t){return r.put(t)});return ep.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Wf.store,{keyPath:Wf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(qf.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(zf.store);e.createIndex(zf.readTimeIndex,zf.readTimeIndexPath,{unique:!1}),e.createIndex(zf.collectionReadTimeIndex,zf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Kf.store,{keyPath:Kf.keyPath})}(t),function(t){t.createObjectStore(Yf.store,{keyPath:Yf.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(zf.store).$t(function(t,n){e+=Rp(n)}).next(function(){var n=new qf(e);return t.store(qf.store).put(qf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Rf.store),r=t.store(Ff.store);return n.Nt().next(function(n){return ep.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Ff.userMutationsIndex,i).next(function(r){return ep.forEach(r,function(r){gl(r.userId===n.userId);var i=xp(e.R,r);return Mp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Qf.store),n=t.store(zf.store);return t.store($f.store).get($f.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new kl(n),o=function(t){return[0,Pf(t)]}(s);r.push(e.get(o).next(function(n){return n?ep.resolve():function(n){return e.put(new Qf(0,Pf(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return ep.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Gf.store,{keyPath:Gf.keyPath});var n=e.store(Gf.store),r=new Pp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Pf(i)})}};return e.store(zf.store).$t({kt:!0},function(t,e){var n=new kl(t);return i(n.popLast())}).next(function(){return e.store(Uf.store).$t({kt:!0},function(t,e){var n=Lf(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Hf.store);return n.$t(function(t,r){var i=Tp(r),s=Ep(e.R,i);return n.put(s)})},t}();function cg(t){t.createObjectStore(Qf.store,{keyPath:Qf.keyPath}).createIndex(Qf.documentTargetsIndex,Qf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Hf.store,{keyPath:Hf.keyPath}).createIndex(Hf.queryTargetsIndexName,Hf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($f.store)}var lg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",hg=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new al(ol.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Jp(this,i),this.Le=n+"main",this.R=new mp(u),this.Be=new rp(this.Le,11,new ug(this.R)),this.qe=new Hp(this.referenceDelegate,this.R),this.Ut=new Np,this.Ue=function(t,e){return new rg(t,e)}(this.R,this.Ut),this.Qe=new Op,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&hl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new al(ol.FAILED_PRECONDITION,lg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new sl(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(il.b)(e,void 0,void 0,function(){return Object(il.e)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(il.b)(e,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(il.b)(e,void 0,void 0,function(){return Object(il.e)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return fg(e).put(new Wf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(op(e))return ll("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return ll("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return dg(t).get(Mf.key).next(function(t){return ep.resolve(e.tn(t))})},t.prototype.en=function(t){return fg(t).delete(this.clientId)},t.prototype.nn=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(il.e)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=dp(t,Wf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ep.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ep.resolve(!0):dg(t).get(Mf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new al(ol.FAILED_PRECONDITION,lg);return!1}}return!(!e.networkEnabled||!e.inForeground)||fg(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&ll("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(il.b)(this,void 0,void 0,function(){var t=this;return Object(il.e)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Mf.store,Wf.store],function(e){var n=new hp(e,sl.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return fg(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Fp.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return ll("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Xf,function(s){return r=new hp(s,i.Ne?i.Ne.next():sl.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw hl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new al(ol.FAILED_PRECONDITION,Zf);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return dg(t).get(Mf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new al(ol.FAILED_PRECONDITION,lg)})},t.prototype.Ze=function(t){var e=new Mf(this.clientId,this.allowTabSynchronization,Date.now());return dg(t).put(Mf.key,e)},t.yt=function(){return rp.yt()},t.prototype.Xe=function(t){var e=this,n=dg(t);return n.get(Mf.key).next(function(t){return e.tn(t)?(ll("IndexedDbPersistence","Releasing primary lease."),n.delete(Mf.key)):ep.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(hl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return ll("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return hl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){hl("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function dg(t){return dp(t,Mf.store)}function fg(t){return dp(t,Wf.store)}function pg(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var gg=function(t,e){this.progress=t,this.wn=e},mg=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ql.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Lh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ql(e)).next(function(t){var e=jd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=jd();return this.Ut.getCollectionParents(t,i).next(function(o){return ep.forEach(o,function(o){var a=function(t,e){return new Oh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=oh.newInvalidDocument(c),r=r.insert(c,l)),hd(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Vh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Ud(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof md&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),yg=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ud(),i=Ud(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),vg=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(xl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Ih(e)||Ph(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(cl()<=eo.a.DEBUG&&ll("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Id(zh(t));return e.forEach(function(e,r){Vh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return cl()<=eo.a.DEBUG&&ll("QueryEngine","Using full collection scan to execute query:",Bh(e)),this.Sn.getDocumentsMatchingQuery(t,e,xl.min())},t}(),bg=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Od(bl),this.kn=new eg(function(t){return ch(t)},lh),this.$n=xl.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new mg(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function wg(t,e,n,r){return new bg(t,e,n,r)}function _g(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(il.e)(this,function(o){switch(o.label){case 0:return n=ml(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new mg(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Ud(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function Sg(t,e){var n=ml(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=ep.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);gl(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function xg(t){var e=ml(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Tg(t,e){var n=ml(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return gl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=Dd();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Eg(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(xl.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return ep.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Eg(t,e,n,r,i){var s=Ud();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Dd();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(xl.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):ll("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Cg(t,e){var n=ml(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Og(t,e){var n=ml(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?ep.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new gp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function kg(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(il.e)(this,function(a){switch(a.label){case 0:r=ml(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!op(o=a.sent()))throw o;return ll("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function Ag(t,e,n){var r=ml(t),i=xl.min(),s=Ud();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ml(t),i=r.kn.get(n);return void 0!==i?ep.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Mh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:xl.min(),n?s:Ud())}).next(function(t){return{documents:t,Bn:s}})})}function Ig(t,e){var n=ml(t),r=ml(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Pg(t){var e=ml(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ml(t),i=Dd(),s=bp(n),o=og(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:zf.readTimeIndex,range:a},function(t,e){var n=yp(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:wp(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Ng(t){return Object(il.b)(this,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){return[2,(e=ml(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=og(t),n=xl.min();return e.$t({index:zf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=wp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Dg(t,e,n,r){return Object(il.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(il.e)(this,function(p){switch(p.label){case 0:for(i=ml(t),s=Ud(),o=Dd(),a=Rd(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,Og(i,function(t){return Mh(Ah(kl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Eg(t,d,o,xl.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Lg(t,e,n){return void 0===n&&(n=Ud()),Object(il.b)(this,void 0,void 0,function(){var r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:return[4,Og(t,Mh(Cp(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ml(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=rf(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(Nl.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var jg=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ep.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:rf(n.createTime)}),ep.resolve()},t.prototype.getNamedQuery=function(t,e){return ep.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Cp(t.bundledQuery),readTime:rf(t.readTime)}}(e)),ep.resolve()},t}(),Mg=function(){function t(){this.Wn=new Id(Rg.Gn),this.zn=new Id(Rg.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Rg(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Rg(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new ql(new kl([])),r=new Rg(n,t),i=new Rg(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ql(new kl([])),n=new Rg(e,t),r=new Rg(e,t+1),i=Ud();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Rg(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Rg=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ql.comparator(t.key,e.key)||bl(t.ns,e.ns)},t.Hn=function(t,e){return bl(t.ns,e.ns)||ql.comparator(t.key,e.key)},t}(),Fg=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Id(Rg.Gn)}return t.prototype.checkEmpty=function(t){return ep.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new fp(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new Rg(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return ep.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return ep.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return ep.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ep.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ep.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Rg(e,0),i=new Rg(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),ep.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Id(bl);return e.forEach(function(t){var e=new Rg(t,0),i=new Rg(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),ep.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ql.isDocumentKey(i)||(i=i.child(""));var s=new Rg(new ql(i),0),o=new Id(bl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),ep.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;gl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return ep.forEach(e.mutations,function(i){var s=new Rg(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Rg(e,0),r=this.rs.firstAfterOrEqual(n);return ep.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return ep.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Ug=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Od(ql.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ep.resolve(n?n.document.clone():oh.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Dd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():oh.newInvalidDocument(t))}),ep.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Dd(),i=new ql(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Vh(e,u)&&(r=r.insert(u.key,u.clone()))}return ep.resolve(r)},t.prototype.fs=function(t,e){return ep.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Bg(this)},t.prototype.getSize=function(t){return ep.resolve(this.size)},t}(),Bg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(il.d)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),ep.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ng),Vg=function(){function t(t){this.persistence=t,this.ds=new eg(function(t){return ch(t)},lh),this.lastRemoteSnapshotVersion=xl.min(),this.highestTargetId=0,this.ws=0,this._s=new Mg,this.targetCount=0,this.ys=qp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),ep.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ep.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ep.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ep.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ep.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new qp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ep.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ep.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ep.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),ep.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return ep.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ep.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ep.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),ep.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ep.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ep.resolve(n)},t.prototype.containsKey=function(t,e){return ep.resolve(this._s.containsKey(e))},t}(),zg=function(){function t(t,e){var n=this;this.gs={},this.Ne=new sl(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Vg(this),this.Ut=new Ip,this.Ue=function(t,e){return new Ug(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new mp(e),this.Qe=new jg(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Fg(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;ll("MemoryPersistence","Starting transaction:",t);var i=new qg(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return ep.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),qg=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(il.d)(e,t),e}(Jf),Hg=function(){function t(t){this.persistence=t,this.As=new Mg,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw pl()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ep.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ep.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ep.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ep.forEach(this.vs,function(r){var i=ql.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ep.or([function(){return ep.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Qg=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function $g(t,e){return"firestore_clients_"+t+"_"+e}function Gg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Wg(t,e){return"firestore_targets_"+t+"_"+e}Qg.UNAUTHENTICATED=new Qg(null),Qg.GOOGLE_CREDENTIALS=new Qg("google-credentials-uid"),Qg.FIRST_PARTY=new Qg("first-party-uid");var Kg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new al(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(hl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new al(i.error.code,i.error.message)),s?new t(e,i.state,r):(hl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Vd(),o=0;i&&o<r.activeTargetIds.length;++o)i=zl(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(hl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(hl("SharedClientState","Failed to parse online state: "+e),null)},t}(),Jg=function(){function t(){this.activeTargetIds=Vd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),tm=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Od(bl),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=$g(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Jg),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(il.e)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem($g(this.persistenceKey,r)))&&(s=Xg.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Wg(this.persistenceKey,t));if(n){var r=Yg.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Wg(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return ll("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){ll("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){ll("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(ll("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void hl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(il.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(il.e)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=sl.o;if(null!=t)try{var n=JSON.parse(t);gl("number"==typeof n),e=n}catch(t){hl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==sl.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Kg(this.currentUser,t,e,n),i=Gg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Gg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Wg(this.persistenceKey,t),i=new Yg(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Xg.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Kg.Vs(new Qg(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Yg.Vs(r,e)},t.prototype.js=function(t){return Zg.Vs(t)},t.prototype.ii=function(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ll("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Vd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),em=function(){function t(){this.li=new Jg,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Jg,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),nm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),rm=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){ll("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){ll("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),im={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),om=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(il.d)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new rl;o.listenOnce(tl.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Jc.NO_ERROR:var e=o.getResponseJson();ll("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Jc.TIMEOUT:ll("Connection",'RPC "'+t+'" timed out'),s(new al(ol.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:var n=o.getStatus();if(ll("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ol).indexOf(e)>=0?e:ol.UNKNOWN}(r.status);s(new al(a,r.message))}else s(new al(ol.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new al(ol.UNAVAILABLE,"Connection failed."));break;default:pl()}}finally{ll("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Wc,i=Xa(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(to.r)()||Object(to.t)()||Object(to.o)()||Object(to.p)()||Object(to.u)()||Object(to.n)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");ll("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new sm({Ei:function(t){c?ll("Connection","Not sending because WebChannel is closed:",t):(u||(ll("Connection","Opening WebChannel transport."),a.open(),u=!0),ll("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,nl.EventType.OPEN,function(){c||ll("Connection","WebChannel transport opened.")}),h(a,nl.EventType.CLOSE,function(){c||(c=!0,ll("Connection","WebChannel transport closed"),l.Vi())}),h(a,nl.EventType.ERROR,function(t){c||(c=!0,dl("Connection","WebChannel transport errored:",t),l.Vi(new al(ol.UNAVAILABLE,"The operation could not be completed")))}),h(a,nl.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];gl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){ll("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=wd[t];if(void 0!==e)return Cd(e)}(i),o=r.message;void 0===s&&(s=ol.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new al(s,o)),a.close()}else ll("Connection","WebChannel received:",n),l.Si(n)}}),h(i,el.STAT_EVENT,function(t){10===t.stat?ll("Connection","Detected buffering proxy"):11===t.stat&&ll("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);ll("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return ll("RestConnection","Received: ",t),t},function(e){throw dl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.3",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+im[t]},t}());function am(){return"undefined"!=typeof window?window:null}function um(){return"undefined"!=typeof document?document:null}function cm(t){return new Jd(t,!0)}var lm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&ll("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),hm=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new lm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ol.RESOURCE_EXHAUSTED?(hl(e.toString()),hl("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ol.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new al(ol.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(il.b)(t,void 0,void 0,function(){return Object(il.e)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return ll("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(ll("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),dm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(il.d)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pl()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(gl(void 0===e||"string"==typeof e),Nl.fromBase64String(e||"")):(gl(void 0===e||e instanceof Uint8Array),Nl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?ol.UNKNOWN:Cd(t.code);return new al(e,t.message||"")}(a);n=new $d(r,i,s,o||null)}else if("documentChange"in e){i=uf(t,(r=e.documentChange).document.name),s=rf(r.document.updateTime);var a=new ih({mapValue:{fields:r.document.fields}}),u=(o=oh.newFoundDocument(i,s,a),r.targetIds||[]);n=new Hd(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=uf(t,(r=e.documentDelete).document),s=r.readTime?rf(r.readTime):xl.min(),a=oh.newNoDocument(i,s),n=new Hd([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=uf(t,(r=e.documentRemove).document),n=new Hd([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return pl();var c=e.filter;i=new Td(r=c.count||0),n=new Qd(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return xl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?xl.min():e.readTime?rf(e.readTime):xl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=hf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=hh(r)?{documents:yf(t,r)}:{query:vf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ef(t,e.resumeToken):e.snapshotVersion.compareTo(xl.min())>0&&(n.readTime=tf(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pl()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=hf(this.R),e.removeTarget=t,this.cr(e)},e}(hm),fm=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(il.d)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(gl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(gl(void 0!==e),t.map(function(t){return function(t,e){var n=rf(t.updateTime?t.updateTime:e);return n.isEqual(xl.min())&&(n=rf(e)),new od(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=rf(t.commitTime);return this.listener.Tr(n,e)}return gl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=hf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return gf(e.R,t)})};this.cr(n)},e}(hm),pm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(il.d)(e,t),e.prototype.br=function(){if(this.Rr)throw new al(ol.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ol.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new al(ol.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===ol.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new al(ol.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),gm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(hl(e),this.Vr=!1):ll("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),mm=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(il.b)(s,void 0,void 0,function(){return Object(il.e)(this,function(t){switch(t.label){case 0:return Em(this)?(ll("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(il.b)(this,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return(e=ml(t)).Or.add(4),[4,vm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,ym(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new gm(n,r)};function ym(t){return Object(il.b)(this,void 0,void 0,function(){var e,n;return Object(il.e)(this,function(r){switch(r.label){case 0:if(!Em(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function vm(t){return Object(il.b)(this,void 0,void 0,function(){var e,n;return Object(il.e)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function bm(t,e){var n=ml(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Tm(n)?xm(n):Bm(n).er()&&_m(n,e))}function wm(t,e){var n=ml(t),r=Bm(n);n.$r.delete(e),r.er()&&Sm(n,e),0===n.$r.size&&(r.er()?r.ir():Em(n)&&n.Br.set("Unknown"))}function _m(t,e){t.qr.U(e.targetId),Bm(t).mr(e)}function Sm(t,e){t.qr.U(e),Bm(t).yr(e)}function xm(t){t.qr=new Wd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Bm(t).start(),t.Br.Sr()}function Tm(t){return Em(t)&&!Bm(t).tr()&&t.$r.size>0}function Em(t){return 0===ml(t).Or.size}function Cm(t){t.qr=void 0}function Om(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){return t.$r.forEach(function(e,n){_m(t,e)}),[2]})})}function km(t,e){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(n){return Cm(t),Tm(t)?(t.Br.Nr(e),xm(t)):t.Br.set("Unknown"),[2]})})}function Am(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i,s;return Object(il.e)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof $d&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(il.e)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),ll("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Im(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Hd?t.qr.X(e):e instanceof Qd?t.qr.rt(e):t.qr.et(e),n.isEqual(xl.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,xg(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Nl.EMPTY_BYTE_STRING,n.snapshotVersion)),Sm(t,e);var r=new gp(n.target,e,1,n.sequenceNumber);_m(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return ll("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Im(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Im(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r=this;return Object(il.e)(this,function(i){switch(i.label){case 0:if(!op(e))throw e;return t.Or.add(1),[4,vm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return xg(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(il.b)(r,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return ll("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,ym(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Pm(t,e){return e().catch(function(n){return Im(t,n,e)})}function Nm(t){return Object(il.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(il.e)(this,function(o){switch(o.label){case 0:e=ml(t),n=Vm(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Em(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,Cg(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Vm(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Im(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Dm(e)&&Lm(e),[2]}})})}function Dm(t){return Em(t)&&!Vm(t).tr()&&t.kr.length>0}function Lm(t){Vm(t).start()}function jm(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){return Vm(t).Ar(),[2]})})}function Mm(t){return Object(il.b)(this,void 0,void 0,function(){var e,n,r;return Object(il.e)(this,function(i){for(e=Vm(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Rm(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=pp.from(r,e,n),[4,Pm(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Nm(t)];case 2:return s.sent(),[2]}})})}function Fm(t,e){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(n){switch(n.label){case 0:return e&&Vm(t).pr?[4,function(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r;return Object(il.e)(this,function(i){switch(i.label){case 0:return Ed(r=e.code)&&r!==ol.ABORTED?(n=t.kr.shift(),Vm(t).sr(),[4,Pm(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Nm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Dm(t)&&Lm(t),[2]}})})}function Um(t,e){return Object(il.b)(this,void 0,void 0,function(){var n;return Object(il.e)(this,function(r){switch(r.label){case 0:return n=ml(t),e?(n.Or.delete(2),[4,ym(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,vm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Bm(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=ml(t);return r.br(),new dm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Om.bind(null,t),Ri:km.bind(null,t),_r:Am.bind(null,t)}),t.Mr.push(function(n){return Object(il.b)(e,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Tm(t)?xm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Cm(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Vm(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=ml(t);return r.br(),new fm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:jm.bind(null,t),Ri:Fm.bind(null,t),Ir:Mm.bind(null,t),Tr:Rm.bind(null,t)}),t.Mr.push(function(n){return Object(il.b)(e,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Nm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(ll("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var zm=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new tp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new al(ol.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function qm(t,e){if(hl("AsyncQueue",e+": "+t),op(t))return new al(ol.UNAVAILABLE,e+": "+t);throw t}var Hm=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ql.comparator(e.key,n.key)}:function(t,e){return ql.comparator(t.key,e.key)},this.keyedMap=jd(),this.sortedSet=new Od(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Qm=function(){function t(){this.Kr=new Od(ql.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):pl():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),$m=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Hm.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Gm=function(){this.Wr=void 0,this.listeners=[]},Wm=function(){this.queries=new eg(function(t){return Uh(t)},Fh),this.onlineState="Unknown",this.Gr=new Set};function Km(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(il.e)(this,function(c){switch(c.label){case 0:if(n=ml(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Gm),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=qm(a,"Initialization of query '"+Bh(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Jm(n),[2]}})})}function Ym(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(il.e)(this,function(a){return n=ml(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Xm(t,e){for(var n=ml(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Jm(n)}function Zm(t,e,n){var r=ml(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Jm(t){t.Gr.forEach(function(t){t.next()})}var ty=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new $m(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=$m.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),ey=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ny=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return uf(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?pf(this.R,t.document,!1):oh.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return rf(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ny(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ud()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:return[4,Dg(this.localStore,new ny(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Lg(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new gg(Object.assign({},this.progress),t))]}})})}}();var ry=function(t){this.key=t},iy=function(t){this.key=t},sy=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ud(),this.mutatedKeys=Ud(),this.lo=zh(t),this.fo=new Hm(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Qm,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=Ih(this.query)&&i.size===this.query.limit?i.last():null,c=Ph(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Vh(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Ih(this.query)||Ph(this.query))for(;o.size>this.query.limit;){var l=Ih(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pl()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new $m(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Qm,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ud(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new iy(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ry(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ud();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return $m.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),oy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ay=function(t){this.key=t,this.bo=!1},uy=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new eg(function(t){return Uh(t)},Fh),this.Vo=new Map,this.So=new Set,this.Do=new Od(ql.comparator),this.Co=new Map,this.No=new Mg,this.xo={},this.Fo=new Map,this.ko=qp.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function cy(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(il.e)(this,function(a){switch(a.label){case 0:return n=Fy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Og(n.localStore,Mh(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,ly(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&bm(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function ly(t,e,n,r){return Object(il.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(il.e)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(il.b)(this,void 0,void 0,function(){var i,s,o;return Object(il.e)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Ag(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(xy(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,Ag(t.localStore,e,!0)];case 1:return i=l.sent(),s=new sy(e,i.Bn),o=s._o(i.documents),a=qd.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),xy(t,n,u.To),c=new oy(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function hy(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:return n=ml(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Fh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,kg(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),wm(n.remoteStore,r.targetId),_y(n,r.targetId)}).catch(Wp)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return _y(n,r.targetId),[4,kg(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function dy(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(il.e)(this,function(a){switch(a.label){case 0:r=Uy(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ml(t),i=Sl.now(),s=e.reduce(function(t,e){return t.add(e.key)},Ud());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=dd(c,n.get(c.key));null!=l&&o.push(new md(c.key,l,sh(l.value.mapValue),ad.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Od(bl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Cy(r,i.changes)];case 3:return a.sent(),[4,Nm(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=qm(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function fy(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r;return Object(il.e)(this,function(i){switch(i.label){case 0:n=ml(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Tg(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(gl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?gl(r.bo):t.removedDocuments.size>0&&(gl(r.bo),r.bo=!1))}),[4,Cy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Wp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function py(t,e,n){var r=ml(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ml(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Jm(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gy(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(il.e)(this,function(c){switch(c.label){case 0:return(r=ml(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Od(ql.comparator)).insert(s,oh.newNoDocument(s,xl.min())),a=Ud().add(s),u=new zd(xl.min(),new Map,new Id(bl),o,a),[4,fy(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Ey(r),[3,4];case 2:return[4,kg(r.localStore,e,!1).then(function(){return _y(r,e,n)}).catch(Wp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function my(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:n=ml(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Sg(n.localStore,e)];case 2:return i=s.sent(),wy(n,r,null),by(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Cy(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function yy(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:r=ml(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ml(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return gl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),wy(r,e,n),by(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Cy(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function vy(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(il.e)(this,function(a){switch(a.label){case 0:Em((n=ml(t)).remoteStore)||ll("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ml(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=qm(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function by(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function wy(t,e,n){var r=ml(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function _y(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Sy(t,e)})}function Sy(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(wm(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ey(t))}function xy(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ry?(t.No.addReference(s.key,e),Ty(t,s)):s instanceof iy?(ll("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||Sy(t,s.key)):pl()}}function Ty(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(ll("SyncEngine","New document in limbo: "+n),t.So.add(r),Ey(t))}function Ey(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ql(kl.fromString(e)),r=t.ko.next();t.Co.set(r,new ay(n)),t.Do=t.Do.insert(n,r),bm(t.remoteStore,new gp(Mh(Ah(n.path)),r,2,sl.o))}}function Cy(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(il.e)(this,function(a){switch(a.label){case 0:return r=ml(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=yg.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(il.e)(this,function(l){switch(l.label){case 0:n=ml(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ep.forEach(e,function(e){return ep.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return ep.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!op(r=l.sent()))throw r;return ll("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Oy(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r;return Object(il.e)(this,function(i){switch(i.label){case 0:return(n=ml(t)).currentUser.isEqual(e)?[3,3]:(ll("SyncEngine","User change. New user:",e.toKey()),[4,_g(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new al(ol.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Cy(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ky(t,e){var n=ml(t),r=n.Co.get(e);if(r&&r.bo)return Ud().add(r.key);var i=Ud(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function Ay(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:return[4,Ag((n=ml(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&xy(n,e.targetId,i.To),i)]}})})}function Iy(t){return Object(il.b)(this,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){return[2,Pg((e=ml(t)).localStore).then(function(t){return Cy(e,t)})]})})}function Py(t,e,n,r){return Object(il.b)(this,void 0,void 0,function(){var i,s;return Object(il.e)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=ml(t),r=ml(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):ep.resolve(null)})})}((i=ml(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Nm(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(wy(i,e,r||null),by(i,e),function(t,e){ml(ml(t)._n).Gt(e)}(i.localStore,e)):pl(),o.label=4;case 4:return[4,Cy(i,s)];case 5:return o.sent(),[3,7];case 6:ll("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Ny(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(il.e)(this,function(c){switch(c.label){case 0:return Fy(n=ml(t)),Uy(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Dy(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Um(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)bm(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return _y(n,e),kg(n.localStore,e,!0)}),wm(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Dy(n,a)];case 5:return c.sent(),function(t){var e=ml(t);e.Co.forEach(function(t,n){wm(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Od(ql.comparator)}(n),n.$o=!1,[4,Um(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Dy(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(il.e)(this,function(g){switch(g.label){case 0:n=ml(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,Og(n.localStore,Mh(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Ay(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ig(n.localStore,a)];case 8:return p=g.sent(),[4,Og(n.localStore,p)];case 9:return u=g.sent(),[4,ly(n,Ly(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Ly(t){return kh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jy(t){var e=ml(t);return ml(ml(e.localStore).persistence).fn()}function My(t,e,n,r){return Object(il.b)(this,void 0,void 0,function(){var i,s,o;return Object(il.e)(this,function(a){switch(a.label){case 0:return(i=ml(t)).$o?(ll("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pg(i.localStore)];case 3:return s=a.sent(),o=zd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Cy(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,kg(i.localStore,e,!0)];case 6:return a.sent(),_y(i,e,r),[3,8];case 7:pl(),a.label=8;case 8:return[2]}})})}function Ry(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(il.e)(this,function(d){switch(d.label){case 0:if(!(r=Fy(t)).$o)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(ll("SyncEngine","Adding an already active target "+o),[3,5]):[4,Ig(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,Og(r.localStore,a)];case 3:return u=d.sent(),[4,ly(r,Ly(a),u.targetId,!1)];case 4:d.sent(),bm(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(il.e)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,kg(r.localStore,t,!1).then(function(){wm(r.remoteStore,t),_y(r,t)}).catch(Wp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Fy(t){var e=ml(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ky.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gy.bind(null,e),e.vo._r=Xm.bind(null,e.eventManager),e.vo.Mo=Zm.bind(null,e.eventManager),e}function Uy(t){var e=ml(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=my.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yy.bind(null,e),e}var By=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return this.R=cm(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return wg(this.persistence,new vg,t.initialUser,this.R)},t.prototype.qo=function(t){return new zg(Hg.bs,this.R)},t.prototype.Bo=function(t){return new em},t.prototype.terminate=function(){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(il.d)(e,t),e.prototype.initialize=function(e){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ng(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Uy(this.Ko.syncEngine)];case 4:return n.sent(),[4,Nm(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return wg(this.persistence,new vg,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Xp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=pg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jp.withCacheSize(this.cacheSizeBytes):jp.DEFAULT;return new hg(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,am(),um(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new em},e}(By),zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(il.d)(e,t),e.prototype.initialize=function(e){return Object(il.b)(this,void 0,void 0,function(){var n,r=this;return Object(il.e)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof tm?(this.sharedClientState.syncEngine={ui:Py.bind(null,n),ai:My.bind(null,n),hi:Ry.bind(null,n),fn:jy.bind(null,n),ci:Iy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(il.b)(r,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return[4,Ny(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=am();if(!tm.yt(e))throw new al(ol.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=pg(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new tm(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Vy),qy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(il.b)(this,void 0,void 0,function(){var n=this;return Object(il.e)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return py(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Oy.bind(null,this.syncEngine),[4,Um(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Wm},t.prototype.createDatastore=function(t){var e=cm(t.databaseInfo.databaseId),n=new om(t.databaseInfo);return function(t,e,n){return new pm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return py(o.syncEngine,t,0)},s=rm.yt()?new rm:new nm,new mm(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new uy(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(il.b)(this,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return e=ml(t),ll("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,vm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Hy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Qy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new tp,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(il.e)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ey(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e;return Object(il.e)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(il.b)(this,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e;return Object(il.e)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(il.b)(this,void 0,void 0,function(){var e,n=this;return Object(il.e)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new al(ol.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(il.e)(this,function(u){switch(u.label){case 0:return n=ml(t),r=hf(n.R)+"/documents",i={documents:e.map(function(t){return af(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){gl(!!e.found);var n=uf(t,e.found.name),r=rf(e.found.updateTime),i=new ih({mapValue:{fields:e.found.fields}});return oh.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){gl(!!e.missing),gl(!!e.readTime);var n=uf(t,e.missing),r=rf(e.readTime);return oh.newNoDocument(n,r)}(t,e):pl()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());gl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Sd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e=this;return Object(il.e)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ql.fromPath(n);e.mutations.push(new xd(r,e.precondition(r)))}),[4,function(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:return n=ml(t),r=hf(n.R)+"/documents",i={writes:e.map(function(t){return gf(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw pl();e=xl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new al(ol.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ad.updateTime(e):ad.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xl.min()))throw new al(ol.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ad.updateTime(e)}return ad.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),$y=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new lm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(il.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(il.e)(this,function(r){return t=new Qy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Bl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ed(e)}return!1},t}(),Gy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Qg.UNAUTHENTICATED,this.clientId=vl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(il.b)(r,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return ll("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new al(ol.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new tp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(il.b)(t,void 0,void 0,function(){var t,n;return Object(il.e)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=qm(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Wy(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(il.e)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),ll("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(il.b)(i,void 0,void 0,function(){return Object(il.e)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,_g(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ky(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r;return Object(il.e)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Yy(t)];case 1:return n=i.sent(),ll("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(il.b)(this,void 0,void 0,function(){var n,r;return Object(il.e)(this,function(i){switch(i.label){case 0:return(n=ml(t)).asyncQueue.verifyOperationInProgress(),ll("RemoteStore","RemoteStore received new credentials"),r=Em(n),n.Or.add(3),[4,vm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,ym(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Yy(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(ll("FirestoreClient","Using default OfflineComponentProvider"),[4,Wy(t,new By)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Xy(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(ll("FirestoreClient","Using default OnlineComponentProvider"),[4,Ky(t,new qy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Zy(t){return Yy(t).then(function(t){return t.persistence})}function Jy(t){return Yy(t).then(function(t){return t.localStore})}function tv(t){return Xy(t).then(function(t){return t.remoteStore})}function ev(t){return Xy(t).then(function(t){return t.syncEngine})}function nv(t){return Object(il.b)(this,void 0,void 0,function(){var e,n;return Object(il.e)(this,function(r){switch(r.label){case 0:return[4,Xy(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=cy.bind(null,e.syncEngine),n.onUnlisten=hy.bind(null,e.syncEngine),n)]}})})}function rv(t,e,n){var r=this;void 0===n&&(n={});var i=new tp;return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(r,void 0,void 0,function(){var r;return Object(il.e)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Hy({next:function(s){e.enqueueAndForget(function(){return Ym(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new al(ol.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new al(ol.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new ty(Ah(n.path),s,{includeMetadataChanges:!0,so:!0});return Km(t,o)},[4,nv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function iv(t,e,n){var r=this;void 0===n&&(n={});var i=new tp;return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(r,void 0,void 0,function(){var r;return Object(il.e)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Hy({next:function(n){e.enqueueAndForget(function(){return Ym(t,o)}),n.fromCache&&"server"===r.source?i.reject(new al(ol.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new ty(n,s,{includeMetadataChanges:!0,so:!0});return Km(t,o)},[4,nv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var sv=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},ov=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),av=new Map,uv=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},cv=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Qg.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),lv=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),hv=function(){function t(t){var e=this;this.currentUser=Qg.UNAUTHENTICATED,this.oc=new tp,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.uc=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.ac=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.uc&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){ll("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.ac)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.uc&&(ll("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(ll("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(gl("string"==typeof n.accessToken),new uv(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.uc=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.ac),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return gl(null===t||"string"==typeof t),new Qg(t)},t.prototype.lc=function(){var t=this;this.uc&&(this.uc=!1,this.asyncQueue.enqueueRetryable(function(){return Object(il.b)(t,void 0,void 0,function(){return Object(il.e)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.uc=!0,[2]}})})}))},t}(),dv=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Qg.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),fv=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new dv(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Qg.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function pv(t,e,n){if(!n)throw new al(ol.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function gv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new al(ol.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function mv(t,e,n,r){if(!0===e&&!0===r)throw new al(ol.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function yv(t){if(!ql.isDocumentKey(t))throw new al(ol.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function vv(t){if(ql.isDocumentKey(t))throw new al(ol.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function bv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":pl()}function wv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new al(ol.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bv(t);throw new al(ol.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function _v(t,e){if(e<=0)throw new al(ol.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Sv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new al(ol.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new al(ol.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,mv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),xv=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sv({}),this._settingsFrozen=!1,t instanceof ov?(this._databaseId=t,this._credentials=new cv):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new al(ol.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ov(t.options.projectId)}(t),this._credentials=new hv(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new al(ol.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new al(ol.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sv(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new cv;switch(t.type){case"gapi":var e=t.client;return gl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new fv(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new al(ol.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=av.get(this))&&(ll("ComponentProvider","Removing Datastore"),av.delete(this),t.terminate()),Promise.resolve();var t},t}(),Tv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Cv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ev=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Cv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ah(r))||this)._path=r,i.type="collection",i}return Object(il.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Tv(this.firestore,null,new ql(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ev);function Ov(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(to.k)(t),pv("collection","path",e),t instanceof xv)return vv(n=kl.fromString.apply(kl,Object(il.g)([e],r))),new Cv(t,null,n);if(!(t instanceof Tv||t instanceof Cv))throw new al(ol.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vv(n=kl.fromString.apply(kl,Object(il.g)([t.path],r)).child(kl.fromString(e))),new Cv(t.firestore,null,n)}function kv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(to.k)(t),1===arguments.length&&(e=vl.u()),pv("doc","path",e),t instanceof xv)return yv(n=kl.fromString.apply(kl,Object(il.g)([e],r))),new Tv(t,null,new ql(n));if(!(t instanceof Tv||t instanceof Cv))throw new al(ol.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return yv(n=t._path.child(kl.fromString.apply(kl,Object(il.g)([e],r)))),new Tv(t.firestore,t instanceof Cv?t.converter:null,new ql(n))}function Av(t,e){return t=Object(to.k)(t),e=Object(to.k)(e),(t instanceof Tv||t instanceof Cv)&&(e instanceof Tv||e instanceof Cv)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Iv(t,e){return t=Object(to.k)(t),e=Object(to.k)(e),t instanceof Ev&&e instanceof Ev&&t.firestore===e.firestore&&Fh(t._query,e._query)&&t.converter===e.converter}var Pv=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new lm(this,"async_queue_retry"),this.Ac=function(){var e=um();e&&ll("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=um();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=um();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return Object(il.b)(this,void 0,void 0,function(){var t,e=this;return Object(il.e)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!op(t=n.sent()))throw t;return ll("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,hl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=zm.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&pl()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Object(il.b)(this,void 0,void 0,function(){var t;return Object(il.e)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Nv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new tp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Dv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Pv,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(il.d)(e,t),e.prototype._terminate=function(){return this._firestoreClient||jv(this),this._firestoreClient.terminate()},e}(xv);function Lv(t){return t._firestoreClient||jv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new sv(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Gy(t._credentials,t._queue,r)}function Mv(t,e,n){var r=this,i=new tp;return t.asyncQueue.enqueue(function(){return Object(il.b)(r,void 0,void 0,function(){var r;return Object(il.e)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Wy(t,n)];case 1:return s.sent(),[4,Ky(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ol.FAILED_PRECONDITION||t.code===ol.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Rv(t){if(t._initialized||t._terminated)throw new al(ol.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Fv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new al(ol.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Il(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Uv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Nl.fromBase64String(e))}catch(e){throw new al(ol.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Nl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Bv=function(t){this._methodName=t},Vv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new al(ol.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new al(ol.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return bl(this._lat,t._lat)||bl(this._long,t._long)},t}(),zv=/^__.*__$/,qv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new md(t,this.data,this.fieldMask,e,this.fieldTransforms):new gd(t,this.data,e,this.fieldTransforms)},t}(),Hv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new md(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Qv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pl()}}var $v=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Oc(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,$c:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,$c:!0})},t.prototype.Bc=function(t){return db(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Oc(this.path.get(t))},t.prototype.Oc=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(Qv(this.xc)&&zv.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Gv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||cm(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new $v({xc:t,methodName:e,Uc:n,path:Il.emptyPath(),$c:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Wv(t){var e=t._freezeSettings(),n=cm(t._databaseId);return new Gv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kv(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Qc(s.merge||s.mergeFields?2:0,e,n,i);ub("Data must be an object, but it was:",o,r);var a,u,c=ob(r,o);if(s.merge)a=new Pl(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=cb(e,d[h],n);if(!o.contains(f))throw new al(ol.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");fb(l,f)||l.push(f)}a=new Pl(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new qv(new ih(c),a,u)}var Yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Bv);function Xv(t,e,n){return new $v({xc:3,Uc:e.settings.Uc,methodName:t._methodName,$c:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e.prototype._toFieldTransform=function(t){return new sd(t.path,new Xh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Bv),Jv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(il.d)(e,t),e.prototype._toFieldTransform=function(t){var e=Xv(this,t,!0),n=this.Kc.map(function(t){return sb(t,e)}),r=new Zh(n);return new sd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bv),tb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(il.d)(e,t),e.prototype._toFieldTransform=function(t){var e=Xv(this,t,!0),n=this.Kc.map(function(t){return sb(t,e)}),r=new td(n);return new sd(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Bv),eb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(il.d)(e,t),e.prototype._toFieldTransform=function(t){var e=new nd(t.R,$h(t.R,this.jc));return new sd(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Bv);function nb(t,e,n,r){var i=t.Qc(1,e,n);ub("Data must be an object, but it was:",i,r);var s=[],o=ih.empty();El(r,function(t,r){var a=hb(e,t,n);r=Object(to.k)(r);var u=i.Mc(a);if(r instanceof Yv)s.push(a);else{var c=sb(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Pl(s);return new Hv(o,a,i.fieldTransforms)}function rb(t,e,n,r,i,s){var o=t.Qc(1,e,n),a=[cb(e,r,n)],u=[i];if(s.length%2!=0)throw new al(ol.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(cb(e,s[c])),u.push(s[c+1]);for(var l=[],h=ih.empty(),d=a.length-1;d>=0;--d)if(!fb(l,a[d])){var f=a[d],p=u[d];p=Object(to.k)(p);var g=o.Mc(f);if(p instanceof Yv)l.push(f);else{var m=sb(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new Pl(l);return new Hv(h,y,o.fieldTransforms)}function ib(t,e,n,r){return void 0===r&&(r=!1),sb(n,t.Qc(r?4:3,e))}function sb(t,e){if(ab(t=Object(to.k)(t)))return ub("Unsupported field value:",e,t),ob(t,e);if(t instanceof Bv)return function(t,e){if(!Qv(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.$c&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=sb(s[i],e.Lc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(to.k)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $h(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Sl.fromDate(t);return{timestampValue:tf(e.R,n)}}if(t instanceof Sl)return n=new Sl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:tf(e.R,n)};if(t instanceof Vv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uv)return{bytesValue:ef(e.R,t._byteString)};if(t instanceof Tv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:sf(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+bv(t))}(t,e)}function ob(t,e){var n={};return Cl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):El(t,function(t,r){var i=sb(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function ab(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Sl||t instanceof Vv||t instanceof Uv||t instanceof Tv||t instanceof Bv)}function ub(t,e,n){if(!ab(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=bv(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function cb(t,e,n){if((e=Object(to.k)(e))instanceof Fv)return e._internalPath;if("string"==typeof e)return hb(t,e);throw db("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var lb=new RegExp("[~\\*/\\[\\]]");function hb(t,e,n){if(e.search(lb)>=0)throw db("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Fv.bind.apply(Fv,Object(il.g)([void 0],e.split(".")))))._internalPath}catch(r){throw db("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function db(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new al(ol.INVALID_ARGUMENT,(a+=". ")+t+u)}function fb(t,e){return t.some(function(t){return t.isEqual(e)})}var pb=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Tv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new gb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(mb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),gb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(pb);function mb(t,e){return"string"==typeof e?hb(t,e):e instanceof Fv?e._internalPath:e._delegate._internalPath}var yb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),vb=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(il.d)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(mb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(pb),bb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(vb),wb=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new yb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new bb(n._firestore,n._userDataWriter,r.key,r,new yb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new al(ol.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new bb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new yb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new bb(t._firestore,t._userDataWriter,e.doc.key,e.doc,new yb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:_b(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function _b(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pl()}}function Sb(t,e){return t instanceof vb&&e instanceof vb?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof wb&&e instanceof wb&&t._firestore===e._firestore&&Iv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function xb(t){if(Ph(t)&&0===t.explicitOrderBy.length)throw new al(ol.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tb=function(){};function Eb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var Cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Object(il.d)(e,t),e.prototype._apply=function(t){var e=Wv(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new al(ol.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Db(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Nb(r,t,l[c]));a={arrayValue:{values:u}}}else a=Nb(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Db(o,s),a=ib(n,"where",o,"in"===s||"not-in"===s);var h=dh.create(i,s,a);return function(t,e){if(e.g()){var n=Dh(t);if(null!==n&&!n.isEqual(e.field))throw new al(ol.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Nh(t);null!==r&&Lb(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new al(ol.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new Ev(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Tb),Ob=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Object(il.d)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new al(ol.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new al(ol.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xh(e,n);return function(t,e){if(null===Nh(t)){var n=Dh(t);null!==n&&Lb(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new Ev(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Oh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Tb),kb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(il.d)(e,t),e.prototype._apply=function(t){return new Ev(t.firestore,t.converter,Rh(t._query,this.Jc,this.Yc))},e}(Tb),Ab=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(il.d)(e,t),e.prototype._apply=function(t){var e=Pb(t,this.type,this.Xc,this.Zc);return new Ev(t.firestore,t.converter,function(t,e){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Tb),Ib=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(il.d)(e,t),e.prototype._apply=function(t){var e=Pb(t,this.type,this.Xc,this.Zc);return new Ev(t.firestore,t.converter,function(t,e){return new Oh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Tb);function Pb(t,e,n,r){if(n[0]=Object(to.k)(n[0]),n[0]instanceof pb)return function(t,e,n,r,i){if(!r)throw new al(ol.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=jh(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Xl(e,r.key));else{var c=r.data.field(u.field);if(Rl(c))throw new al(ol.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new al(ol.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new _h(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Wv(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new al(ol.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new al(ol.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Lh(t)&&-1!==c.indexOf("/"))throw new al(ol.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(kl.fromString(c));if(!ql.isDocumentKey(l))throw new al(ol.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ql(l);a.push(Xl(e,h))}else{var d=ib(n,r,c);a.push(d)}}return new _h(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Nb(t,e,n){if("string"==typeof(n=Object(to.k)(n))){if(""===n)throw new al(ol.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lh(e)&&-1!==n.indexOf("/"))throw new al(ol.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(kl.fromString(n));if(!ql.isDocumentKey(r))throw new al(ol.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Xl(t,new ql(r))}if(n instanceof Tv)return Xl(t,n._key);throw new al(ol.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+bv(n)+".")}function Db(t,e){if(!Array.isArray(t)||0===t.length)throw new al(ol.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new al(ol.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Lb(t,e,n){if(!n.isEqual(e))throw new al(ol.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var jb=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Hl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return jl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ml(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw pl()}},t.prototype.convertObject=function(t,e){var n=this,r={};return El(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Vv(jl(t.latitude),jl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Fl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Ul(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Ll(t);return new Sl(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=kl.fromString(t);gl(If(n));var r=new ov(n.get(1),n.get(3)),i=new ql(n.popFirst(5));return r.isEqual(e)||hl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Mb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Rb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(il.d)(e,t),e.prototype.convertBytes=function(t){return new Uv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tv(this.firestore,null,e)},e}(jb),Fb=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Wv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Ub(t,this._firestore),i=Mb(r.converter,e,n),s=Kv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ad.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Ub(t,this._firestore);return s="string"==typeof(e=Object(to.k)(e))||e instanceof Fv?rb(this._dataReader,"WriteBatch.update",o._key,e,n,r):nb(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,ad.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Ub(t,this._firestore);return this._mutations=this._mutations.concat(new Sd(e._key,ad.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new al(ol.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Ub(t,e){if((t=Object(to.k)(t)).firestore!==e)throw new al(ol.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Bb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(il.d)(e,t),e.prototype.convertBytes=function(t){return new Uv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tv(this.firestore,null,e)},e}(jb);function Vb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=wv(t,Tv);var s=wv(t.firestore,Dv),o=Wv(s);return qb(s,[("string"==typeof(e=Object(to.k)(e))||e instanceof Fv?rb(o,"updateDoc",t._key,e,n,r):nb(o,"updateDoc",t._key,e)).toMutation(t._key,ad.exists(!0))])}function zb(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(to.k)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Nv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Nv(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Tv)c=wv(t.firestore,Dv),l=Ah(t._key.path),u={next:function(e){i[a]&&i[a](Hb(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=wv(t,Ev);c=wv(f.firestore,Dv),l=f._query;var p=new Bb(c);u={next:function(t){i[a]&&i[a](new wb(c,p,f,t))},error:i[a+1],complete:i[a+2]},xb(t._query)}return function(t,e,n,r){var i=this,s=new Hy(r),o=new ty(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(i,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return e=Km,[4,nv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(i,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return e=Ym,[4,nv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Lv(c),l,h,u)}function qb(t,e){return function(t,e){var n=this,r=new tp;return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(n,void 0,void 0,function(){var n;return Object(il.e)(this,function(i){switch(i.label){case 0:return n=dy,[4,ev(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Lv(t),e)}function Hb(t,e,n){var r=n.docs.get(e._key),i=new Bb(t);return new vb(t,i,e._key,r,new yb(n.hasPendingWrites,n.fromCache),e.converter)}var Qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(il.d)(e,t),e.prototype.get=function(e){var n=this,r=Ub(e,this._firestore),i=new Bb(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new vb(n._firestore,i,r._key,t._document,new yb(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Wv(t)}return t.prototype.get=function(t){var e=this,n=Ub(t,this._firestore),r=new Rb(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return pl();var i=t[0];if(i.isFoundDocument())return new pb(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new pb(e._firestore,r,n._key,null,n.converter);throw pl()})},t.prototype.set=function(t,e,n){var r=Ub(t,this._firestore),i=Mb(r.converter,e,n),s=Kv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Ub(t,this._firestore);return s="string"==typeof(e=Object(to.k)(e))||e instanceof Fv?rb(this._dataReader,"Transaction.update",o._key,e,n,r):nb(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Ub(t,this._firestore);return this._transaction.delete(e._key),this},t}());function $b(){if("undefined"==typeof Uint8Array)throw new al(ol.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Gb(){if("undefined"==typeof atob)throw new al(ol.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Wb=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Gb(),new t(Uv.fromBase64String(e))},t.fromUint8Array=function(e){return $b(),new t(Uv.fromUint8Array(e))},t.prototype.toBase64=function(){return Gb(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return $b(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Kb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Rv(t=wv(t,Dv));var n=Lv(t),r=t._freezeSettings(),i=new qy;return Mv(n,i,new Vy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Rv(t=wv(t,Dv));var e=Lv(t),n=t._freezeSettings(),r=new qy;return Mv(e,r,new zy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new al(ol.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new tp;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(il.b)(e,void 0,void 0,function(){var e;return Object(il.e)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(il.b)(this,void 0,void 0,function(){return Object(il.e)(this,function(e){switch(e.label){case 0:return rp.yt()?[4,rp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(pg(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Yb=function(){function t(t,e,n){var r=this;this._delegate=e,this.tu=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof ov||(this.eu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||dl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=wv(t,xv))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&dl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(to.g)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new al(ol.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new lv(new uv(s,new Qg(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(il.b)(e,void 0,void 0,function(){var e,n;return Object(il.e)(this,function(r){switch(r.label){case 0:return[4,Zy(t)];case 1:return e=r.sent(),[4,tv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ml(t);return e.Or.delete(0),ym(e)}(n))]}})})})}(Lv(wv(this._delegate,Dv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(il.b)(e,void 0,void 0,function(){var e,n;return Object(il.e)(this,function(r){switch(r.label){case 0:return[4,Zy(t)];case 1:return e=r.sent(),[4,tv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(il.b)(this,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return(e=ml(t)).Or.add(0),[4,vm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Lv(wv(this._delegate,Dv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&mv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.tu.enableMultiTabIndexedDbPersistence(this):this.tu.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.tu.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.eu&&(this.eu._removeServiceInstance("firestore"),this.eu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new tp;return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(e,void 0,void 0,function(){var e;return Object(il.e)(this,function(r){switch(r.label){case 0:return e=vy,[4,ev(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Lv(wv(this._delegate,Dv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Hy(e);return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(n,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return e=function(t,e){ml(t).Gr.add(e),e.next()},[4,nv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(n,void 0,void 0,function(){var e;return Object(il.e)(this,function(n){switch(n.label){case 0:return e=function(t,e){ml(t).Gr.delete(e)},[4,nv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Lv(t=wv(t,Dv)),Nv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.eu)throw new al(ol.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.eu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new lw(this,Ov(this._delegate,t))}catch(t){throw nw(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ew(this,kv(this._delegate,t))}catch(t){throw nw(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new aw(this,function(t,e){if(t=wv(t,xv),pv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new al(ol.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ev(t,null,function(t){return new Oh(kl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw nw(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new tp;return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(n,void 0,void 0,function(){var n;return Object(il.e)(this,function(i){switch(i.label){case 0:return[4,function(t){return Xy(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new $y(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Lv(t),function(n){return e(new Qb(t,n))})}(this._delegate,function(n){return t(new Zb(e,n))})},t.prototype.batch=function(){var t=this;return Lv(this._delegate),new Jb(new Fb(this._delegate,function(e){return qb(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new al(ol.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new al(ol.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Xb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(il.d)(e,t),e.prototype.convertBytes=function(t){return new Wb(new Uv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ew.nu(e,this.firestore,null)},e}(jb),Zb=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Xb(t)}return t.prototype.get=function(t){var e=this,n=hw(t);return this._delegate.get(n).then(function(t){return new sw(e._firestore,new vb(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=hw(t);return n?(gv("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=hw(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(il.g)([o,e,n],i)),this},t.prototype.delete=function(t){var e=hw(t);return this._delegate.delete(e),this},t}(),Jb=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=hw(t);return n?(gv("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=hw(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(il.g)([o,e,n],i)),this},t.prototype.delete=function(t){var e=hw(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),tw=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new bb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ow(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.su=function(e,n){var r=t.iu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new Xb(e),n),i.set(n,s)),s},t}();tw.iu=new WeakMap;var ew=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Xb(t)}return t.ru=function(e,n,r){if(e.length%2!=0)throw new al(ol.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Tv(n._delegate,r,new ql(e)))},t.nu=function(e,n,r){return new t(n,new Tv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new lw(this.firestore,Ov(this._delegate,t))}catch(t){throw nw(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(to.k)(t))instanceof Tv&&Av(this._delegate,t)},t.prototype.set=function(t,e){e=gv("DocumentReference.set",e);try{return function(t,e,n){t=wv(t,Tv);var r=wv(t.firestore,Dv),i=Mb(t.converter,e,n);return qb(r,[Kv(Wv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ad.none())])}(this._delegate,t,e)}catch(t){throw nw(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Vb(this._delegate,t):Vb.apply(void 0,Object(il.g)([this._delegate,t,e],n))}catch(t){throw nw(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return qb(wv((t=this._delegate).firestore,Dv),[new Sd(t._key,ad.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rw(e),i=iw(e,function(e){return new sw(t.firestore,new vb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return zb(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wv(t,Tv);var e=wv(t.firestore,Dv),n=Lv(e),r=new Bb(e);return function(t,e){var n=this,r=new tp;return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(n,void 0,void 0,function(){var n;return Object(il.e)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i;return Object(il.e)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=ml(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new al(ol.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=qm(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Jy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new vb(e,r,t._key,n,new yb(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=wv(t,Tv);var e=wv(t.firestore,Dv);return rv(Lv(e),t._key,{source:"server"}).then(function(n){return Hb(e,t,n)})}(this._delegate):function(t){t=wv(t,Tv);var e=wv(t.firestore,Dv);return rv(Lv(e),t._key).then(function(n){return Hb(e,t,n)})}(this._delegate)).then(function(t){return new sw(e.firestore,new vb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?tw.su(this.firestore,e):null))},t}();function nw(t,e,n){return t.message=t.message.replace(e,n),t}function rw(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Nv(r))return r}return{}}function iw(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Nv(t[0])?t[0]:Nv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var sw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ew(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Sb(this._delegate,t._delegate)},t}(),ow=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(il.d)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(sw),aw=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Xb(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Eb(this._delegate,function(t,e,n){var r=e,i=mb("where",t);return new Cb(i,r,n)}(e,n,r)))}catch(e){throw nw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Eb(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=mb("orderBy",t);return new Ob(r,n)}(e,n)))}catch(e){throw nw(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Eb(this._delegate,function(t){return _v("limit",t),new kb("limit",t,"F")}(e)))}catch(e){throw nw(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Eb(this._delegate,function(t){return _v("limitToLast",t),new kb("limitToLast",t,"L")}(e)))}catch(e){throw nw(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ab("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw nw(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ab("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw nw(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ib("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw nw(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Eb(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ib("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw nw(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Iv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=wv(t,Ev);var e=wv(t.firestore,Dv),n=Lv(e),r=new Bb(e);return function(t,e){var n=this,r=new tp;return t.asyncQueue.enqueueAndForget(function(){return Object(il.b)(n,void 0,void 0,function(){var n;return Object(il.e)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(il.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(il.e)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ag(t,e,!0)];case 1:return a=u.sent(),r=new sy(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=qm(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Jy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new wb(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=wv(t,Ev);var e=wv(t.firestore,Dv),n=Lv(e),r=new Bb(e);return iv(n,t._query,{source:"server"}).then(function(n){return new wb(e,r,t,n)})}(this._delegate):function(t){t=wv(t,Ev);var e=wv(t.firestore,Dv),n=Lv(e),r=new Bb(e);return xb(t._query),iv(n,t._query).then(function(n){return new wb(e,r,t,n)})}(this._delegate)).then(function(t){return new cw(e.firestore,new wb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=rw(e),i=iw(e,function(e){return new cw(t.firestore,new wb(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return zb(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?tw.su(this.firestore,e):null))},t}(),uw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ow(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),cw=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new aw(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new ow(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new uw(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new ow(n._firestore,r))})},t.prototype.isEqual=function(t){return Sb(this._delegate,t._delegate)},t}(),lw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(il.d)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ew(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ew(this.firestore,void 0===t?kv(this._delegate):kv(this._delegate,t))}catch(t){throw nw(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=wv(t.firestore,Dv),r=kv(t),i=Mb(t.converter,e);return qb(n,[Kv(Wv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ad.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new ew(e.firestore,t)})},e.prototype.isEqual=function(t){return Av(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?tw.su(this.firestore,t):null))},e}(aw);function hw(t){return wv(t,Tv)}var dw,fw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Fv.bind.apply(Fv,Object(il.g)([void 0],t)))}return t.documentId=function(){return new t(Il.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(to.k)(t))instanceof Fv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),pw=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Zv("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Yv("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new eb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),gw=n("/6Yf"),mw={Firestore:Yb,GeoPoint:Vv,Timestamp:Sl,Blob:Wb,Transaction:Zb,WriteBatch:Jb,DocumentReference:ew,DocumentSnapshot:sw,Query:aw,QueryDocumentSnapshot:ow,QuerySnapshot:cw,CollectionReference:lw,FieldPath:fw,FieldValue:pw,setLogLevel:function(t){ul.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new gw.a("firestore",function(t){return function(t,e){return new Yb(t,new Dv(t,e),new Kb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},mw)))})(dw=Js.a),dw.registerVersion("@firebase/firestore","2.3.2");var yw=n("VRyK"),vw=n("qgXg"),bw=n("Ylt2");class ww extends Ke.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new _w(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Ye.a;if(this.isStopped||this.hasError?s=Qn.a.EMPTY:(this.observers.push(t),s=new bw.a(this,t)),r&&t.add(t=new Ys.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||vw.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class _w{constructor(t,e){this.time=t,this.value=e}}function Sw(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new ww(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function xw(t,e){return e?yn(()=>t,e):yn(()=>t)}var Tw=n("tf+s");const Ew=new r.r("angularfire2.auth.use-emulator"),Cw=new r.r("angularfire2.auth.settings"),Ow=new r.r("angularfire2.auth.tenant-id"),kw=new r.r("angularfire2.auth.langugage-code"),Aw=new r.r("angularfire2.auth.use-device-language"),Iw=new r.r("angularfire.auth.persistence");let Pw=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new Xs.e(i),d=Object(Xs.i)(h),f=new Ke.a,p=Object(ae.a)(void 0).pipe(Object(Ys.b)(h.outsideAngular),yn(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(ge.a)(()=>Object(Xs.h)(t,i,e)),Object(ge.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(Xs.g)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Sw({bufferSize:1,refCount:!1}));if(Et(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ae.a)(null);else{p.pipe(zn()).subscribe();const t=p.pipe(yn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Sw({bufferSize:1,refCount:!1})),e=t=>new ue.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(yn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(yn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(xw(n),Object(Tw.a)(h.outsideAngular),Object(Ys.b)(h.insideAngular)),this.user=t.pipe(xw(r),Object(Tw.a)(h.outsideAngular),Object(Ys.b)(h.insideAngular)),this.idToken=this.user.pipe(yn(t=>t?Object(We.a)(t.getIdToken()):Object(ae.a)(null))),this.idTokenResult=this.user.pipe(yn(t=>t?Object(We.a)(t.getIdTokenResult()):Object(ae.a)(null))),this.credential=Object(yw.a)(t,f,this.authState.pipe(de(t=>!t))).pipe(Object(ge.a)(t=>(null==t?void 0:t.user)?t:null),Object(Tw.a)(h.outsideAngular),Object(Ys.b)(h.insideAngular))}return Object(Xs.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xs.c),r.Ub(Xs.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(Ew,8),r.Ub(Cw,8),r.Ub(Ow,8),r.Ub(kw,8),r.Ub(Aw,8),r.Ub(Iw,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Ub(Xs.c),r.Ub(Xs.b,8),r.Ub(r.C),r.Ub(r.A),r.Ub(Ew,8),r.Ub(Cw,8),r.Ub(Ow,8),r.Ub(kw,8),r.Ub(Aw,8),r.Ub(Iw,8))},token:t,providedIn:"any"}),t})();function Nw(t,e){return function(t,e=qs.b){return new ue.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Dw(t,e){return Nw(t,e).pipe(Object(ge.a)(t=>({payload:t,type:"query"})))}function Lw(t,e){return Dw(t,e).pipe(Tn(void 0),Hs(),Object(ge.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function jw(t,e,n){return Lw(t,n).pipe(En((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Mw(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Mw(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Mw(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Gs(),Object(ge.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Mw(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Rw(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Xs.f)(Pw,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class Fw{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=Lw(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(ge.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Tn(void 0),Hs(),de(([t,e])=>e.length>0||!t),Object(ge.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(En((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Rw(t);return jw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Dw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ge.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(We.a)(this.query.get(t)).pipe(Object(Ys.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Uw(this.ref.doc(t),this.afs)}}class Uw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Qw(n,e);return new Fw(r,i,this.afs)}snapshotChanges(){return Nw(this.ref,this.afs.schedulers.outsideAngular).pipe(Tn(void 0),Hs(),Object(ge.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ge.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(We.a)(this.ref.get(t)).pipe(Object(Ys.b)(this.afs.schedulers.insideAngular))}}class Bw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Lw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ge.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),de(t=>t.length>0),this.afs.keepUnstableUntilFirst):Lw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(En((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Rw(t);return jw(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Dw(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ge.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(We.a)(this.query.get(t)).pipe(Object(Ys.b)(this.afs.schedulers.insideAngular))}}const Vw=new r.r("angularfire2.enableFirestorePersistence"),zw=new r.r("angularfire2.firestore.persistenceSettings"),qw=new r.r("angularfire2.firestore.settings"),Hw=new r.r("angularfire2.firestore.use-emulator");function Qw(t,e=(t=>t)){return{query:e(t),ref:t}}let $w=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Xs.e(s),this.keepUnstableUntilFirst=Object(Xs.i)(this.schedulers);const c=Object(Xs.h)(t,s,e);!Zs.a.auth&&u&&Object(Xs.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(Xs.g)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Et(i)){const e=()=>{try{return Object(We.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(dw){return"undefined"!=typeof console&&console.warn(dw),Object(ae.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(ae.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Qw(n,e),s=this.schedulers.ngZone.run(()=>r);return new Fw(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Bw(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Uw(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xs.c),r.Ub(Xs.b,8),r.Ub(Vw,8),r.Ub(qw,8),r.Ub(r.C),r.Ub(r.A),r.Ub(zw,8),r.Ub(Hw,8),r.Ub(Ew,8))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Ub(Xs.c),r.Ub(Xs.b,8),r.Ub(Vw,8),r.Ub(qw,8),r.Ub(r.C),r.Ub(r.A),r.Ub(zw,8),r.Ub(Hw,8),r.Ub(Ew,8))},token:t,providedIn:"any"}),t})(),Gw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Vw,useValue:!0},{provide:zw,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[$w]}),t})(),Ww=(()=>{class t{constructor(t,e){this.http=t,this.afs=e,this.carteleraPage=1,this.baseUrl="https://api.themoviedb.org/3",this.cargando=!1,this.votos=[],this.itemsColletion=this.afs.collection("votos")}get params(){return{api_key:"8cb12934c3712ccdd03f2c8ef4bf18cc",language:"es-Es",page:this.carteleraPage.toString()}}resetCarteleraPage(){this.carteleraPage=1}getCartelera(){return this.cargando?Object(ae.a)([]):(this.cargando=!0,this.http.get(`${this.baseUrl}/movie/now_playing`,{params:this.params}).pipe(Object(ge.a)(t=>t.results),Object(qn.a)(()=>{this.carteleraPage+=1,this.cargando=!1})))}getGeneros(){return this.http.get(`${this.baseUrl}/genre/movie/list`,{params:this.params}).pipe(Object(ge.a)(t=>t.genres),kn(t=>Object(ae.a)(null)))}cargarVotosPelis(){return this.votos.length>0?Object(ae.a)(this.votos):this.itemsColletion.valueChanges().pipe(Object(qn.a)(t=>this.votos=t))}votarPeli(t){}agregarPeliculaConVotos(t){for(const e in t)this.votos.push({id:t[e].id,nombre:t[e].title,url:t[e].poster_path,votos:t[e].vote_count}),this.itemsColletion.add(this.votos[e])}getVideoTrailer(t){const e=Object.assign(Object.assign({},this.params),{lenguage:"es-Es"});return this.http.get(`${this.baseUrl}/movie/${t}/videos`,{params:e}).pipe(Object(ge.a)(t=>t.results),kn(t=>Object(ae.a)(null)))}buscarPeliculas(t){const e=Object.assign(Object.assign({},this.params),{page:"1",lenguage:"es-Es",query:t,include_adult:"true"});return this.http.get(`${this.baseUrl}/search/movie?`,{params:e}).pipe(Object(ge.a)(t=>t.results))}getPeliculaDetalle(t){return this.http.get(`${this.baseUrl}/movie/${t}`,{params:this.params}).pipe(kn(t=>Object(ae.a)(null)))}getCast(t){return this.http.get(`${this.baseUrl}/movie/${t}/credits`,{params:this.params}).pipe(Object(ge.a)(t=>t.cast),kn(t=>Object(ae.a)(null)))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Ne),r.Ub($w))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();n("XoHu");let Kw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({}),t})(),Yw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[Kw]]}),t})(),Xw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[Yw]}),t})();const Zw=["starMain"];var Jw;let t_=(()=>{let t=Jw=class{constructor(){this.stars=[],this._readOnly=!1,this._totalStars=5,this.rate=new r.n,this.onStarsCountChange=new Ke.a,this.onStarsCountChange.subscribe(()=>{this.setStars(),this.generateRating(!0),this.applySizeAllStars(),this.applyColorStyleAllStars(!1),this.addEvents()}),this.onValueChange=new Ke.a,this.onValueChange.subscribe(()=>{this.generateRating(),this.applySizeAllStars()}),this.onCheckedColorChange=new Ke.a,this.onCheckedColorChange.subscribe(()=>{this.applyColorStyleAllStars(!0)}),this.onUnCheckedColorChange=new Ke.a,this.onUnCheckedColorChange.subscribe(()=>{this.applyColorStyleAllStars(!1)}),this.onSizeChange=new Ke.a,this.onSizeChange.subscribe(()=>{this.applySizeAllStars()}),this.onReadOnlyChange=new Ke.a,this.onReadOnlyChange.subscribe(()=>{this.readonly?this.makeReadOnly():this.makeEditable()})}get checkedcolor(){return this._checkedColor}get uncheckedcolor(){return this._unCheckedColor}get value(){return this._value}get size(){return this._size.concat(this._size.includes("px")?"":"px")}get readonly(){return"true"===String(this._readOnly)}get totalstars(){return this._totalStars}set checkedcolor(t){this._checkedColor=t,this._checkedColor&&this.onCheckedColorChange.next(this._checkedColor)}set uncheckedcolor(t){this._unCheckedColor=t,this._unCheckedColor&&this.onUnCheckedColorChange.next(this._unCheckedColor)}set value(t){this._value=t=t&&null!=t?t:0,this._value>=0&&this.onValueChange.next(this._value)}set size(t){this._size=t=t&&null!=t&&"0px"!=t?t:"24px",this.onSizeChange.next(this._size)}set readonly(t){this._readOnly=t,this.onReadOnlyChange.next(t)}set totalstars(t){this._totalStars=t<=0?5:Math.round(t),this.onStarsCountChange.next(this._totalStars)}makeEditable(){this.mainElement&&(this.mainElement.nativeElement.style.cursor="pointer",this.mainElement.nativeElement.title=this.value,this.stars.forEach(t=>{t.style.cursor="pointer",t.title=t.dataset.index}))}makeReadOnly(){this.mainElement&&(this.mainElement.nativeElement.style.cursor="default",this.mainElement.nativeElement.title=this.value,this.stars.forEach(t=>{t.style.cursor="default",t.title=""}))}addEvents(){this.mainElement&&(this.mainElement.nativeElement.addEventListener("mouseleave",this.offStar.bind(this)),this.mainElement.nativeElement.style.cursor="pointer",this.mainElement.nativeElement.title=this.value,this.stars.forEach(t=>{t.addEventListener("click",this.onRate.bind(this)),t.addEventListener("mouseenter",this.onStar.bind(this)),t.style.cursor="pointer",t.title=t.dataset.index}))}ngAfterViewInit(){}onRate(t){if(this.readonly)return;let e=this.value;this.value=parseInt(t.srcElement.dataset.index),this.rate.emit({oldValue:e,newValue:this.value,starRating:this})}onStar(t){if(this.readonly)return;let e=parseInt(t.srcElement.dataset.index);for(let n=0;n<e;n++)this.stars[n].className="",this.addDefaultClass(this.stars[n]),this.addCheckedStarClass(this.stars[n]);for(let n=e;n<this.stars.length;n++)this.stars[n].className="",this.addDefaultClass(this.stars[n])}offStar(t){this.generateRating()}addDefaultClass(t){t.classList.add(Jw.CLS_DEFAULT_STAR)}addCheckedStarClass(t){t.classList.add(Jw.CLS_CHECKED_STAR)}addHalfStarClass(t){t.classList.add(Jw.CLS_HALF_STAR)}setStars(){if(!this.mainElement)return;let t=this.mainElement.nativeElement,e=[...Array(Number(this.totalstars)).keys()];this.stars.length=0,t.innerHTML="",e.forEach(e=>{let n=document.createElement("span");n.dataset.index=(e+1).toString(),n.title=n.dataset.index,t.appendChild(n),this.stars.push(n)})}applySizeAllStars(){this._size&&(0==this.stars.length&&this.setStars(),this.stars.forEach(t=>{let e=this.size.match(/\d+/)[0],n=10*parseInt(e)/24,r=0-20*parseInt(e)/24;t.style.setProperty(Jw.VAR_SIZE,this.size),t.classList.contains(Jw.CLS_HALF_STAR)&&(t.style.setProperty(Jw.VAR_HALF_WIDTH,`${n}px`),t.style.setProperty(Jw.VAR_HALF_MARGIN,`${r}px`))}))}applyColorStyleAllStars(t){0==this.stars.length&&this.setStars(),this.stars.forEach(e=>{t?this.applyCheckedColorStyle(e):this.applyUnCheckedColorStyle(e)})}applyColorStyle(t){this.applyCheckedColorStyle(t),this.applyUnCheckedColorStyle(t)}applyCheckedColorStyle(t){t.style.setProperty(Jw.VAR_CHECKED_COLOR,this.checkedcolor)}applyUnCheckedColorStyle(t){t.style.setProperty(Jw.VAR_UNCHECKED_COLOR,this.uncheckedcolor)}generateRating(t=!1){if(!this.mainElement)return;if(this.readonly&&!t)return;0==this.stars.length&&this.setStars(),this.mainElement.nativeElement.title=this.value;let e=!!(Number.parseFloat(this.value.toString())%1).toString().substring(3,2),n=1;this.stars.forEach(t=>{t.className="",this.applyColorStyle(t),this.addDefaultClass(t),this.value>=n?this.addCheckedStarClass(t):e&&(this.addHalfStarClass(t),e=!1),n++})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["star-rating"]],viewQuery:function(t,e){if(1&t&&r.Bc(Zw,3),2&t){let t;r.nc(t=r.Yb())&&(e.mainElement=t.first)}},inputs:{checkedcolor:"checkedcolor",uncheckedcolor:"uncheckedcolor",value:"value",size:"size",readonly:"readonly",totalstars:"totalstars"},outputs:{rate:"rate"},decls:2,vars:0,consts:[["starMain",""]],template:function(t,e){1&t&&r.Ob(0,"div",null,0)},styles:[":root{--checkedColor:gold;--unCheckedColor:gray;--size:24px;--halfWidth:10px;--halfMargin:-20px}.star{cursor:pointer;color:var(--unCheckedColor);font-size:var(--size);width:var(--size);display:inline-block}.star:last-child{margin-right:0}.star:before{content:'\\2605'}.star.on{color:var(--checkedColor)}.star.half:after{content:'\\2605';color:var(--checkedColor);position:absolute;margin-left:var(--halfMargin);width:var(--halfWidth);overflow:hidden}"],encapsulation:3}),t.VAR_CHECKED_COLOR="--checkedColor",t.VAR_UNCHECKED_COLOR="--unCheckedColor",t.VAR_SIZE="--size",t.VAR_HALF_WIDTH="--halfWidth",t.VAR_HALF_MARGIN="--halfMargin",t.CLS_CHECKED_STAR="on",t.CLS_DEFAULT_STAR="star",t.CLS_HALF_STAR="half",t.INP_CHECKED_COLOR="checkedcolor",t.INP_UNCHECKED_COLOR="uncheckedcolor",t.INP_VALUE="value",t.INP_SIZE="size",t.INP_READONLY="readonly",t.INP_TOTALSTARS="totalstars",t})(),e_=(()=>{let t=class{ngDoBootstrap(){}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[Xw,xt]]}),t})(),n_=(()=>{class t{transform(t){return null!=t?`https://image.tmdb.org/t/p/w500${t}`:"assets/no-image.jpg"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Mb({name:"poster",type:t,pure:!0}),t})();function r_(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",2),r.Qb(1,"img",3),r.Xb("click",function(){r.qc(t);const n=e.$implicit;return r.bc().onMovie(n)}),r.cc(2,"poster"),r.Pb(),r.Qb(3,"div"),r.Qb(4,"div",0),r.Qb(5,"div",4),r.Qb(6,"h3"),r.Qb(7,"strong"),r.xc(8),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"div",0),r.Qb(10,"div",5),r.Ob(11,"star-rating",6),r.Pb(),r.Qb(12,"div",7),r.xc(13),r.cc(14,"number"),r.Pb(),r.Pb(),r.Qb(15,"div",0),r.Qb(16,"div",8),r.Qb(17,"h6"),r.Qb(18,"small"),r.xc(19),r.cc(20,"date"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Bb(1),r.ic("src",r.dc(2,5,t.poster_path),r.sc),r.Bb(7),r.yc(t.title),r.Bb(3),r.ic("value",t.vote_average),r.Bb(2),r.zc(" ",r.ec(14,7,t.vote_average,"1.1-2"),"/10 "),r.Bb(6),r.yc(r.ec(20,10,t.release_date,"YYYY"))}}let i_=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}onMovie(t){this.router.navigate(["/pelicula",t.id])}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(bs))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-peliculas-poster-grid"]],inputs:{movies:"movies"},decls:2,vars:1,consts:[[1,"row"],["class","col-md-3 mb-5 animated fadeIn",4,"ngFor","ngForOf"],[1,"col-md-3","mb-5","animated","fadeIn"],[1,"img-fluid","poster","puntero",3,"src","click"],[1,"col-12"],[1,"col-9"],["totalstars","10","checkedcolor","yellow","uncheckedcolor","grey","size","14px","readonly","false",3,"value"],[1,"col-2","text-white"],[1,"col-12","text-white",2,"text-align","center"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.vc(1,r_,21,13,"div",1),r.Pb()),2&t&&(r.Bb(1),r.ic("ngForOf",e.movies))},directives:[dt,t_],pipes:[n_,_t,wt],styles:[".poster[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 0 10px #000;height:400px;margin:5px;width:100%}h3[_ngcontent-%COMP%]{height:40px;font-size:15px;text-align:center}"]}),t})(),s_=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-loading"]],decls:16,vars:0,consts:[[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","m-3","text-light",2,"width","3rem","height","3rem"],[1,"visually-hidden"],[1,"d-flex","justify-content-center","mb-3"],[1,"text-light"],["role","status",1,"spinner-grow","spinner-grow-sm","text-light"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"span",2),r.xc(3,"Cargando ..."),r.Pb(),r.Pb(),r.Pb(),r.Qb(4,"div",3),r.Qb(5,"span",4),r.xc(6,"Cargando "),r.Qb(7,"div",5),r.Qb(8,"span",2),r.xc(9,"Loading..."),r.Pb(),r.Pb(),r.Qb(10,"div",5),r.Qb(11,"span",2),r.xc(12,"Loading..."),r.Pb(),r.Pb(),r.Qb(13,"div",5),r.Qb(14,"span",2),r.xc(15,"Loading..."),r.Pb(),r.Pb(),r.Pb(),r.Pb())},styles:[""]}),t})();function o_(t,e){1&t&&r.Ob(0,"app-loading")}function a_(t,e){if(1&t&&(r.Qb(0,"div",8),r.Qb(1,"h3"),r.Ob(2,"i",9),r.xc(3," Error"),r.Pb(),r.Qb(4,"p"),r.xc(5),r.Pb(),r.Pb()),2&t){const t=r.bc();r.Bb(5),r.zc(" ",t.errorMensaje," ")}}function u_(t,e){if(1&t&&(r.Qb(0,"div",10),r.Qb(1,"h1",11),r.Qb(2,"strong"),r.xc(3,"No se encontraron resultados"),r.Pb(),r.Pb(),r.Qb(4,"p",11),r.xc(5," No se encontraron resultados para la busqueda "),r.Qb(6,"strong"),r.xc(7),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.bc();r.Bb(7),r.yc(t.valorBuscado)}}let c_=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.peliculasService=e,this.movies=[],this.valorBuscado="",this.result=!1}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.loading=!0,this.error=!1,this.valorBuscado=t.texto,this.peliculasService.buscarPeliculas(t.texto).subscribe(t=>{this.loading=!1,t.length>0?(this.result=!1,this.movies=t):(this.result=!0,this.movies=[])},t=>{this.loading=!1,this.error=!0,this.errorMensaje=t.error.error.message})})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Jr),r.Nb(Ww))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-buscar"]],decls:11,vars:5,consts:[[1,"container"],[1,"text-capitalize"],[4,"ngIf"],["class","alert alert-danger animated fadeIn m-5",4,"ngIf"],["class","alert alert-info  animated fadeIn m-5",4,"ngIf"],[1,"row"],[1,"col","animated","fadeIn"],[3,"movies"],[1,"alert","alert-danger","animated","fadeIn","m-5"],[1,"bi","bi-exclamation-diamond-fill"],[1,"alert","alert-info","animated","fadeIn","m-5"],[1,"text-dark"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"h1"),r.xc(2,"Buscar Peliculas - "),r.Qb(3,"small",1),r.xc(4),r.Pb(),r.Pb(),r.vc(5,o_,1,0,"app-loading",2),r.vc(6,a_,6,1,"div",3),r.vc(7,u_,8,1,"div",4),r.Qb(8,"div",5),r.Qb(9,"div",6),r.Ob(10,"app-peliculas-poster-grid",7),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Bb(4),r.yc(e.valorBuscado),r.Bb(1),r.ic("ngIf",e.loading),r.Bb(1),r.ic("ngIf",e.error),r.Bb(1),r.ic("ngIf",e.result),r.Bb(3),r.ic("movies",e.movies))},directives:[pt,i_,s_],styles:[""]}),t})();function l_(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function h_(t,e){void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(e).forEach(function(n){void 0===t[n]?t[n]=e[n]:l_(e[n])&&l_(t[n])&&Object.keys(e[n]).length>0&&h_(t[n],e[n])})}var d_={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function f_(){var t="undefined"!=typeof document?document:{};return h_(t,d_),t}var p_={document:d_,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(t){return"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame:function(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function g_(){var t="undefined"!=typeof window?window:{};return h_(t,p_),t}function m_(t){return(m_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y_(t,e){return(y_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v_(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(dw){return!1}}function b_(t,e,n){return(b_=v_()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&y_(i,n.prototype),i}).apply(null,arguments)}function w_(t){var e="function"==typeof Map?new Map:void 0;return(w_=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return b_(t,arguments,m_(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y_(n,t)})(t)}var __=function(t){var e,n;function r(e){var n,r,i;return r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call.apply(t,[this].concat(e))||this),i=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return i},set:function(t){i.__proto__=t}}),n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(w_(Array));function S_(t){void 0===t&&(t=[]);var e=[];return t.forEach(function(t){Array.isArray(t)?e.push.apply(e,S_(t)):e.push(t)}),e}function x_(t,e){return Array.prototype.filter.call(t,e)}function T_(t,e){var n=g_(),r=f_(),i=[];if(!e&&t instanceof __)return t;if(!t)return new __(i);if("string"==typeof t){var s=t.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){var o="div";0===s.indexOf("<li")&&(o="ul"),0===s.indexOf("<tr")&&(o="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(o="tr"),0===s.indexOf("<tbody")&&(o="table"),0===s.indexOf("<option")&&(o="select");var a=r.createElement(o);a.innerHTML=s;for(var u=0;u<a.childNodes.length;u+=1)i.push(a.childNodes[u])}else i=function(t,e){if("string"!=typeof t)return[t];for(var n=[],r=e.querySelectorAll(t),i=0;i<r.length;i+=1)n.push(r[i]);return n}(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof __)return t;i=t}return new __(function(t){for(var e=[],n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(i))}T_.fn=__.prototype;var E_="resize scroll".split(" ");function C_(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(void 0===n[0]){for(var i=0;i<this.length;i+=1)E_.indexOf(t)<0&&(t in this[i]?this[i][t]():T_(this[i]).trigger(t));return this}return this.on.apply(this,[t].concat(n))}}C_("click"),C_("blur"),C_("focus"),C_("focusin"),C_("focusout"),C_("keyup"),C_("keydown"),C_("keypress"),C_("submit"),C_("change"),C_("mousedown"),C_("mousemove"),C_("mouseup"),C_("mouseenter"),C_("mouseleave"),C_("mouseout"),C_("mouseover"),C_("touchstart"),C_("touchend"),C_("touchmove"),C_("resize"),C_("scroll");var O_={addClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=S_(e.map(function(t){return t.split(" ")}));return this.forEach(function(t){var e;(e=t.classList).add.apply(e,r)}),this},removeClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=S_(e.map(function(t){return t.split(" ")}));return this.forEach(function(t){var e;(e=t.classList).remove.apply(e,r)}),this},hasClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=S_(e.map(function(t){return t.split(" ")}));return x_(this,function(t){return r.filter(function(e){return t.classList.contains(e)}).length>0}).length>0},toggleClass:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=S_(e.map(function(t){return t.split(" ")}));this.forEach(function(t){r.forEach(function(e){t.classList.toggle(e)})})},attr:function(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(var r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this},removeAttr:function(t){for(var e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(var e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?t+"ms":t;return this},on:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],s=e[2],o=e[3];function a(t){var e=t.target;if(e){var n=t.target.dom7EventData||[];if(n.indexOf(t)<0&&n.unshift(t),T_(e).is(i))s.apply(e,n);else for(var r=T_(e).parents(),o=0;o<r.length;o+=1)T_(r[o]).is(i)&&s.apply(r[o],n)}}function u(t){var e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),s.apply(this,e)}"function"==typeof e[1]&&(r=e[0],s=e[1],o=e[2],i=void 0),o||(o=!1);for(var c,l=r.split(" "),h=0;h<this.length;h+=1){var d=this[h];if(i)for(c=0;c<l.length;c+=1){var f=l[c];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[f]||(d.dom7LiveListeners[f]=[]),d.dom7LiveListeners[f].push({listener:s,proxyListener:a}),d.addEventListener(f,a,o)}else for(c=0;c<l.length;c+=1){var p=l[c];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[p]||(d.dom7Listeners[p]=[]),d.dom7Listeners[p].push({listener:s,proxyListener:u}),d.addEventListener(p,u,o)}}return this},off:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],s=e[2],o=e[3];"function"==typeof e[1]&&(r=e[0],s=e[1],o=e[2],i=void 0),o||(o=!1);for(var a=r.split(" "),u=0;u<a.length;u+=1)for(var c=a[u],l=0;l<this.length;l+=1){var h=this[l],d=void 0;if(!i&&h.dom7Listeners?d=h.dom7Listeners[c]:i&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[c]),d&&d.length)for(var f=d.length-1;f>=0;f-=1){var p=d[f];s&&p.listener===s||s&&p.listener&&p.listener.dom7proxy&&p.listener.dom7proxy===s?(h.removeEventListener(c,p.proxyListener,o),d.splice(f,1)):s||(h.removeEventListener(c,p.proxyListener,o),d.splice(f,1))}}return this},trigger:function(){for(var t=g_(),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=n[0].split(" "),s=n[1],o=0;o<i.length;o+=1)for(var a=i[o],u=0;u<this.length;u+=1){var c=this[u];if(t.CustomEvent){var l=new t.CustomEvent(a,{detail:s,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter(function(t,e){return e>0}),c.dispatchEvent(l),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(t){var e=this;return t&&e.on("transitionend",function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}),this},outerWidth:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var t=g_();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var t=g_(),e=f_(),n=this[0],r=n.getBoundingClientRect(),i=e.body;return{top:r.top+(n===t?t.scrollY:n.scrollTop)-(n.clientTop||i.clientTop||0),left:r.left+(n===t?t.scrollX:n.scrollLeft)-(n.clientLeft||i.clientLeft||0)}}return null},css:function(t,e){var n,r=g_();if(1===arguments.length){if("string"!=typeof t){for(n=0;n<this.length;n+=1)for(var i in t)this[n].style[i]=t[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(n=0;n<this.length;n+=1)this[n].style[t]=e;return this}return this},each:function(t){return t?(this.forEach(function(e,n){t.apply(e,[e,n])}),this):this},html:function(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(var e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(var e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){var e,n,r=g_(),i=f_(),s=this[0];if(!s||void 0===t)return!1;if("string"==typeof t){if(s.matches)return s.matches(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);for(e=T_(t),n=0;n<e.length;n+=1)if(e[n]===s)return!0;return!1}if(t===i)return s===i;if(t===r)return s===r;if(t.nodeType||t instanceof __){for(e=t.nodeType?[t]:t,n=0;n<e.length;n+=1)if(e[n]===s)return!0;return!1}return!1},index:function(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if(void 0===t)return this;var e=this.length;if(t>e-1)return T_([]);if(t<0){var n=e+t;return T_(n<0?[]:[this[n]])}return T_([this[t]])},append:function(){for(var t,e=f_(),n=0;n<arguments.length;n+=1){t=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof t){var i=e.createElement("div");for(i.innerHTML=t;i.firstChild;)this[r].appendChild(i.firstChild)}else if(t instanceof __)for(var s=0;s<t.length;s+=1)this[r].appendChild(t[s]);else this[r].appendChild(t)}return this},prepend:function(t){var e,n,r=f_();for(e=0;e<this.length;e+=1)if("string"==typeof t){var i=r.createElement("div");for(i.innerHTML=t,n=i.childNodes.length-1;n>=0;n-=1)this[e].insertBefore(i.childNodes[n],this[e].childNodes[0])}else if(t instanceof __)for(n=0;n<t.length;n+=1)this[e].insertBefore(t[n],this[e].childNodes[0]);else this[e].insertBefore(t,this[e].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&T_(this[0].nextElementSibling).is(t)?T_([this[0].nextElementSibling]):T_([]):T_(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):T_([])},nextAll:function(t){var e=[],n=this[0];if(!n)return T_([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;t?T_(r).is(t)&&e.push(r):e.push(r),n=r}return T_(e)},prev:function(t){if(this.length>0){var e=this[0];return t?e.previousElementSibling&&T_(e.previousElementSibling).is(t)?T_([e.previousElementSibling]):T_([]):T_(e.previousElementSibling?[e.previousElementSibling]:[])}return T_([])},prevAll:function(t){var e=[],n=this[0];if(!n)return T_([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;t?T_(r).is(t)&&e.push(r):e.push(r),n=r}return T_(e)},parent:function(t){for(var e=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?T_(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return T_(e)},parents:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)t?T_(r).is(t)&&e.push(r):e.push(r),r=r.parentNode;return T_(e)},closest:function(t){var e=this;return void 0===t?T_([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(t),i=0;i<r.length;i+=1)e.push(r[i]);return T_(e)},children:function(t){for(var e=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)t&&!T_(r[i]).is(t)||e.push(r[i]);return T_(e)},filter:function(t){return T_(x_(this,t))},remove:function(){for(var t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(O_).forEach(function(t){Object.defineProperty(T_.fn,t,{value:O_[t],writable:!0})});var k_,A_,I_,P_=T_;function N_(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function D_(){return Date.now()}function L_(t){return"object"==typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function j_(){for(var t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"],n=1;n<arguments.length;n+=1){var r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r)for(var i=Object.keys(Object(r)).filter(function(t){return e.indexOf(t)<0}),s=0,o=i.length;s<o;s+=1){var a=i[s],u=Object.getOwnPropertyDescriptor(r,a);void 0!==u&&u.enumerable&&(L_(t[a])&&L_(r[a])?r[a].__swiper__?t[a]=r[a]:j_(t[a],r[a]):!L_(t[a])&&L_(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:j_(t[a],r[a])):t[a]=r[a])}}return t}function M_(){return k_||(k_=function(){var t=g_(),e=f_();return{touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),pointerEvents:!!t.PointerEvent&&"maxTouchPoints"in t.navigator&&t.navigator.maxTouchPoints>=0,observer:"MutationObserver"in t||"WebkitMutationObserver"in t,passiveListener:function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});t.addEventListener("testPassiveListener",null,n)}catch(dw){}return e}(),gestures:"ongesturestart"in t}}()),k_}function R_(t){return void 0===t&&(t={}),A_||(A_=function(t){var e=(void 0===t?{}:t).userAgent,n=M_(),r=g_(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,u=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/),l=s.match(/(iPad).*OS\s([\d_]+)/),h=s.match(/(iPod)(.*OS\s([\d_]+))?/),d=!l&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===i,p="MacIntel"===i;return!l&&p&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(a+"x"+u)>=0&&((l=s.match(/(Version)\/([\d.]+)/))||(l=[0,1,"13_0_0"]),p=!1),c&&!f&&(o.os="android",o.android=!0),(l||d||h)&&(o.os="ios",o.ios=!0),o}(t)),A_}function F_(){return I_||(I_=function(){var t,e=g_();return{isEdge:!!e.navigator.userAgent.match(/Edge/g),isSafari:(t=e.navigator.userAgent.toLowerCase(),t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),I_}var U_={name:"resize",create:function(){var t=this;j_(t,{resize:{observer:null,createObserver:function(){t&&!t.destroyed&&t.initialized&&(t.resize.observer=new ResizeObserver(function(e){var n=t.width,r=t.height,i=n,s=r;e.forEach(function(e){var n=e.contentBoxSize,r=e.contentRect,o=e.target;o&&o!==t.el||(i=r?r.width:(n[0]||n).inlineSize,s=r?r.height:(n[0]||n).blockSize)}),i===n&&s===r||t.resize.resizeHandler()}),t.resize.observer.observe(t.el))},removeObserver:function(){t.resize.observer&&t.resize.observer.unobserve&&t.el&&(t.resize.observer.unobserve(t.el),t.resize.observer=null)},resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(t){var e=g_();t.params.resizeObserver&&void 0!==g_().ResizeObserver?t.resize.createObserver():(e.addEventListener("resize",t.resize.resizeHandler),e.addEventListener("orientationchange",t.resize.orientationChangeHandler))},destroy:function(t){var e=g_();t.resize.removeObserver(),e.removeEventListener("resize",t.resize.resizeHandler),e.removeEventListener("orientationchange",t.resize.orientationChangeHandler)}}};function B_(){return(B_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var V_={attach:function(t,e){void 0===e&&(e={});var n=g_(),r=this,i=new(n.MutationObserver||n.WebkitMutationObserver)(function(t){if(1!==t.length){var e=function(){r.emit("observerUpdate",t[0])};n.requestAnimationFrame?n.requestAnimationFrame(e):n.setTimeout(e,0)}else r.emit("observerUpdate",t[0])});i.observe(t,{attributes:void 0===e.attributes||e.attributes,childList:void 0===e.childList||e.childList,characterData:void 0===e.characterData||e.characterData}),r.observer.observers.push(i)},init:function(){var t=this;if(t.support.observer&&t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)t.observer.attach(e[n]);t.observer.attach(t.$el[0],{childList:t.params.observeSlideChildren}),t.observer.attach(t.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(t){t.disconnect()}),this.observer.observers=[]}},z_={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){var t,e;t=this,e={observer:B_({},V_,{observers:[]})},Object.keys(e).forEach(function(n){L_(e[n])&&Object.keys(e[n]).forEach(function(r){"function"==typeof e[n][r]&&(e[n][r]=e[n][r].bind(t))}),t[n]=e[n]})},on:{init:function(t){t.observer.init()},destroy:function(t){t.observer.destroy()}}};function q_(t){var e=this,n=f_(),r=g_(),i=e.touchEventsData,s=e.params,o=e.touches;if(e.enabled&&(!e.animating||!s.preventInteractionOnTransition)){var a=t;a.originalEvent&&(a=a.originalEvent);var u=P_(a.target);if(("wrapper"!==s.touchEventsTarget||u.closest(e.wrapperEl).length)&&(i.isTouchEvent="touchstart"===a.type,(i.isTouchEvent||!("which"in a)||3!==a.which)&&!(!i.isTouchEvent&&"button"in a&&a.button>0||i.isTouched&&i.isMoved)))if(!!s.noSwipingClass&&""!==s.noSwipingClass&&a.target&&a.target.shadowRoot&&t.path&&t.path[0]&&(u=P_(t.path[0])),s.noSwiping&&u.closest(s.noSwipingSelector?s.noSwipingSelector:"."+s.noSwipingClass)[0])e.allowClick=!0;else if(!s.swipeHandler||u.closest(s.swipeHandler)[0]){o.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,o.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var c=o.currentX,l=o.currentY,h=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,d=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(h&&(c<=d||c>=r.innerWidth-d)){if("prevent"!==h)return;t.preventDefault()}if(j_(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=c,o.startY=l,i.touchStartTime=D_(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==a.type){var f=!0;u.is(i.formElements)&&(f=!1),n.activeElement&&P_(n.activeElement).is(i.formElements)&&n.activeElement!==u[0]&&n.activeElement.blur(),!s.touchStartForcePreventDefault&&!(f&&e.allowTouchMove&&s.touchStartPreventDefault)||u[0].isContentEditable||a.preventDefault()}e.emit("touchStart",a)}}}function H_(t){var e=f_(),n=this,r=n.touchEventsData,i=n.params,s=n.touches,o=n.rtlTranslate;if(n.enabled){var a=t;if(a.originalEvent&&(a=a.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===a.type){var u="touchmove"===a.type&&a.targetTouches&&(a.targetTouches[0]||a.changedTouches[0]),c="touchmove"===a.type?u.pageX:a.pageX,l="touchmove"===a.type?u.pageY:a.pageY;if(a.preventedByNestedSwiper)return s.startX=c,void(s.startY=l);if(!n.allowTouchMove)return n.allowClick=!1,void(r.isTouched&&(j_(s,{startX:c,startY:l,currentX:c,currentY:l}),r.touchStartTime=D_()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(l<s.startY&&n.translate<=n.maxTranslate()||l>s.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<s.startX&&n.translate<=n.maxTranslate()||c>s.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&e.activeElement&&a.target===e.activeElement&&P_(a.target).is(r.formElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",a),!(a.targetTouches&&a.targetTouches.length>1)){s.currentX=c,s.currentY=l;var h,d=s.currentX-s.startX,f=s.currentY-s.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(d,2)+Math.pow(f,2))<n.params.threshold))if(void 0===r.isScrolling&&(n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:d*d+f*f>=25&&(h=180*Math.atan2(Math.abs(f),Math.abs(d))/Math.PI,r.isScrolling=n.isHorizontal()?h>i.touchAngle:90-h>i.touchAngle)),r.isScrolling&&n.emit("touchMoveOpposite",a),void 0===r.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&a.cancelable&&a.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&a.stopPropagation(),r.isMoved||(i.loop&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",a)),n.emit("sliderMove",a),r.isMoved=!0;var p=n.isHorizontal()?d:f;s.diff=p,p*=i.touchRatio,o&&(p=-p),n.swipeDirection=p>0?"prev":"next",r.currentTranslate=p+r.startTranslate;var g=!0,m=i.resistanceRatio;if(i.touchReleaseOnEdges&&(m=0),p>0&&r.currentTranslate>n.minTranslate()?(g=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+p,m))):p<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-p,m))),g&&(a.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(p)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,void(s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}i.followFinger&&!i.cssMode&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&(0===r.velocities.length&&r.velocities.push({position:s[n.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:s[n.isHorizontal()?"currentX":"currentY"],time:D_()})),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",a)}}function Q_(t){var e=this,n=e.touchEventsData,r=e.params,i=e.touches,s=e.rtlTranslate,o=e.$wrapperEl,a=e.slidesGrid,u=e.snapGrid;if(e.enabled){var c=t;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var l,h=D_(),d=h-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(c),e.emit("tap click",c),d<300&&h-n.lastClickTime<300&&e.emit("doubleTap doubleClick",c)),n.lastClickTime=D_(),N_(function(){e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,l=r.followFinger?s?e.translate:-e.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(l<-e.minTranslate())return void e.slideTo(e.activeIndex);if(l>-e.maxTranslate())return void e.slideTo(e.slides.length<u.length?u.length-1:e.slides.length-1);if(r.freeModeMomentum){if(n.velocities.length>1){var f=n.velocities.pop(),p=n.velocities.pop(),g=f.time-p.time;e.velocity=(f.position-p.position)/g,e.velocity/=2,Math.abs(e.velocity)<r.freeModeMinimumVelocity&&(e.velocity=0),(g>150||D_()-f.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var m=1e3*r.freeModeMomentumRatio,y=e.translate+e.velocity*m;s&&(y=-y);var v,b,w=!1,_=20*Math.abs(e.velocity)*r.freeModeMomentumBounceRatio;if(y<e.maxTranslate())r.freeModeMomentumBounce?(y+e.maxTranslate()<-_&&(y=e.maxTranslate()-_),v=e.maxTranslate(),w=!0,n.allowMomentumBounce=!0):y=e.maxTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(y>e.minTranslate())r.freeModeMomentumBounce?(y-e.minTranslate()>_&&(y=e.minTranslate()+_),v=e.minTranslate(),w=!0,n.allowMomentumBounce=!0):y=e.minTranslate(),r.loop&&r.centeredSlides&&(b=!0);else if(r.freeModeSticky){for(var S,x=0;x<u.length;x+=1)if(u[x]>-y){S=x;break}y=-(y=Math.abs(u[S]-y)<Math.abs(u[S-1]-y)||"next"===e.swipeDirection?u[S]:u[S-1])}if(b&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity){if(m=s?Math.abs((-y-e.translate)/e.velocity):Math.abs((y-e.translate)/e.velocity),r.freeModeSticky){var T=Math.abs((s?-y:y)-e.translate),E=e.slidesSizesGrid[e.activeIndex];m=T<E?r.speed:T<2*E?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void e.slideToClosest();r.freeModeMomentumBounce&&w?(e.updateProgress(v),e.setTransition(m),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd(function(){e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(r.speed),setTimeout(function(){e.setTranslate(v),o.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()})},0))})):e.velocity?(e.updateProgress(y),e.setTransition(m),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))):(e.emit("_freeModeNoMomentumRelease"),e.updateProgress(y)),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(r.freeModeSticky)return void e.slideToClosest();r.freeMode&&e.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||d>=r.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}else{for(var C=0,O=e.slidesSizesGrid[0],k=0;k<a.length;k+=k<r.slidesPerGroupSkip?1:r.slidesPerGroup){var A=k<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==a[k+A]?l>=a[k]&&l<a[k+A]&&(C=k,O=a[k+A]-a[k]):l>=a[k]&&(C=k,O=a[a.length-1]-a[a.length-2])}var I=(l-a[C])/O,P=C<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(I>=r.longSwipesRatio?C+P:C),"prev"===e.swipeDirection&&e.slideTo(I>1-r.longSwipesRatio?C+P:C)}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||c.target!==e.navigation.nextEl&&c.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(C+P),"prev"===e.swipeDirection&&e.slideTo(C)):e.slideTo(c.target===e.navigation.nextEl?C+P:C)}}}}function $_(){var t=this,e=t.params,n=t.el;if(!n||0!==n.offsetWidth){e.breakpoints&&t.setBreakpoint();var r=t.allowSlideNext,i=t.allowSlidePrev,s=t.snapGrid;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),t.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}}function G_(t){var e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function W_(){var t=this,e=t.wrapperEl,n=t.rtlTranslate;if(t.enabled){t.previousTranslate=t.translate,t.translate=t.isHorizontal()?n?e.scrollWidth-e.offsetWidth-e.scrollLeft:-e.scrollLeft:-e.scrollTop,-0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();var r=t.maxTranslate()-t.minTranslate();(0===r?0:(t.translate-t.minTranslate())/r)!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}}var K_=!1;function Y_(){}var X_={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,enabled:!0,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Z_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var J_={modular:{useParams:function(t){var e=this;e.modules&&Object.keys(e.modules).forEach(function(n){var r=e.modules[n];r.params&&j_(t,r.params)})},useModules:function(t){void 0===t&&(t={});var e=this;e.modules&&Object.keys(e.modules).forEach(function(n){var r=e.modules[n],i=t[n]||{};r.on&&e.on&&Object.keys(r.on).forEach(function(t){e.on(t,r.on[t])}),r.create&&r.create.bind(e)(i)})}},eventsEmitter:{on:function(t,e,n){var r=this;if("function"!=typeof e)return r;var i=n?"unshift":"push";return t.split(" ").forEach(function(t){r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)}),r},once:function(t,e,n){var r=this;if("function"!=typeof e)return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];e.apply(r,s)}return i.__emitterProxy=e,r.on(t,i,n)},onAny:function(t,e){var n=this;if("function"!=typeof t)return n;var r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny:function(t){var e=this;if(!e.eventsAnyListeners)return e;var n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off:function(t,e){var n=this;return n.eventsListeners?(t.split(" ").forEach(function(t){void 0===e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach(function(r,i){(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)})}),n):n},emit:function(){var t,e,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];"string"==typeof s[0]||Array.isArray(s[0])?(t=s[0],e=s.slice(1,s.length),n=r):(t=s[0].events,e=s[0].data,n=s[0].context||r),e.unshift(n);var a=Array.isArray(t)?t:t.split(" ");return a.forEach(function(t){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(function(r){r.apply(n,[t].concat(e))}),r.eventsListeners&&r.eventsListeners[t]&&r.eventsListeners[t].forEach(function(t){t.apply(n,e)})}),r}},update:{updateSize:function(){var t,e,n=this,r=n.$el;e=null!=n.params.height?n.params.height:r[0].clientHeight,0===(t=null!=n.params.width?n.params.width:r[0].clientWidth)&&n.isHorizontal()||0===e&&n.isVertical()||(t=t-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),e=e-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(e)&&(e=0),j_(n,{width:t,height:e,size:n.isHorizontal()?t:e}))},updateSlides:function(){var t=this;function e(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}function n(t,n){return parseFloat(t.getPropertyValue(e(n))||0)}var r=t.params,i=t.$wrapperEl,s=t.size,o=t.rtlTranslate,a=t.wrongRTL,u=t.virtual&&r.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,l=i.children("."+t.params.slideClass),h=u?t.virtual.slides.length:l.length,d=[],f=[],p=[],g=r.slidesOffsetBefore;"function"==typeof g&&(g=r.slidesOffsetBefore.call(t));var m=r.slidesOffsetAfter;"function"==typeof m&&(m=r.slidesOffsetAfter.call(t));var y=t.snapGrid.length,v=t.slidesGrid.length,b=r.spaceBetween,w=-g,_=0,S=0;if(void 0!==s){var x,T;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*s),t.virtualSize=-b,l.css(o?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""}),r.slidesPerColumn>1&&(x=Math.floor(h/r.slidesPerColumn)===h/t.params.slidesPerColumn?h:Math.ceil(h/r.slidesPerColumn)*r.slidesPerColumn,"auto"!==r.slidesPerView&&"row"===r.slidesPerColumnFill&&(x=Math.max(x,r.slidesPerView*r.slidesPerColumn)));for(var E,C,O,k=r.slidesPerColumn,A=x/k,I=Math.floor(h/r.slidesPerColumn),P=0;P<h;P+=1){T=0;var N=l.eq(P);if(r.slidesPerColumn>1){var D=void 0,L=void 0,j=void 0;if("row"===r.slidesPerColumnFill&&r.slidesPerGroup>1){var M=Math.floor(P/(r.slidesPerGroup*r.slidesPerColumn)),R=P-r.slidesPerColumn*r.slidesPerGroup*M,F=0===M?r.slidesPerGroup:Math.min(Math.ceil((h-M*k*r.slidesPerGroup)/k),r.slidesPerGroup);j=Math.floor(R/F),N.css({"-webkit-box-ordinal-group":D=(L=R-j*F+M*r.slidesPerGroup)+j*x/k,"-moz-box-ordinal-group":D,"-ms-flex-order":D,"-webkit-order":D,order:D})}else"column"===r.slidesPerColumnFill?(j=P-(L=Math.floor(P/k))*k,(L>I||L===I&&j===k-1)&&(j+=1)>=k&&(j=0,L+=1)):L=P-(j=Math.floor(P/A))*A;N.css(e("margin-top"),0!==j&&r.spaceBetween&&r.spaceBetween+"px")}if("none"!==N.css("display")){if("auto"===r.slidesPerView){var U=getComputedStyle(N[0]),B=N[0].style.transform,V=N[0].style.webkitTransform;if(B&&(N[0].style.transform="none"),V&&(N[0].style.webkitTransform="none"),r.roundLengths)T=t.isHorizontal()?N.outerWidth(!0):N.outerHeight(!0);else{var z=n(U,"width"),q=n(U,"padding-left"),H=n(U,"padding-right"),Q=n(U,"margin-left"),$=n(U,"margin-right"),G=U.getPropertyValue("box-sizing");if(G&&"border-box"===G)T=z+Q+$;else{var W=N[0];T=z+q+H+Q+$+(W.offsetWidth-W.clientWidth)}}B&&(N[0].style.transform=B),V&&(N[0].style.webkitTransform=V),r.roundLengths&&(T=Math.floor(T))}else T=(s-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(T=Math.floor(T)),l[P]&&(l[P].style[e("width")]=T+"px");l[P]&&(l[P].swiperSlideSize=T),p.push(T),r.centeredSlides?(w=w+T/2+_/2+b,0===_&&0!==P&&(w=w-s/2-b),0===P&&(w=w-s/2-b),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),S%r.slidesPerGroup==0&&d.push(w),f.push(w)):(r.roundLengths&&(w=Math.floor(w)),(S-Math.min(t.params.slidesPerGroupSkip,S))%t.params.slidesPerGroup==0&&d.push(w),f.push(w),w=w+T+b),t.virtualSize+=T+b,_=T,S+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+m,o&&a&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:t.virtualSize+r.spaceBetween+"px"}),r.setWrapperSize&&i.css(((C={})[e("width")]=t.virtualSize+r.spaceBetween+"px",C)),r.slidesPerColumn>1&&(t.virtualSize=(T+r.spaceBetween)*x,t.virtualSize=Math.ceil(t.virtualSize/r.slidesPerColumn)-r.spaceBetween,i.css(((O={})[e("width")]=t.virtualSize+r.spaceBetween+"px",O)),r.centeredSlides)){E=[];for(var K=0;K<d.length;K+=1){var Y=d[K];r.roundLengths&&(Y=Math.floor(Y)),d[K]<t.virtualSize+d[0]&&E.push(Y)}d=E}if(!r.centeredSlides){E=[];for(var X=0;X<d.length;X+=1){var Z=d[X];r.roundLengths&&(Z=Math.floor(Z)),d[X]<=t.virtualSize-s&&E.push(Z)}d=E,Math.floor(t.virtualSize-s)-Math.floor(d[d.length-1])>1&&d.push(t.virtualSize-s)}if(0===d.length&&(d=[0]),0!==r.spaceBetween){var J,tt=t.isHorizontal()&&o?"marginLeft":e("marginRight");l.filter(function(t,e){return!r.cssMode||e!==l.length-1}).css(((J={})[tt]=b+"px",J))}if(r.centeredSlides&&r.centeredSlidesBounds){var et=0;p.forEach(function(t){et+=t+(r.spaceBetween?r.spaceBetween:0)});var nt=(et-=r.spaceBetween)-s;d=d.map(function(t){return t<0?-g:t>nt?nt+m:t})}if(r.centerInsufficientSlides){var rt=0;if(p.forEach(function(t){rt+=t+(r.spaceBetween?r.spaceBetween:0)}),(rt-=r.spaceBetween)<s){var it=(s-rt)/2;d.forEach(function(t,e){d[e]=t-it}),f.forEach(function(t,e){f[e]=t+it})}}j_(t,{slides:l,snapGrid:d,slidesGrid:f,slidesSizesGrid:p}),h!==c&&t.emit("slidesLengthChange"),d.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==v&&t.emit("slidesGridLengthChange"),(r.watchSlidesProgress||r.watchSlidesVisibility)&&t.updateSlidesOffset()}},updateAutoHeight:function(t){var e,n=this,r=[],i=n.virtual&&n.params.virtual.enabled,s=0;"number"==typeof t?n.setTransition(t):!0===t&&n.setTransition(n.params.speed);var o=function(t){return i?n.slides.filter(function(e){return parseInt(e.getAttribute("data-swiper-slide-index"),10)===t})[0]:n.slides.eq(t)[0]};if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each(function(t){r.push(t)});else for(e=0;e<Math.ceil(n.params.slidesPerView);e+=1){var a=n.activeIndex+e;if(a>n.slides.length&&!i)break;r.push(o(a))}else r.push(o(n.activeIndex));for(e=0;e<r.length;e+=1)if(void 0!==r[e]){var u=r[e].offsetHeight;s=u>s?u:s}s&&n.$wrapperEl.css("height",s+"px")},updateSlidesOffset:function(){for(var t=this.slides,e=0;e<t.length;e+=1)t[e].swiperSlideOffset=this.isHorizontal()?t[e].offsetLeft:t[e].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);var e=this,n=e.params,r=e.slides,i=e.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&e.updateSlidesOffset();var s=-t;i&&(s=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(var o=0;o<r.length;o+=1){var a=r[o],u=(s+(n.centeredSlides?e.minTranslate():0)-a.swiperSlideOffset)/(a.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var c=-(s-a.swiperSlideOffset),l=c+e.slidesSizesGrid[o];(c>=0&&c<e.size-1||l>1&&l<=e.size||c<=0&&l>=e.size)&&(e.visibleSlides.push(a),e.visibleSlidesIndexes.push(o),r.eq(o).addClass(n.slideVisibleClass))}a.progress=i?-u:u}e.visibleSlides=P_(e.visibleSlides)}},updateProgress:function(t){var e=this;void 0===t&&(t=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);var n=e.params,r=e.maxTranslate()-e.minTranslate(),i=e.progress,s=e.isBeginning,o=e.isEnd,a=s,u=o;0===r?(i=0,s=!0,o=!0):(s=(i=(t-e.minTranslate())/r)<=0,o=i>=1),j_(e,{progress:i,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!a&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(a&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)},updateSlidesClasses:function(){var t,e=this,n=e.slides,r=e.params,i=e.$wrapperEl,s=e.activeIndex,o=e.realIndex,a=e.virtual&&r.virtual.enabled;n.removeClass(r.slideActiveClass+" "+r.slideNextClass+" "+r.slidePrevClass+" "+r.slideDuplicateActiveClass+" "+r.slideDuplicateNextClass+" "+r.slideDuplicatePrevClass),(t=a?e.$wrapperEl.find("."+r.slideClass+'[data-swiper-slide-index="'+s+'"]'):n.eq(s)).addClass(r.slideActiveClass),r.loop&&(t.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(r.slideDuplicateActiveClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(r.slideDuplicateActiveClass));var u=t.nextAll("."+r.slideClass).eq(0).addClass(r.slideNextClass);r.loop&&0===u.length&&(u=n.eq(0)).addClass(r.slideNextClass);var c=t.prevAll("."+r.slideClass).eq(0).addClass(r.slidePrevClass);r.loop&&0===c.length&&(c=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(u.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass),c.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+c.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(t){var e,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,s=n.snapGrid,o=n.params,a=n.activeIndex,u=n.realIndex,c=n.snapIndex,l=t;if(void 0===l){for(var h=0;h<i.length;h+=1)void 0!==i[h+1]?r>=i[h]&&r<i[h+1]-(i[h+1]-i[h])/2?l=h:r>=i[h]&&r<i[h+1]&&(l=h+1):r>=i[h]&&(l=h);o.normalizeSlideIndex&&(l<0||void 0===l)&&(l=0)}if(s.indexOf(r)>=0)e=s.indexOf(r);else{var d=Math.min(o.slidesPerGroupSkip,l);e=d+Math.floor((l-d)/o.slidesPerGroup)}if(e>=s.length&&(e=s.length-1),l!==a){var f=parseInt(n.slides.eq(l).attr("data-swiper-slide-index")||l,10);j_(n,{snapIndex:e,realIndex:f,previousIndex:a,activeIndex:l}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==f&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else e!==c&&(n.snapIndex=e,n.emit("snapIndexChange"))},updateClickedSlide:function(t){var e,n=this,r=n.params,i=P_(t.target).closest("."+r.slideClass)[0],s=!1;if(i)for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===i){s=!0,e=o;break}if(!i||!s)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=i,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(P_(i).attr("data-swiper-slide-index"),10):e,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this,n=e.params,r=e.rtlTranslate,i=e.translate;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var s=function(t,e){void 0===e&&(e="x");var n,r,i,s=g_(),o=function(t){var e,n=g_();return n.getComputedStyle&&(e=n.getComputedStyle(t,null)),!e&&t.currentStyle&&(e=t.currentStyle),e||(e=t.style),e}(t);return s.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),i=new s.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===e&&(r=s.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(r=s.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}(e.$wrapperEl[0],t);return r&&(s=-s),s||0},setTranslate:function(t,e){var n=this,r=n.rtlTranslate,i=n.params,s=n.$wrapperEl,o=n.wrapperEl,a=n.progress,u=0,c=0;n.isHorizontal()?u=r?-t:t:c=t,i.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:i.virtualTranslate||s.transform("translate3d("+u+"px, "+c+"px, 0px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var l=n.maxTranslate()-n.minTranslate();(0===l?0:(t-n.minTranslate())/l)!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var s=this,o=s.params,a=s.wrapperEl;if(s.animating&&o.preventInteractionOnTransition)return!1;var u,c=s.minTranslate(),l=s.maxTranslate();if(s.updateProgress(u=r&&t>c?c:r&&t<l?l:t),o.cssMode){var h,d=s.isHorizontal();return 0===e?a[d?"scrollLeft":"scrollTop"]=-u:a.scrollTo?a.scrollTo(((h={})[d?"left":"top"]=-u,h.behavior="smooth",h)):a[d?"scrollLeft":"scrollTop"]=-u,!0}return 0===e?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(t){s&&!s.destroyed&&t.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(t,e){var n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);var n=this,r=n.activeIndex,i=n.params,s=n.previousIndex;if(!i.cssMode){i.autoHeight&&n.updateAutoHeight();var o=e;if(o||(o=r>s?"next":r<s?"prev":"reset"),n.emit("transitionStart"),t&&r!==s){if("reset"===o)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),n.emit("next"===o?"slideNextTransitionStart":"slidePrevTransitionStart")}}},transitionEnd:function(t,e){void 0===t&&(t=!0);var n=this,r=n.activeIndex,i=n.previousIndex,s=n.params;if(n.animating=!1,!s.cssMode){n.setTransition(0);var o=e;if(o||(o=r>i?"next":r<i?"prev":"reset"),n.emit("transitionEnd"),t&&r!==i){if("reset"===o)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),n.emit("next"===o?"slideNextTransitionEnd":"slidePrevTransitionEnd")}}}},slide:{slideTo:function(t,e,n,r,i){if(void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"number"!=typeof t&&"string"!=typeof t)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof t+"] given.");if("string"==typeof t){var s=parseInt(t,10);if(!isFinite(s))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+t+"] given.");t=s}var o=this,a=t;a<0&&(a=0);var u=o.params,c=o.snapGrid,l=o.slidesGrid,h=o.previousIndex,d=o.activeIndex,f=o.rtlTranslate,p=o.wrapperEl;if(o.animating&&u.preventInteractionOnTransition||!o.enabled&&!r&&!i)return!1;var g=Math.min(o.params.slidesPerGroupSkip,a),m=g+Math.floor((a-g)/o.params.slidesPerGroup);m>=c.length&&(m=c.length-1),(d||u.initialSlide||0)===(h||0)&&n&&o.emit("beforeSlideChangeStart");var y,v=-c[m];if(o.updateProgress(v),u.normalizeSlideIndex)for(var b=0;b<l.length;b+=1){var w=-Math.floor(100*v),_=Math.floor(100*l[b]),S=Math.floor(100*l[b+1]);void 0!==l[b+1]?w>=_&&w<S-(S-_)/2?a=b:w>=_&&w<S&&(a=b+1):w>=_&&(a=b)}if(o.initialized&&a!==d){if(!o.allowSlideNext&&v<o.translate&&v<o.minTranslate())return!1;if(!o.allowSlidePrev&&v>o.translate&&v>o.maxTranslate()&&(d||0)!==a)return!1}if(y=a>d?"next":a<d?"prev":"reset",f&&-v===o.translate||!f&&v===o.translate)return o.updateActiveIndex(a),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==u.effect&&o.setTranslate(v),"reset"!==y&&(o.transitionStart(n,y),o.transitionEnd(n,y)),!1;if(u.cssMode){var x,T=o.isHorizontal(),E=-v;return f&&(E=p.scrollWidth-p.offsetWidth-E),0===e?p[T?"scrollLeft":"scrollTop"]=E:p.scrollTo?p.scrollTo(((x={})[T?"left":"top"]=E,x.behavior="smooth",x)):p[T?"scrollLeft":"scrollTop"]=E,!0}return 0===e?(o.setTransition(0),o.setTranslate(v),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,y),o.transitionEnd(n,y)):(o.setTransition(e),o.setTranslate(v),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,y),o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0);var i=this,s=t;return i.params.loop&&(s+=i.loopedSlides),i.slideTo(s,e,n,r)},slideNext:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var r=this,i=r.params;if(!r.enabled)return r;var s=r.activeIndex<i.slidesPerGroupSkip?1:i.slidesPerGroup;if(i.loop){if(r.animating&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(r.activeIndex+s,t,e,n)},slidePrev:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var r=this,i=r.params,s=r.snapGrid,o=r.slidesGrid,a=r.rtlTranslate;if(!r.enabled)return r;if(i.loop){if(r.animating&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}var c,l=u(a?r.translate:-r.translate),h=s.map(function(t){return u(t)}),d=(h.indexOf(l),s[h.indexOf(l)-1]);return void 0===d&&i.cssMode&&s.forEach(function(t){!d&&l>=t&&(d=t)}),void 0!==d&&(c=o.indexOf(d))<0&&(c=r.activeIndex-1),r.slideTo(c,t,e,n)},slideReset:function(t,e,n){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t,e,n,r){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===r&&(r=.5);var i=this,s=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),u=i.rtlTranslate?i.translate:-i.translate;if(u>=i.snapGrid[a]){var c=i.snapGrid[a];u-c>(i.snapGrid[a+1]-c)*r&&(s+=i.params.slidesPerGroup)}else{var l=i.snapGrid[a-1];u-l<=(i.snapGrid[a]-l)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)},slideToClickedSlide:function(){var t,e=this,n=e.params,r=e.$wrapperEl,i="auto"===n.slidesPerView?e.slidesPerViewDynamic():n.slidesPerView,s=e.clickedIndex;if(n.loop){if(e.animating)return;t=parseInt(P_(e.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?s<e.loopedSlides-i/2||s>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),s=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),N_(function(){e.slideTo(s)})):e.slideTo(s):s>e.slides.length-i?(e.loopFix(),s=r.children("."+n.slideClass+'[data-swiper-slide-index="'+t+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),N_(function(){e.slideTo(s)})):e.slideTo(s)}else e.slideTo(s)}},loop:{loopCreate:function(){var t=this,e=f_(),n=t.params,r=t.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var i=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var s=n.slidesPerGroup-i.length%n.slidesPerGroup;if(s!==n.slidesPerGroup){for(var o=0;o<s;o+=1){var a=P_(e.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(a)}i=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&(t.loopedSlides=i.length);var u=[],c=[];i.each(function(e,n){var r=P_(e);n<t.loopedSlides&&c.push(e),n<i.length&&n>=i.length-t.loopedSlides&&u.push(e),r.attr("data-swiper-slide-index",n)});for(var l=0;l<c.length;l+=1)r.append(P_(c[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=u.length-1;h>=0;h-=1)r.prepend(P_(u[h].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var t=this;t.emit("beforeLoopFix");var e,n=t.activeIndex,r=t.slides,i=t.loopedSlides,s=t.allowSlidePrev,o=t.allowSlideNext,a=t.snapGrid,u=t.rtlTranslate;t.allowSlidePrev=!0,t.allowSlideNext=!0;var c=-a[n]-t.getTranslate();n<i?(e=r.length-3*i+n,t.slideTo(e+=i,0,!1,!0)&&0!==c&&t.setTranslate((u?-t.translate:t.translate)-c)):n>=r.length-i&&(e=-r.length+n+i,t.slideTo(e+=i,0,!1,!0)&&0!==c&&t.setTranslate((u?-t.translate:t.translate)-c)),t.allowSlidePrev=s,t.allowSlideNext=o,t.emit("loopFix")},loopDestroy:function(){var t=this,e=t.params,n=t.slides;t.$wrapperEl.children("."+e.slideClass+"."+e.slideDuplicateClass+",."+e.slideClass+"."+e.slideBlankClass).remove(),n.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(t){var e=this;if(!(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)){var n=e.el;n.style.cursor="move",n.style.cursor=t?"-webkit-grabbing":"-webkit-grab",n.style.cursor=t?"-moz-grabbin":"-moz-grab",n.style.cursor=t?"grabbing":"grab"}},unsetGrabCursor:function(){var t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.el.style.cursor="")}},manipulation:{appendSlide:function(t){var e=this,n=e.$wrapperEl,r=e.params;if(r.loop&&e.loopDestroy(),"object"==typeof t&&"length"in t)for(var i=0;i<t.length;i+=1)t[i]&&n.append(t[i]);else n.append(t);r.loop&&e.loopCreate(),r.observer&&e.support.observer||e.update()},prependSlide:function(t){var e=this,n=e.params,r=e.$wrapperEl,i=e.activeIndex;n.loop&&e.loopDestroy();var s=i+1;if("object"==typeof t&&"length"in t){for(var o=0;o<t.length;o+=1)t[o]&&r.prepend(t[o]);s=i+t.length}else r.prepend(t);n.loop&&e.loopCreate(),n.observer&&e.support.observer||e.update(),e.slideTo(s,0,!1)},addSlide:function(t,e){var n=this,r=n.$wrapperEl,i=n.params,s=n.activeIndex;i.loop&&(s-=n.loopedSlides,n.loopDestroy(),n.slides=r.children("."+i.slideClass));var o=n.slides.length;if(t<=0)n.prependSlide(e);else if(t>=o)n.appendSlide(e);else{for(var a=s>t?s+1:s,u=[],c=o-1;c>=t;c-=1){var l=n.slides.eq(c);l.remove(),u.unshift(l)}if("object"==typeof e&&"length"in e){for(var h=0;h<e.length;h+=1)e[h]&&r.append(e[h]);a=s>t?s+e.length:s}else r.append(e);for(var d=0;d<u.length;d+=1)r.append(u[d]);i.loop&&n.loopCreate(),i.observer&&n.support.observer||n.update(),n.slideTo(i.loop?a+n.loopedSlides:a,0,!1)}},removeSlide:function(t){var e=this,n=e.params,r=e.$wrapperEl,i=e.activeIndex;n.loop&&(i-=e.loopedSlides,e.loopDestroy(),e.slides=r.children("."+n.slideClass));var s,o=i;if("object"==typeof t&&"length"in t){for(var a=0;a<t.length;a+=1)e.slides[s=t[a]]&&e.slides.eq(s).remove(),s<o&&(o-=1);o=Math.max(o,0)}else e.slides[s=t]&&e.slides.eq(s).remove(),s<o&&(o-=1),o=Math.max(o,0);n.loop&&e.loopCreate(),n.observer&&e.support.observer||e.update(),e.slideTo(n.loop?o+e.loopedSlides:o,0,!1)},removeAllSlides:function(){for(var t=[],e=0;e<this.slides.length;e+=1)t.push(e);this.removeSlide(t)}},events:{attachEvents:function(){var t=this,e=f_(),n=t.params,r=t.touchEvents,i=t.el,s=t.wrapperEl,o=t.device,a=t.support;t.onTouchStart=q_.bind(t),t.onTouchMove=H_.bind(t),t.onTouchEnd=Q_.bind(t),n.cssMode&&(t.onScroll=W_.bind(t)),t.onClick=G_.bind(t);var u=!!n.nested;if(!a.touch&&a.pointerEvents)i.addEventListener(r.start,t.onTouchStart,!1),e.addEventListener(r.move,t.onTouchMove,u),e.addEventListener(r.end,t.onTouchEnd,!1);else{if(a.touch){var c=!("touchstart"!==r.start||!a.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};i.addEventListener(r.start,t.onTouchStart,c),i.addEventListener(r.move,t.onTouchMove,a.passiveListener?{passive:!1,capture:u}:u),i.addEventListener(r.end,t.onTouchEnd,c),r.cancel&&i.addEventListener(r.cancel,t.onTouchEnd,c),K_||(e.addEventListener("touchstart",Y_),K_=!0)}(n.simulateTouch&&!o.ios&&!o.android||n.simulateTouch&&!a.touch&&o.ios)&&(i.addEventListener("mousedown",t.onTouchStart,!1),e.addEventListener("mousemove",t.onTouchMove,u),e.addEventListener("mouseup",t.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&i.addEventListener("click",t.onClick,!0),n.cssMode&&s.addEventListener("scroll",t.onScroll),t.on(n.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",$_,!0)},detachEvents:function(){var t=this,e=f_(),n=t.params,r=t.touchEvents,i=t.el,s=t.wrapperEl,o=t.device,a=t.support,u=!!n.nested;if(!a.touch&&a.pointerEvents)i.removeEventListener(r.start,t.onTouchStart,!1),e.removeEventListener(r.move,t.onTouchMove,u),e.removeEventListener(r.end,t.onTouchEnd,!1);else{if(a.touch){var c=!("onTouchStart"!==r.start||!a.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};i.removeEventListener(r.start,t.onTouchStart,c),i.removeEventListener(r.move,t.onTouchMove,u),i.removeEventListener(r.end,t.onTouchEnd,c),r.cancel&&i.removeEventListener(r.cancel,t.onTouchEnd,c)}(n.simulateTouch&&!o.ios&&!o.android||n.simulateTouch&&!a.touch&&o.ios)&&(i.removeEventListener("mousedown",t.onTouchStart,!1),e.removeEventListener("mousemove",t.onTouchMove,u),e.removeEventListener("mouseup",t.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&i.removeEventListener("click",t.onClick,!0),n.cssMode&&s.removeEventListener("scroll",t.onScroll),t.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",$_)}},breakpoints:{setBreakpoint:function(){var t=this,e=t.activeIndex,n=t.initialized,r=t.loopedSlides,i=void 0===r?0:r,s=t.params,o=t.$el,a=s.breakpoints;if(a&&(!a||0!==Object.keys(a).length)){var u=t.getBreakpoint(a,t.params.breakpointsBase,t.el);if(u&&t.currentBreakpoint!==u){var c=u in a?a[u]:void 0;c&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(t){var e=c[t];void 0!==e&&(c[t]="slidesPerView"!==t||"AUTO"!==e&&"auto"!==e?"slidesPerView"===t?parseFloat(e):parseInt(e,10):"auto")});var l=c||t.originalParams,h=s.slidesPerColumn>1,d=l.slidesPerColumn>1,f=s.enabled;h&&!d?(o.removeClass(s.containerModifierClass+"multirow "+s.containerModifierClass+"multirow-column"),t.emitContainerClasses()):!h&&d&&(o.addClass(s.containerModifierClass+"multirow"),"column"===l.slidesPerColumnFill&&o.addClass(s.containerModifierClass+"multirow-column"),t.emitContainerClasses());var p=l.direction&&l.direction!==s.direction,g=s.loop&&(l.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),j_(t.params,l);var m=t.params.enabled;j_(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!m?t.disable():!f&&m&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",l),g&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-i+t.loopedSlides,0,!1)),t.emit("breakpoint",l)}}},getBreakpoint:function(t,e,n){if(void 0===e&&(e="window"),t&&("container"!==e||n)){var r=!1,i=g_(),s="window"===e?i.innerWidth:n.clientWidth,o="window"===e?i.innerHeight:n.clientHeight,a=Object.keys(t).map(function(t){if("string"==typeof t&&0===t.indexOf("@")){var e=parseFloat(t.substr(1));return{value:o*e,point:t}}return{value:t,point:t}});a.sort(function(t,e){return parseInt(t.value,10)-parseInt(e.value,10)});for(var u=0;u<a.length;u+=1){var c=a[u];c.value<=s&&(r=c.point)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var t=this,e=t.params,n=t.isLocked,r=t.slides.length>0&&e.slidesOffsetBefore+e.spaceBetween*(t.slides.length-1)+t.slides[0].offsetWidth*t.slides.length;t.isLocked=e.slidesOffsetBefore&&e.slidesOffsetAfter&&r?r<=t.size:1===t.snapGrid.length,t.allowSlideNext=!t.isLocked,t.allowSlidePrev=!t.isLocked,n!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock"),n&&n!==t.isLocked&&(t.isEnd=!1,t.navigation&&t.navigation.update())}},classes:{addClasses:function(){var t,e,n=this,r=n.classNames,i=n.params,s=n.$el,o=n.device,a=n.support,u=(t=i.containerModifierClass,e=[],["initialized",i.direction,{"pointer-events":a.pointerEvents&&!a.touch},{"free-mode":i.freeMode},{autoheight:i.autoHeight},{rtl:n.rtl},{multirow:i.slidesPerColumn>1},{"multirow-column":i.slidesPerColumn>1&&"column"===i.slidesPerColumnFill},{android:o.android},{ios:o.ios},{"css-mode":i.cssMode}].forEach(function(n){"object"==typeof n?Object.keys(n).forEach(function(r){n[r]&&e.push(t+r)}):"string"==typeof n&&e.push(t+n)}),e);r.push.apply(r,u),s.addClass([].concat(r).join(" ")),n.emitContainerClasses()},removeClasses:function(){var t=this;t.$el.removeClass(t.classNames.join(" ")),t.emitContainerClasses()}},images:{loadImage:function(t,e,n,r,i,s){var o,a=g_();function u(){s&&s()}P_(t).parent("picture")[0]||t.complete&&i?u():e?((o=new a.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),e&&(o.src=e)):u()},preloadImages:function(){var t=this;function e(){null!=t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(var n=0;n<t.imagesToLoad.length;n+=1){var r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}}},tS={},eS=function(){function t(){for(var e,n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?n=i[0]:(e=i[0],n=i[1]),n||(n={}),n=j_({},n),e&&!n.el&&(n.el=e),n.el&&P_(n.el).length>1){var o=[];return P_(n.el).each(function(e){var r=j_({},n,{el:e});o.push(new t(r))}),o}var a=this;a.__swiper__=!0,a.support=M_(),a.device=R_({userAgent:n.userAgent}),a.browser=F_(),a.eventsListeners={},a.eventsAnyListeners=[],void 0===a.modules&&(a.modules={}),Object.keys(a.modules).forEach(function(t){var e=a.modules[t];if(e.params){var r=Object.keys(e.params)[0],i=e.params[r];if("object"!=typeof i||null===i)return;if(!(r in n)||!("enabled"in i))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}});var u,c,l=j_({},X_);return a.useParams(l),a.params=j_({},l,tS,n),a.originalParams=j_({},a.params),a.passedParams=j_({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(function(t){a.on(t,a.params.on[t])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=P_,j_(a,{enabled:a.params.enabled,el:e,classNames:[],slides:P_(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:(u=["touchstart","touchmove","touchend","touchcancel"],c=["mousedown","mousemove","mouseup"],a.support.pointerEvents&&(c=["pointerdown","pointermove","pointerup"]),a.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},a.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:D_(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.useModules(),a.emit("_swiper"),a.params.init&&a.init(),a}var e,n,r=t.prototype;return r.enable=function(){var t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))},r.disable=function(){var t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))},r.setProgress=function(t,e){var n=this;t=Math.min(Math.max(t,0),1);var r=n.minTranslate(),i=n.maxTranslate();n.translateTo((i-r)*t+r,void 0===e?0:e),n.updateActiveIndex(),n.updateSlidesClasses()},r.emitContainerClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=t.el.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-container")||0===e.indexOf(t.params.containerModifierClass)});t.emit("_containerClasses",e.join(" "))}},r.getSlideClasses=function(t){var e=this;return t.className.split(" ").filter(function(t){return 0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass)}).join(" ")},r.emitSlidesClasses=function(){var t=this;if(t.params._emitClasses&&t.el){var e=[];t.slides.each(function(n){var r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)}),t.emit("_slideClasses",e)}},r.slidesPerViewDynamic=function(){var t=this,e=t.slides,n=t.slidesGrid,r=t.size,i=t.activeIndex,s=1;if(t.params.centeredSlides){for(var o,a=e[i].swiperSlideSize,u=i+1;u<e.length;u+=1)e[u]&&!o&&(s+=1,(a+=e[u].swiperSlideSize)>r&&(o=!0));for(var c=i-1;c>=0;c-=1)e[c]&&!o&&(s+=1,(a+=e[c].swiperSlideSize)>r&&(o=!0))}else for(var l=i+1;l<e.length;l+=1)n[l]-n[i]<r&&(s+=1);return s},r.update=function(){var t=this;if(t&&!t.destroyed){var e=t.snapGrid,n=t.params;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode?(r(),t.params.autoHeight&&t.updateAutoHeight()):t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0)||r(),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}function r(){var e=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(e),t.updateActiveIndex(),t.updateSlidesClasses()}},r.changeDirection=function(t,e){void 0===e&&(e=!0);var n=this,r=n.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(n.$el.removeClass(""+n.params.containerModifierClass+r).addClass(""+n.params.containerModifierClass+t),n.emitContainerClasses(),n.params.direction=t,n.slides.each(function(e){"vertical"===t?e.style.width="":e.style.height=""}),n.emit("changeDirection"),e&&n.update()),n},r.mount=function(t){var e=this;if(e.mounted)return!0;var n,r=P_(t||e.params.el);return!!(t=r[0])&&(t.swiper=e,t&&t.shadowRoot&&t.shadowRoot.querySelector?(n=P_(t.shadowRoot.querySelector("."+e.params.wrapperClass))).children=function(t){return r.children(t)}:n=r.children("."+e.params.wrapperClass),j_(e,{$el:r,el:t,$wrapperEl:n,wrapperEl:n[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===r.css("direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===r.css("direction")),wrongRTL:"-webkit-box"===n.css("display")}),!0)},r.init=function(t){var e=this;return e.initialized||!1===e.mount(t)||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.slideTo(e.params.loop?e.params.initialSlide+e.loopedSlides:e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.attachEvents(),e.initialized=!0,e.emit("init"),e.emit("afterInit")),e},r.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n=this,r=n.params,i=n.$el,s=n.$wrapperEl,o=n.slides;return void 0===n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),i.removeAttr("style"),s.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(function(t){n.off(t)}),!1!==t&&(n.$el[0].swiper=null,function(t){var e=t;Object.keys(e).forEach(function(t){try{e[t]=null}catch(dw){}try{delete e[t]}catch(dw){}})}(n)),n.destroyed=!0),null},t.extendDefaults=function(t){j_(tS,t)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+D_();t.prototype.modules[n]=e},t.use=function(e){return Array.isArray(e)?(e.forEach(function(e){return t.installModule(e)}),t):(t.installModule(e),t)},e=t,(n=[{key:"extendedDefaults",get:function(){return tS}},{key:"defaults",get:function(){return X_}}])&&Z_(e,n),t}();Object.keys(J_).forEach(function(t){Object.keys(J_[t]).forEach(function(e){eS.prototype[e]=J_[t][e]})}),eS.use([U_,z_]);var nS=eS;const rS=function(t){return{"background-size":"cover","background-image":t}};function iS(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",6),r.Xb("click",function(){r.qc(t);const n=e.$implicit;return r.bc().onMovie(n)}),r.Qb(1,"div",7),r.Qb(2,"h3"),r.xc(3),r.Pb(),r.Qb(4,"p"),r.xc(5),r.cc(6,"slice"),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.ic("ngStyle",r.kc(7,rS,"url(https://image.tmdb.org/t/p/w500"+t.backdrop_path+")")),r.Bb(3),r.yc(t.title),r.Bb(2),r.zc("",r.fc(6,3,t.overview,0,130),"...")}}let sS=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}ngAfterViewInit(){this.swiper=new nS(".swiper-container",{loop:!0})}onMovie(t){this.router.navigate(["/pelicula",t.id])}onSlidePrev(){this.swiper.slidePrev()}onSlideNext(){this.swiper.slideNext()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(bs))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-slideshow"]],inputs:{movies:"movies"},decls:6,vars:1,consts:[[1,"swiper-container"],[1,"swiper-wrapper"],["class","swiper-slide puntero",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"swiper-pagination"],[1,"swiper-button-prev",3,"click"],[1,"swiper-button-next",3,"click"],[1,"swiper-slide","puntero",3,"ngStyle","click"],[1,"movie-description"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.vc(2,iS,7,9,"div",2),r.Pb(),r.Ob(3,"div",3),r.Qb(4,"div",4),r.Xb("click",function(){return e.onSlidePrev()}),r.Pb(),r.Qb(5,"div",5),r.Xb("click",function(){return e.onSlideNext()}),r.Pb(),r.Pb()),2&t&&(r.Bb(2),r.ic("ngForOf",e.movies))},directives:[dt,yt],pipes:[St],styles:[".swiper-container[_ngcontent-%COMP%]{height:350px;width:80%;border-radius:10px}.swiper-button-next[_ngcontent-%COMP%], .swiper-button-prev[_ngcontent-%COMP%]{color:#fff}.movie-description[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3);bottom:0;padding:5px 30px;position:absolute;width:100%}"]}),t})();function oS(t,e){1&t&&r.Ob(0,"app-loading")}function aS(t,e){if(1&t&&(r.Qb(0,"div",2),r.Qb(1,"div",5),r.Ob(2,"app-slideshow",7),r.Pb(),r.Pb()),2&t){const t=r.bc();r.Bb(2),r.ic("movies",t.moviesSlideShow)}}function uS(t,e){if(1&t&&r.Ob(0,"app-peliculas-poster-grid",7),2&t){const t=r.bc();r.ic("movies",t.movies)}}let cS=(()=>{class t{constructor(t){this.peliculasService=t,this.movies=[],this.moviesSlideShow=[]}onScroll(){if((document.documentElement.scrollTop||document.body.scrollTop)+1300>(document.documentElement.scrollHeight||document.body.scrollHeight)){if(this.peliculasService.cargando)return;this.peliculasService.getCartelera().subscribe(t=>{this.movies.push(...t)})}}ngOnInit(){return Object(il.b)(this,void 0,void 0,function*(){this.loading=!0,this.peliculasService.getCartelera().subscribe(t=>{this.loading=!1,this.movies=t,this.moviesSlideShow=t})})}ngOnDestroy(){this.peliculasService.resetCarteleraPage()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ww))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-home"]],hostBindings:function(t,e){1&t&&r.Xb("scroll",function(t){return e.onScroll(t)},!1,r.pc)},decls:11,vars:3,consts:[[4,"ngIf"],["class","row",4,"ngIf"],[1,"row"],[1,"col"],[1,"m-3"],[1,"col","animated","fadeIn"],[3,"movies",4,"ngIf"],[3,"movies"]],template:function(t,e){1&t&&(r.vc(0,oS,1,0,"app-loading",0),r.Qb(1,"h1"),r.xc(2,"Cartelera"),r.Pb(),r.vc(3,aS,3,1,"div",1),r.Qb(4,"div",2),r.Qb(5,"div",3),r.Qb(6,"h1",4),r.xc(7,"Ultimas Peliculas"),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"div",2),r.Qb(9,"div",5),r.vc(10,uS,1,1,"app-peliculas-poster-grid",6),r.Pb(),r.Pb()),2&t&&(r.ic("ngIf",e.loading),r.Bb(3),r.ic("ngIf",e.movies.length>0),r.Bb(7),r.ic("ngIf",e.movies.length>0))},directives:[pt,s_,sS,i_],styles:[""]}),t})();function lS(t,e){if(1&t&&(r.Qb(0,"div",5),r.Ob(1,"img",6),r.cc(2,"poster"),r.Qb(3,"h6"),r.Qb(4,"strong"),r.xc(5),r.Pb(),r.Pb(),r.Qb(6,"p",7),r.xc(7),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Bb(1),r.ic("src",r.dc(2,4,t.profile_path),r.sc)("alt",t.name),r.Bb(4),r.yc(t.name),r.Bb(2),r.yc(t.character)}}let hS=(()=>{class t{constructor(){}ngOnInit(){}ngAfterViewInit(){this.swiper=new nS(".swiper-container",{slidesPerView:5.3,freeMode:!0,spaceBetween:15})}onSlidePrev(){this.swiper.slidePrev()}onSlideNext(){this.swiper.slideNext()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-cast-slideshow"]],inputs:{cast:"cast"},decls:5,vars:1,consts:[[1,"swiper-container"],[1,"swiper-wrapper"],["class","swiper-slide text-white text-center",4,"ngFor","ngForOf"],[1,"swiper-button-prev",3,"click"],[1,"swiper-button-next",3,"click"],[1,"swiper-slide","text-white","text-center"],["height","200px",1,"img-thumbnail",3,"src","alt"],[1,"text-primary"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.vc(2,lS,8,6,"div",2),r.Pb(),r.Qb(3,"div",3),r.Xb("click",function(){return e.onSlidePrev()}),r.Pb(),r.Qb(4,"div",4),r.Xb("click",function(){return e.onSlideNext()}),r.Pb(),r.Pb()),2&t&&(r.Bb(2),r.ic("ngForOf",e.cast))},directives:[dt],pipes:[n_],styles:[".swiper-button-next[_ngcontent-%COMP%], .swiper-button-prev[_ngcontent-%COMP%]{color:#fff}"]}),t})();function dS(t,e){1&t&&r.Ob(0,"app-loading")}function fS(t,e){if(1&t&&(r.Qb(0,"div",19),r.Ob(1,"i",20),r.xc(2),r.Pb()),2&t){const t=e.$implicit;r.Bb(2),r.zc(" ",t.name," ")}}function pS(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",5),r.Qb(1,"div",6),r.Ob(2,"img",7),r.cc(3,"poster"),r.Pb(),r.Qb(4,"div",8),r.Qb(5,"h2"),r.Qb(6,"strong"),r.xc(7),r.cc(8,"date"),r.Pb(),r.Pb(),r.Qb(9,"div",2),r.Qb(10,"div",9),r.Ob(11,"star-rating",10),r.Pb(),r.Qb(12,"div",11),r.xc(13),r.cc(14,"number"),r.Pb(),r.Pb(),r.Qb(15,"div",2),r.Qb(16,"div",12),r.Qb(17,"h3"),r.Qb(18,"strong"),r.xc(19,"GENERO"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(20,"div",2),r.vc(21,fS,3,1,"div",13),r.Pb(),r.Qb(22,"div",2),r.Qb(23,"div",14),r.Qb(24,"h3"),r.Qb(25,"strong"),r.xc(26,"SINOPSIS"),r.Pb(),r.Pb(),r.xc(27),r.Pb(),r.Pb(),r.Qb(28,"div",2),r.Qb(29,"div",15),r.Qb(30,"strong"),r.xc(31," Popularidad: "),r.Pb(),r.Qb(32,"span",16),r.xc(33),r.Pb(),r.Pb(),r.Qb(34,"div",15),r.Qb(35,"strong"),r.xc(36," Voto Promedio: "),r.Pb(),r.Qb(37,"span",16),r.xc(38),r.Pb(),r.Pb(),r.Pb(),r.Qb(39,"div",2),r.Qb(40,"div",17),r.Qb(41,"button",18),r.Xb("click",function(){return r.qc(t),r.bc().onRegresar()}),r.xc(42," Regresar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.bc();r.Bb(2),r.ic("src",r.dc(3,10,t.pelicula.poster_path),r.sc)("alt",t.pelicula.title),r.Bb(5),r.Ac("",t.pelicula.title," (",r.ec(8,12,t.pelicula.release_date,"YYYY"),")"),r.Bb(4),r.ic("value",t.pelicula.vote_average),r.Bb(2),r.zc(" ",r.ec(14,15,t.pelicula.vote_average,"1.1-2"),"/10 "),r.Bb(8),r.ic("ngForOf",t.pelicula.genres),r.Bb(6),r.zc(" ",t.pelicula.overview," "),r.Bb(6),r.yc(t.pelicula.popularity),r.Bb(5),r.yc(t.pelicula.vote_count)}}function gS(t,e){if(1&t&&(r.Qb(0,"div",22),r.Ob(1,"app-cast-slideshow",23),r.Pb()),2&t){const t=r.bc(2);r.Bb(1),r.ic("cast",t.cast)}}function mS(t,e){if(1&t&&(r.Qb(0,"div",2),r.vc(1,gS,2,1,"div",21),r.Pb()),2&t){const t=r.bc();r.Bb(1),r.ic("ngIf",!t.loading)}}let yS=(()=>{class t{constructor(t,e,n,r){this.activatedRoute=t,this.peliculasService=e,this.location=n,this.router=r,this.cast=[],this.video=[]}ngOnInit(){this.loading=!0;const{id:t}=this.activatedRoute.snapshot.params;an([this.peliculasService.getPeliculaDetalle(t),this.peliculasService.getCast(t),this.peliculasService.getVideoTrailer(t)]).subscribe(([t,e,n])=>{if(!t&&!e)return this.loading=!1,void this.router.navigateByUrl("/home");this.loading=!1,this.pelicula=t,this.cast=e.filter(t=>null!==t.profile_path),this.video=n})}onRegresar(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Jr),r.Nb(Ww),r.Nb(_),r.Nb(bs))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-pelicula"]],decls:7,vars:3,consts:[[4,"ngIf"],["class","row m-3 animated fadeIn",4,"ngIf"],[1,"row"],[1,"col","m-2"],["class","row",4,"ngIf"],[1,"row","m-3","animated","fadeIn"],[1,"col-md-6","animated","fadeIn",2,"text-align","center"],[1,"img-thumbnail","poster",2,"width","70%",3,"src","alt"],[1,"col-md-6"],[1,"col-9"],["totalstars","10","checkedcolor","yellow","uncheckedcolor","grey","size","20px","readonly","false",3,"value"],[1,"col-2","text-white",2,"text-align","center","margin-top","4px"],[1,"col"],["class","col-2 text-white","style","width: auto;",4,"ngFor","ngForOf"],[1,"col","mt-2","text-white"],[1,"col","text-white","mt-3"],[1,"badge","bg-primary"],[1,"col","mt-5","text-end"],[1,"btn","btn-outline-danger",3,"click"],[1,"col-2","text-white",2,"width","auto"],[1,"bi","bi-gem"],["class","col  animated fadeIn",4,"ngIf"],[1,"col","animated","fadeIn"],[3,"cast"]],template:function(t,e){1&t&&(r.vc(0,dS,1,0,"app-loading",0),r.vc(1,pS,43,18,"div",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"h2"),r.xc(5,"Reparto Principal"),r.Pb(),r.Pb(),r.Pb(),r.vc(6,mS,2,1,"div",4)),2&t&&(r.ic("ngIf",e.loading),r.Bb(1),r.ic("ngIf",!e.loading),r.Bb(5),r.ic("ngIf",e.cast.length>0))},directives:[pt,s_,t_,dt,hS],pipes:[n_,wt,_t],styles:[".poster[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 0 10px #000;height:400px;margin:5px;width:100%}h3[_ngcontent-%COMP%]{margin-top:10px;font-size:15px;text-align:center}"]}),t})();class vS{}const bS="*";function wS(t,e){return{type:7,name:t,definitions:e,options:{}}}function _S(t,e=null){return{type:4,styles:e,timings:t}}function SS(t,e=null){return{type:2,steps:t,options:e}}function xS(t){return{type:6,styles:t,offset:null}}function TS(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function ES(t){Promise.resolve(null).then(t)}class CS{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ES(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class OS{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ES(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class kS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class AS extends kS{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class IS extends kS{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class PS extends kS{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class NS extends class extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof AS?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof IS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof PS?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}{}var DS=n("n6bG");function LS(t,e,n,r){return Object(DS.a)(n)&&(r=n,n=void 0),r?LS(t,e,n).pipe(Object(ge.a)(t=>Object(Je.a)(t)?r(...t):r(t))):new ue.a(r=>{jS(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function jS(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)jS(t[s],e,n,r,i)}r.add(s)}class MS{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new RS(t,this.dueTime,this.scheduler))}}class RS extends he.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(FS,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function FS(t){t.debouncedNext()}function US(){}var BS=function(t){return null==t?US:function(){return this.querySelector(t)}},VS=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function zS(){return[]}var qS=function(t){return null==t?zS:function(){return this.querySelectorAll(t)}},HS=function(t){return function(){return this.matches(t)}};function QS(t){return function(e){return e.matches(t)}}var $S=Array.prototype.find;function GS(){return this.firstElementChild}var WS=Array.prototype.filter;function KS(){return this.children}var YS=function(t){return new Array(t.length)};function XS(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}XS.prototype={constructor:XS,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ZS=function(t){return function(){return t}};function JS(t,e,n,r,i,s){for(var o,a=0,u=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new XS(t,s[a]);for(;a<u;++a)(o=e[a])&&(i[a]=o)}function tx(t,e,n,r,i,s,o){var a,u,c,l=new Map,h=e.length,d=s.length,f=new Array(h);for(a=0;a<h;++a)(u=e[a])&&(f[a]=c=o.call(u,u.__data__,a,e)+"",l.has(c)?i[a]=u:l.set(c,u));for(a=0;a<d;++a)c=o.call(t,s[a],a,s)+"",(u=l.get(c))?(r[a]=u,u.__data__=s[a],l.delete(c)):n[a]=new XS(t,s[a]);for(a=0;a<h;++a)(u=e[a])&&l.get(f[a])===u&&(i[a]=u)}function ex(t){return t.__data__}function nx(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var rx="http://www.w3.org/1999/xhtml",ix={svg:"http://www.w3.org/2000/svg",xhtml:rx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sx=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ix.hasOwnProperty(e)?{space:ix[e],local:t}:t};function ox(t){return function(){this.removeAttribute(t)}}function ax(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ux(t,e){return function(){this.setAttribute(t,e)}}function cx(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lx(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function hx(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var dx=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function fx(t){return function(){this.style.removeProperty(t)}}function px(t,e,n){return function(){this.style.setProperty(t,e,n)}}function gx(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function mx(t,e){return t.style.getPropertyValue(e)||dx(t).getComputedStyle(t,null).getPropertyValue(e)}function yx(t){return function(){delete this[t]}}function vx(t,e){return function(){this[t]=e}}function bx(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function wx(t){return t.trim().split(/^|\s+/)}function _x(t){return t.classList||new Sx(t)}function Sx(t){this._node=t,this._names=wx(t.getAttribute("class")||"")}function xx(t,e){for(var n=_x(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Tx(t,e){for(var n=_x(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ex(t){return function(){xx(this,t)}}function Cx(t){return function(){Tx(this,t)}}function Ox(t,e){return function(){(e.apply(this,arguments)?xx:Tx)(this,t)}}function kx(){this.textContent=""}function Ax(t){return function(){this.textContent=t}}function Ix(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Px(){this.innerHTML=""}function Nx(t){return function(){this.innerHTML=t}}function Dx(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Lx(){this.nextSibling&&this.parentNode.appendChild(this)}function jx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mx(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===rx&&e.documentElement.namespaceURI===rx?e.createElement(t):e.createElementNS(n,t)}}function Rx(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}Sx.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Fx=function(t){var e=sx(t);return(e.local?Rx:Mx)(e)};function Ux(){return null}function Bx(){var t=this.parentNode;t&&t.removeChild(this)}function Vx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zx(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function qx(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function Hx(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Qx(t,e,n){return function(){var r,i=this.__on,s=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),void(r.value=e);this.addEventListener(t.type,s,n),r={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(r):this.__on=[r]}}function $x(t,e,n){var r=dx(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Gx(t,e){return function(){return $x(this,t,e)}}function Wx(t,e){return function(){return $x(this,t,e.apply(this,arguments))}}var Kx=[null];function Yx(t,e){this._groups=t,this._parents=e}function Xx(){return new Yx([[document.documentElement]],Kx)}Yx.prototype=Xx.prototype={constructor:Yx,select:function(t){"function"!=typeof t&&(t=BS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=e[i],u=a.length,c=r[i]=new Array(u),l=0;l<u;++l)(s=a[l])&&(o=t.call(s,s.__data__,l,a))&&("__data__"in s&&(o.__data__=s.__data__),c[l]=o);return new Yx(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:VS(e)}}(t):qS(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o,a=e[s],u=a.length,c=0;c<u;++c)(o=a[c])&&(r.push(t.call(o,o.__data__,c,a)),i.push(o));return new Yx(r,i)},selectChild:function(t){return this.select(null==t?GS:function(t){return function(){return $S.call(this.children,t)}}("function"==typeof t?t:QS(t)))},selectChildren:function(t){return this.selectAll(null==t?KS:function(t){return function(){return WS.call(this.children,t)}}("function"==typeof t?t:QS(t)))},filter:function(t){"function"!=typeof t&&(t=HS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,u=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&u.push(s);return new Yx(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ex);var n=e?tx:JS,r=this._parents,i=this._groups;"function"!=typeof t&&(t=ZS(t));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),c=0;c<s;++c){var l=r[c],h=i[c],d=h.length,f=VS(t.call(l,l&&l.__data__,c,r)),p=f.length,g=a[c]=new Array(p),m=o[c]=new Array(p),y=u[c]=new Array(d);n(l,h,g,m,y,f,e);for(var v,b,w=0,_=0;w<p;++w)if(v=g[w]){for(w>=_&&(_=w+1);!(b=m[_])&&++_<p;);v._next=b||null}}return(o=new Yx(o,r))._enter=a,o._exit=u,o},enter:function(){return new Yx(this._enter||this._groups.map(YS),this._parents)},exit:function(){return new Yx(this._exit||this._groups.map(YS),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Yx))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,u=e[o],c=n[o],l=u.length,h=s[o]=new Array(l),d=0;d<l;++d)(a=u[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new Yx(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=nx);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],u=a.length,c=i[s]=new Array(u),l=0;l<u;++l)(o=a[l])&&(c[l]=o);c.sort(e)}return new Yx(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=sx(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ax:ox:"function"==typeof e?n.local?hx:lx:n.local?cx:ux)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?fx:"function"==typeof e?gx:px)(t,e,null==n?"":n)):mx(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?yx:"function"==typeof e?bx:vx)(t,e)):this.node()[t]},classed:function(t,e){var n=wx(t+"");if(arguments.length<2){for(var r=_x(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ox:e?Ex:Cx)(n,e))},text:function(t){return arguments.length?this.each(null==t?kx:("function"==typeof t?Ix:Ax)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Px:("function"==typeof t?Dx:Nx)(t)):this.node().innerHTML},raise:function(){return this.each(Lx)},lower:function(){return this.each(jx)},append:function(t){var e="function"==typeof t?t:Fx(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Fx(t),r=null==e?Ux:"function"==typeof e?e:BS(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Bx)},clone:function(t){return this.select(t?zx:Vx)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=qx(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?Qx:Hx,r=0;r<o;++r)this.each(a(s[r],e,n));return this}var a=this.node().__on;if(a)for(var u,c=0,l=a.length;c<l;++c)for(r=0,u=a[c];r<o;++r)if((i=s[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Wx:Gx)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],s=0,o=i.length;s<o;++s)(r=i[s])&&(yield r)}};var Zx=Xx,Jx={value:()=>{}};function tT(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new eT(r)}function eT(t){this._=t}function nT(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function rT(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function iT(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Jx,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}eT.prototype=tT.prototype={constructor:eT,on:function(t,e){var n,r=this._,i=nT(t+"",r),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=iT(r[n],t.name,e);else if(null==e)for(n in r)r[n]=iT(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=rT(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new eT(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};var sT=tT,oT=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function aT(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uT(){}var cT=.7,lT=1/cT,hT="\\s*([+-]?\\d+)\\s*",dT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",fT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pT=/^#([0-9a-f]{3,8})$/,gT=new RegExp("^rgb\\("+[hT,hT,hT]+"\\)$"),mT=new RegExp("^rgb\\("+[fT,fT,fT]+"\\)$"),yT=new RegExp("^rgba\\("+[hT,hT,hT,dT]+"\\)$"),vT=new RegExp("^rgba\\("+[fT,fT,fT,dT]+"\\)$"),bT=new RegExp("^hsl\\("+[dT,fT,fT]+"\\)$"),wT=new RegExp("^hsla\\("+[dT,fT,fT,dT]+"\\)$"),_T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ST(){return this.rgb().formatHex()}function xT(){return this.rgb().formatRgb()}function TT(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=pT.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ET(e):3===n?new AT(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?CT(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?CT(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=gT.exec(t))?new AT(e[1],e[2],e[3],1):(e=mT.exec(t))?new AT(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=yT.exec(t))?CT(e[1],e[2],e[3],e[4]):(e=vT.exec(t))?CT(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=bT.exec(t))?DT(e[1],e[2]/100,e[3]/100,1):(e=wT.exec(t))?DT(e[1],e[2]/100,e[3]/100,e[4]):_T.hasOwnProperty(t)?ET(_T[t]):"transparent"===t?new AT(NaN,NaN,NaN,0):null}function ET(t){return new AT(t>>16&255,t>>8&255,255&t,1)}function CT(t,e,n,r){return r<=0&&(t=e=n=NaN),new AT(t,e,n,r)}function OT(t){return t instanceof uT||(t=TT(t)),t?new AT((t=t.rgb()).r,t.g,t.b,t.opacity):new AT}function kT(t,e,n,r){return 1===arguments.length?OT(t):new AT(t,e,n,null==r?1:r)}function AT(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function IT(){return"#"+NT(this.r)+NT(this.g)+NT(this.b)}function PT(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function NT(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function DT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new jT(t,e,n,r)}function LT(t){if(t instanceof jT)return new jT(t.h,t.s,t.l,t.opacity);if(t instanceof uT||(t=TT(t)),!t)return new jT;if(t instanceof jT)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(o=e===s?(n-r)/a+6*(n<r):n===s?(r-e)/a+2:(e-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new jT(o,a,u,t.opacity)}function jT(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function MT(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function RT(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}oT(uT,TT,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ST,formatHex:ST,formatHsl:function(){return LT(this).formatHsl()},formatRgb:xT,toString:xT}),oT(AT,kT,aT(uT,{brighter:function(t){return t=null==t?lT:Math.pow(lT,t),new AT(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?cT:Math.pow(cT,t),new AT(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IT,formatHex:IT,formatRgb:PT,toString:PT})),oT(jT,function(t,e,n,r){return 1===arguments.length?LT(t):new jT(t,e,n,null==r?1:r)},aT(uT,{brighter:function(t){return t=null==t?lT:Math.pow(lT,t),new jT(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?cT:Math.pow(cT,t),new jT(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new AT(MT(t>=240?t-240:t+120,i,r),MT(t,i,r),MT(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var FT=t=>()=>t;function UT(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):FT(isNaN(t)?e:t)}var BT=function t(e){var n=function(t){return 1==(t=+t)?UT:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):FT(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=kT(t)).r,(e=kT(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),o=UT(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function VT(t){return function(e){var n,r,i=e.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=kT(e[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=t(s),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=a(t),r+""}}}VT(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1];return RT((n-r/e)*e,r>0?t[r-1]:2*i-s,i,s,r<e-1?t[r+2]:2*s-i)}}),VT(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return RT((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var zT=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}};function qT(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=new Array(i),o=new Array(r);for(n=0;n<i;++n)s[n]=ZT(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=s[n](t);return o}}var HT,QT,$T=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},GT=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},WT=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ZT(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},KT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YT=new RegExp(KT.source,"g"),XT=function(t,e){var n,r,i,s=KT.lastIndex=YT.lastIndex=0,o=-1,a=[],u=[];for(t+="",e+="";(n=KT.exec(t))&&(r=YT.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,u.push({i:o,x:GT(n,r)})),s=YT.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})},ZT=function(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?FT(e):("number"===i?GT:"string"===i?(n=TT(e))?(e=n,BT):XT:e instanceof TT?BT:e instanceof Date?$T:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?qT:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?WT:GT:zT))(t,e)},JT=0,tE=0,eE=0,nE=0,rE=0,iE=0,sE="object"==typeof performance&&performance.now?performance:Date,oE="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function aE(){return rE||(oE(uE),rE=sE.now()+iE)}function uE(){rE=0}function cE(){this._call=this._time=this._next=null}function lE(t,e,n){var r=new cE;return r.restart(t,e,n),r}function hE(){rE=(nE=sE.now())+iE,JT=tE=0;try{!function(){aE(),++JT;for(var t,e=HT;e;)(t=rE-e._time)>=0&&e._call.call(null,t),e=e._next;--JT}()}finally{JT=0,function(){for(var t,e,n=HT,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:HT=e);QT=t,fE(r)}(),rE=0}}function dE(){var t=sE.now(),e=t-nE;e>1e3&&(iE-=e,nE=t)}function fE(t){JT||(tE&&(tE=clearTimeout(tE)),t-rE>24?(t<1/0&&(tE=setTimeout(hE,t-sE.now()-iE)),eE&&(eE=clearInterval(eE))):(eE||(nE=sE.now(),eE=setInterval(dE,1e3)),JT=1,oE(hE)))}cE.prototype=lE.prototype={constructor:cE,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?aE():+n)+(null==e?0:+e),this._next||QT===this||(QT?QT._next=this:HT=this,QT=this),this._call=t,this._time=n,fE()},stop:function(){this._call&&(this._call=null,this._time=1/0,fE())}};var pE=function(t,e,n){var r=new cE;return r.restart(n=>{r.stop(),t(n+e)},e=null==e?0:+e,n),r},gE=sT("start","end","cancel","interrupt"),mE=[],yE=function(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(u){var c,l,h,d;if(1!==n.state)return a();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return pE(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(pE(function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=d);r.length=l+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=lE(function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:gE,tween:mE,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function vE(t,e){var n=wE(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function bE(t,e){var n=wE(t,e);if(n.state>3)throw new Error("too late; already running");return n}function wE(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var _E,SE=180/Math.PI,xE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},TE=function(t,e,n,r,i,s){var o,a,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*SE,skewX:Math.atan(u)*SE,scaleX:o,scaleY:a}};function EE(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],u=[];return s=t(s),o=t(o),function(t,r,i,s,o,a){if(t!==i||r!==s){var u=o.push("translate(",null,e,null,n);a.push({i:u-4,x:GT(t,i)},{i:u-2,x:GT(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,u),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:GT(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(s.rotate,o.rotate,a,u),function(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:GT(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(s.skewX,o.skewX,a,u),function(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:GT(t,n)},{i:a-2,x:GT(e,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,u),s=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)a[(e=u[n]).i]=e.x(t);return a.join("")}}}var CE=EE(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xE:TE(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),OE=EE(function(t){return null==t?xE:(_E||(_E=document.createElementNS("http://www.w3.org/2000/svg","g")),_E.setAttribute("transform",t),(t=_E.transform.baseVal.consolidate())?TE((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):xE)},", ",")",")");function kE(t,e){var n,r;return function(){var i=bE(this,t),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function AE(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=bE(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=a;break}u===c&&i.push(a)}s.tween=i}}function IE(t,e,n){var r=t._id;return t.each(function(){var t=bE(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return wE(t,r).value[e]}}var PE=function(t,e){var n;return("number"==typeof e?GT:e instanceof TT?BT:(n=TT(e))?(e=n,BT):XT)(t,e)};function NE(t){return function(){this.removeAttribute(t)}}function DE(t){return function(){this.removeAttributeNS(t.space,t.local)}}function LE(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function jE(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function ME(t,e,n){var r,i,s;return function(){var o,a,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(a=u+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,u));this.removeAttribute(t)}}function RE(t,e,n){var r,i,s;return function(){var o,a,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(a=u+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function FE(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function UE(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function BE(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&UE(t,i)),n}return i._value=e,i}function VE(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&FE(t,i)),n}return i._value=e,i}function zE(t,e){return function(){vE(this,t).delay=+e.apply(this,arguments)}}function qE(t,e){return e=+e,function(){vE(this,t).delay=e}}function HE(t,e){return function(){bE(this,t).duration=+e.apply(this,arguments)}}function QE(t,e){return e=+e,function(){bE(this,t).duration=e}}function $E(t,e){if("function"!=typeof e)throw new Error;return function(){bE(this,t).ease=e}}function GE(t,e,n){var r,i,s=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?vE:bE;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}var WE=Zx.prototype.constructor;function KE(t){return function(){this.style.removeProperty(t)}}function YE(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function XE(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&YE(t,s,n)),r}return s._value=e,s}function ZE(t){return function(e){this.textContent=t.call(this,e)}}function JE(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ZE(r)),e}return r._value=t,r}var tC=0;function eC(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function nC(){return++tC}var rC=Zx.prototype;eC.prototype=(function(t){return Zx().transition(t)}).prototype={constructor:eC,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=BS(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,u,c=r[o],l=c.length,h=s[o]=new Array(l),d=0;d<l;++d)(a=c[d])&&(u=t.call(a,a.__data__,d,c))&&("__data__"in a&&(u.__data__=a.__data__),h[d]=u,yE(h[d],e,n,d,h,wE(a,n)));return new eC(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=qS(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u,c=r[a],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var d,f=t.call(u,u.__data__,h,c),p=wE(u,n),g=0,m=f.length;g<m;++g)(d=f[g])&&yE(d,e,n,g,f,p);s.push(f),o.push(u)}return new eC(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=HS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,u=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&u.push(s);return new eC(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,u=e[o],c=n[o],l=u.length,h=s[o]=new Array(l),d=0;d<l;++d)(a=u[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new eC(s,this._parents,this._name,this._id)},selection:function(){return new WE(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=nC(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],u=a.length,c=0;c<u;++c)if(o=a[c]){var l=wE(o,e);yE(o,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new eC(r,this._parents,t,n)},call:rC.call,nodes:rC.nodes,node:rC.node,size:rC.size,empty:rC.empty,each:rC.each,on:function(t,e){var n=this._id;return arguments.length<2?wE(this.node(),n).on.on(t):this.each(GE(n,t,e))},attr:function(t,e){var n=sx(t),r="transform"===n?OE:PE;return this.attrTween(t,"function"==typeof e?(n.local?RE:ME)(n,r,IE(this,"attr."+t,e)):null==e?(n.local?DE:NE)(n):(n.local?jE:LE)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=sx(t);return this.tween(n,(r.local?BE:VE)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?CE:PE;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var s=mx(this,t),o=(this.style.removeProperty(t),mx(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}(t,r)).on("end.style."+t,KE(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,s;return function(){var o=mx(this,t),a=n(this),u=a+"";return null==a&&(this.style.removeProperty(t),u=a=mx(this,t)),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a))}}(t,r,IE(this,"style."+t,e))).each(function(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var u=bE(this,t),c=u.on,l=null==u.value[o]?s||(s=KE(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(a,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,s=n+"";return function(){var o=mx(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,XE(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(IE(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,JE(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=wE(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?kE:AE)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?zE:qE)(e,t)):wE(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?HE:QE)(e,t)):wE(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each($E(e,t)):wE(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;bE(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){0==--i&&s()}};n.each(function(){var n=bE(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),n.on=e}),0===i&&s()})},[Symbol.iterator]:rC[Symbol.iterator]};var iC={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function sC(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function oC(t){return{type:t}}Zx.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s)(n=s[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete t.__transition}}(this,t)})},Zx.prototype.transition=function(t){var e,n;t instanceof eC?(e=t._id,t=t._name):(e=nC(),(n=iC).time=aE(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],u=a.length,c=0;c<u;++c)(o=a[c])&&yE(o,t,e,c,a,n||sC(o,e));return new eC(r,this._parents,t,e)},Math,["w","e"].map(oC),["n","s"].map(oC),["n","w","e","s","nw","ne","sw","se"].map(oC);var aC=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},uC=function(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const s=r+i>>>1;n(t[s],e)<0?r=s+1:i=s}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>aC(t(e),n)}(t)),{left:r,center:function(t,n,i,s){null==i&&(i=0),null==s&&(s=t.length);const o=r(t,n,i,s-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const s=r+i>>>1;n(t[s],e)>0?i=s:r=s+1}return r}}},cC=Math.sqrt(50),lC=Math.sqrt(10),hC=Math.sqrt(2);function dC(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=cC?10:s>=lC?5:s>=hC?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=cC?10:s>=lC?5:s>=hC?2:1)}function fC(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=cC?i*=10:s>=lC?i*=5:s>=hC&&(i*=2),e<t?-i:i}const pC=1e3,gC=6e4,mC=36e5,yC=864e5,vC=6048e5,bC=31536e6;var wC=new Date,_C=new Date;function SC(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var o,a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=function(n){return SC(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return wC.setTime(+e),_C.setTime(+r),t(wC),t(_C),Math.floor(n(wC,_C))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var xC=SC(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});xC.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?SC(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):xC:null};var TC=xC,EC=SC(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*pC)},function(t,e){return(e-t)/pC},function(t){return t.getUTCSeconds()}),CC=SC(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pC)},function(t,e){t.setTime(+t+e*gC)},function(t,e){return(e-t)/gC},function(t){return t.getMinutes()}),OC=SC(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*pC-t.getMinutes()*gC)},function(t,e){t.setTime(+t+e*mC)},function(t,e){return(e-t)/mC},function(t){return t.getHours()}),kC=SC(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gC)/yC,t=>t.getDate()-1);function AC(t){return SC(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gC)/vC})}var IC=AC(0),PC=AC(1),NC=(AC(2),AC(3),AC(4)),DC=(AC(5),AC(6),SC(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),LC=SC(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});LC.every=function(t){return isFinite(t=Math.floor(t))&&t>0?SC(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var jC=LC,MC=SC(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*gC)},function(t,e){return(e-t)/gC},function(t){return t.getUTCMinutes()}),RC=SC(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*mC)},function(t,e){return(e-t)/mC},function(t){return t.getUTCHours()}),FC=SC(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/yC},function(t){return t.getUTCDate()-1});function UC(t){return SC(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/vC})}var BC=UC(0),VC=UC(1),zC=(UC(2),UC(3),UC(4)),qC=(UC(5),UC(6),SC(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),HC=SC(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});HC.every=function(t){return isFinite(t=Math.floor(t))&&t>0?SC(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var QC=HC;function $C(t,e,n,r,i,s){const o=[[EC,1,pC],[EC,5,5e3],[EC,15,15e3],[EC,30,3e4],[s,1,gC],[s,5,3e5],[s,15,9e5],[s,30,18e5],[i,1,mC],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,yC],[r,2,1728e5],[n,1,vC],[e,1,2592e6],[e,3,7776e6],[t,1,bC]];function a(e,n,r){const i=Math.abs(n-e)/r,s=uC(([,,t])=>t).right(o,i);if(s===o.length)return t.every(fC(e/bC,n/bC,r));if(0===s)return TC.every(Math.max(fC(e,n,r),1));const[a,u]=o[i/o[s-1][2]<o[s][2]/i?s-1:s];return a.every(u)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:a(t,e,n),s=i?i.range(t,+e+1):[];return r?s.reverse():s},a]}const[GC,WC]=$C(QC,qC,BC,FC,RC,MC),[KC,YC]=$C(jC,DC,IC,kC,OC,CC);var XC={"-":"",_:" ",0:"0"},ZC=/[\\^$*+?|[\]().{}]/g;function JC(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function tO(t){return t.replace(ZC,"\\$&")}function eO(t){return new RegExp("^(?:"+t.map(tO).join("|")+")","i")}function nO(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function rO(t,e){return JC(t.getDate(),e,2)}function iO(t,e){return JC(t.getHours(),e,2)}function sO(t,e){return JC(t.getHours()%12||12,e,2)}function oO(t,e){return JC(1+kC.count(jC(t),t),e,3)}function aO(t,e){return JC(t.getMilliseconds(),e,3)}function uO(t,e){return aO(t,e)+"000"}function cO(t,e){return JC(t.getMonth()+1,e,2)}function lO(t,e){return JC(t.getMinutes(),e,2)}function hO(t,e){return JC(t.getSeconds(),e,2)}function dO(t){var e=t.getDay();return 0===e?7:e}function fO(t,e){return JC(IC.count(jC(t)-1,t),e,2)}function pO(t){var e=t.getDay();return e>=4||0===e?NC(t):NC.ceil(t)}function gO(t,e){return t=pO(t),JC(NC.count(jC(t),t)+(4===jC(t).getDay()),e,2)}function mO(t){return t.getDay()}function yO(t,e){return JC(PC.count(jC(t)-1,t),e,2)}function vO(t,e){return JC(t.getFullYear()%100,e,2)}function bO(t,e){return JC((t=pO(t)).getFullYear()%100,e,2)}function wO(t,e){return JC(t.getFullYear()%1e4,e,4)}function _O(t,e){var n=t.getDay();return JC((t=n>=4||0===n?NC(t):NC.ceil(t)).getFullYear()%1e4,e,4)}function SO(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+JC(e/60|0,"0",2)+JC(e%60,"0",2)}function xO(t,e){return JC(t.getUTCDate(),e,2)}function TO(t,e){return JC(t.getUTCHours(),e,2)}function EO(t,e){return JC(t.getUTCHours()%12||12,e,2)}function CO(t,e){return JC(1+FC.count(QC(t),t),e,3)}function OO(t,e){return JC(t.getUTCMilliseconds(),e,3)}function kO(t,e){return OO(t,e)+"000"}function AO(t,e){return JC(t.getUTCMonth()+1,e,2)}function IO(t,e){return JC(t.getUTCMinutes(),e,2)}function PO(t,e){return JC(t.getUTCSeconds(),e,2)}function NO(t){var e=t.getUTCDay();return 0===e?7:e}function DO(t,e){return JC(BC.count(QC(t)-1,t),e,2)}function LO(t){var e=t.getUTCDay();return e>=4||0===e?zC(t):zC.ceil(t)}function jO(t,e){return t=LO(t),JC(zC.count(QC(t),t)+(4===QC(t).getUTCDay()),e,2)}function MO(t){return t.getUTCDay()}function RO(t,e){return JC(VC.count(QC(t)-1,t),e,2)}function FO(t,e){return JC(t.getUTCFullYear()%100,e,2)}function UO(t,e){return JC((t=LO(t)).getUTCFullYear()%100,e,2)}function BO(t,e){return JC(t.getUTCFullYear()%1e4,e,4)}function VO(t,e){var n=t.getUTCDay();return JC((t=n>=4||0===n?zC(t):zC.ceil(t)).getUTCFullYear()%1e4,e,4)}function zO(){return"+0000"}function qO(){return"%"}function HO(t){return+t}function QO(t){return Math.floor(+t/1e3)}!function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,u=t.shortMonths,c=(eO(i),nO(i),eO(s),nO(s),eO(o),nO(o),eO(a),nO(a),eO(u),nO(u),{a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:rO,e:rO,f:uO,g:bO,G:_O,H:iO,I:sO,j:oO,L:aO,m:cO,M:lO,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:HO,s:QO,S:hO,u:dO,U:fO,V:gO,w:mO,W:yO,x:null,X:null,y:vO,Y:wO,Z:SO,"%":qO}),l={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:xO,e:xO,f:kO,g:UO,G:VO,H:TO,I:EO,j:CO,L:OO,m:AO,M:IO,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:HO,s:QO,S:PO,u:NO,U:DO,V:jO,w:MO,W:RO,x:null,X:null,y:FO,Y:BO,Z:zO,"%":qO};function h(t,e){return function(n){var r,i,s,o=[],a=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(u,a)),null!=(i=XC[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),o.push(r),u=a+1);return o.push(t.slice(u,a)),o.join("")}}c.x=h(n,c),c.X=h(r,c),c.c=h(e,c),l.x=h(n,l),l.X=h(r,l),l.c=h(e,l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var $O=function(t){return null===t?NaN:+t};const GO=uC(aC).right;uC($O);var WO=GO,KO=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}};function YO(t){return+t}var XO=[0,1];function ZO(t){return t}function JO(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function tk(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=JO(i,r),s=n(o,s)):(r=JO(r,i),s=n(s,o)),function(t){return s(r(t))}}function ek(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=JO(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=WO(t,e,1,r)-1;return s[n](i[n](e))}}function nk(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rk(){return function(){var t,e,n,r,i,s,o=XO,a=XO,u=ZT,c=ZO;function l(){var t=Math.min(o.length,a.length);return c!==ZO&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?ek:tk,i=s=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(o.map(t),a,u)))(t(c(e)))}return h.invert=function(n){return c(e((s||(s=r(a,o.map(t),GT)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,YO),l()):o.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),u=KO,l()},h.clamp=function(t){return arguments.length?(c=!!t||ZO,l()):c!==ZO},h.interpolate=function(t){return arguments.length?(u=t,l()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}()(ZO,ZO)}function ik(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var sk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ok(t){if(!(e=sk.exec(t)))throw new Error("invalid format: "+t);var e;return new ak({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ak(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function uk(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}ok.prototype=ak.prototype,ak.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ck,lk,hk,dk,fk=function(t){return(t=uk(Math.abs(t)))?t[1]:NaN},pk=function(t,e){var n=uk(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},gk={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>pk(100*t,e),r:pk,s:function(t,e){var n=uk(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(ck=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+uk(t,Math.max(0,e+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},mk=function(t){return t},yk=Array.prototype.map,vk=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function bk(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=dC(t,e,n))||!isFinite(o))return[];if(o>0){let n=Math.round(t/o),r=Math.round(e/o);for(n*o<t&&++n,r*o>e&&--r,s=new Array(i=r-n+1);++a<i;)s[a]=(n+a)*o}else{o=-o;let n=Math.round(t*o),r=Math.round(e*o);for(n/o<t&&++n,r/o>e&&--r,s=new Array(i=r-n+1);++a<i;)s[a]=(n+a)/o}return r&&s.reverse(),s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,s=fC(t,e,n);switch((r=ok(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fk(e)/3)))-fk(Math.abs(t)))}(s,o))||(r.precision=i),dk(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fk(e)-fk(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-fk(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return hk(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,s=e(),o=0,a=s.length-1,u=s[o],c=s[a],l=10;for(c<u&&(i=u,u=c,c=i,i=o,o=a,a=i);l-- >0;){if((i=dC(u,c,n))===r)return s[o]=u,s[a]=c,e(s);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function wk(){var t=rk();return t.copy=function(){return nk(t,wk())},ik.apply(t,arguments),bk(t)}lk=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?mk:(e=yk.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],o=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),s.push(t.substring(i-=a,i+a)),!((u+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?mk:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(yk.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ok(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):gk[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?s:/[%p]/.test(v)?u:"",_=gk[v],S=/[defgprs%]/.test(v);function x(t){var i,s,u,d=b,x=w;if("c"===v)x=_(t)+x,t="";else{var T=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),T&&0==+t&&"+"!==h&&(T=!1),d=(T?"("===h?h:c:"-"===h||"("===h?"":h)+d,x=("s"===v?vk[8+ck/3]:"")+x+(T&&"("===h?")":""),S)for(i=-1,s=t.length;++i<s;)if(48>(u=t.charCodeAt(i))||u>57){x=(46===u?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var E=d.length+t.length+x.length,C=E<p?new Array(p-E+1).join(e):"";switch(g&&f&&(t=r(C+t,C.length?p-x.length:1/0),C=""),n){case"<":t=d+t+x+C;break;case"=":t=d+C+t+x;break;case"^":t=C.slice(0,E=C.length>>1)+d+t+x+C.slice(E);break;default:t=C+d+t+x}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return t+""},x}return{format:h,formatPrefix:function(t,e){var n=h(((t=ok(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(fk(e)/3))),i=Math.pow(10,-r),s=vk[8+r/3];return function(t){return n(i*t)+s}}}}({thousands:",",grouping:[3],currency:["$",""]}),hk=lk.format,dk=lk.formatPrefix;var _k=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),s=new Array(i);++r<i;)s[r]=t+r*n;return s};const Sk=Symbol("implicit");function xk(){var t=new Map,e=[],n=[],r=Sk;function i(i){var s=i+"",o=t.get(s);if(!o){if(r!==Sk)return r;t.set(s,o=e.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return xk(e,n).unknown(r)},ik.apply(i,arguments),i}function Tk(){var t,e,n=xk().unknown(void 0),r=n.domain,i=n.range,s=0,o=1,a=!1,u=0,c=0,l=.5;function h(){var n=r().length,h=o<s,d=h?o:s,f=h?s:o;t=(f-d)/Math.max(1,n-u+2*c),a&&(t=Math.floor(t)),d+=(f-d-t*(n-u))*l,e=t*(1-u),a&&(d=Math.round(d),e=Math.round(e));var p=_k(n).map(function(e){return d+t*e});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([s,o]=t,s=+s,o=+o,h()):[s,o]},n.rangeRound=function(t){return[s,o]=t,s=+s,o=+o,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),h()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),h()):u},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return Tk(r(),[s,o]).round(a).paddingInner(u).paddingOuter(c).align(l)},ik.apply(h(),arguments)}function Ek(t,e,n=$O){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t);return o+(+n(t[s+1],s+1,t)-o)*(i-s)}}function Ck(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=Ek(e,t/i);return s}function s(e){return null==e||isNaN(e=+e)?t:n[WO(r,e)]}return s.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(aC),i()},s.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return r.slice()},s.copy=function(){return Ck().domain(e).range(n).unknown(t)},ik.apply(s,arguments)}function Ok(t){this._context=t}Ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const kk=Math.PI,Ak=2*kk,Ik=1e-6,Pk=Ak-Ik;function Nk(){this._x0=this._y0=this._x1=this._y1=null,this._=""}Nk.prototype=(function(){return new Nk}).prototype={constructor:Nk,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),u=(r=+r)-(e=+e),c=s-t,l=o-e,h=c*c+l*l;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Ik)if(Math.abs(l*a-u*c)>Ik&&i){var d=n-s,f=r-o,p=a*a+u*u,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((kk-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>Ik&&(this._+="L"+(t+b*c)+","+(e+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*f)+","+(this._x1=t+w*a)+","+(this._y1=e+w*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(r),a=n*Math.sin(r),u=t+o,c=e+a,l=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Ik||Math.abs(this._y1-c)>Ik)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Ak+Ak),h>Pk?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>Ik&&(this._+="A"+n+","+n+",0,"+ +(h>=kk)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Dk=function(){};function Lk(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function jk(t,e){this._context=t,this._k=(1-e)/6}function Mk(t,e){this._context=t,this._k=(1-e)/6}function Rk(t){this._curve=t}jk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Lk(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Lk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new jk(t,e)}return n.tension=function(e){return t(+e)},n}(0),Mk.prototype={areaStart:Dk,areaEnd:Dk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Lk(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new Mk(t,e)}return n.tension=function(e){return t(+e)},n}(0),Rk.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Math,Math,Math,Math,Math,Math,Math,Math;var Fk=function(t,e,n,r,i){for(var s,o=t.children,a=-1,u=o.length,c=t.value&&(r-e)/t.value;++a<u;)(s=o[a]).y0=n,s.y1=i,s.x0=e,s.x1=e+=s.value*c},Uk=function(t,e,n,r,i){for(var s,o=t.children,a=-1,u=o.length,c=t.value&&(i-n)/t.value;++a<u;)(s=o[a]).x0=e,s.x1=r,s.y0=n,s.y1=n+=s.value*c};function Bk(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Vk(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=qk)):void 0===e&&(e=zk);for(var n,r,i,s,o,a=new $k(t),u=[a];n=u.pop();)if((i=e(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,s=o-1;s>=0;--s)u.push(r=i[s]=new $k(i[s])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(Qk)}function zk(t){return t.children}function qk(t){return Array.isArray(t)?t[1]:null}function Hk(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Qk(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function $k(t){this.data=t,this.depth=this.height=0,this.parent=null}!function t(e){function n(t,n,r,i,s){!function(t,e,n,r,i,s){for(var o,a,u,c,l,h,d,f,p,g,m,y=[],v=e.children,b=0,w=0,_=v.length,S=e.value;b<_;){u=i-n,c=s-r;do{l=v[w++].value}while(!l&&w<_);for(h=d=l,m=l*l*(g=Math.max(c/u,u/c)/(S*t)),p=Math.max(d/m,m/h);w<_;++w){if(l+=a=v[w].value,a<h&&(h=a),a>d&&(d=a),m=l*l*g,(f=Math.max(d/m,m/h))>p){l-=a;break}p=f}y.push(o={value:l,dice:u<c,children:v.slice(b,w)}),o.dice?Fk(o,n,r,i,S?r+=c*l/S:s):Uk(o,n,r,S?n+=u*l/S:i,s),S-=l,b=w}}(e,t,n,r,i,s)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2),$k.prototype=Vk.prototype={constructor:$k,count:function(){return this.eachAfter(Bk)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,s=this,o=[s],a=[],u=-1;s=o.pop();)if(a.push(s),n=s.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;s=a.pop();)t.call(e,s,++u,this);return this},eachBefore:function(t,e){for(var n,r,i=this,s=[i],o=-1;i=s.pop();)if(t.call(e,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)s.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Vk(this).eachBefore(Hk)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,s=[i];do{for(t=s.reverse(),s=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)s.push(e[n])}while(s.length)}};const Gk=["caretElm"];function Wk(t,e){}const Kk=function(t){return{model:t}};function Yk(t,e){if(1&t&&(r.Qb(0,"span"),r.vc(1,Wk,0,0,"ng-template",5),r.Pb()),2&t){const t=r.bc();r.Bb(1),r.ic("ngTemplateOutlet",t.template)("ngTemplateOutletContext",r.kc(2,Kk,t.context))}}function Xk(t,e){if(1&t&&r.Ob(0,"span",6),2&t){const t=r.bc();r.ic("innerHTML",t.title,r.rc)}}function Zk(t,e){if(1&t&&(r.ac(),r.Zb(),r.Ob(0,"ngx-charts-scale-legend",4)),2&t){const t=r.bc();r.ic("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function Jk(t,e){if(1&t){const t=r.Rb();r.ac(),r.Zb(),r.Qb(0,"ngx-charts-legend",5),r.Xb("labelClick",function(e){return r.qc(t),r.bc().legendLabelClick.emit(e)})("labelActivate",function(e){return r.qc(t),r.bc().legendLabelActivate.emit(e)})("labelDeactivate",function(e){return r.qc(t),r.bc().legendLabelDeactivate.emit(e)}),r.Pb()}if(2&t){const t=r.bc();r.ic("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}const tA=["*"],eA=["ngx-charts-axis-label",""],nA=["ticksel"],rA=["ngx-charts-x-axis-ticks",""];function iA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g",3),r.Qb(1,"title"),r.xc(2),r.Pb(),r.Qb(3,"text",4),r.xc(4),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=r.bc();r.Cb("transform",n.tickTransform(t)),r.Bb(2),r.yc(n.tickFormat(t)),r.Bb(1),r.uc("font-size","12px"),r.Cb("text-anchor",n.textAnchor)("transform",n.textTransform),r.Bb(1),r.zc(" ",n.tickTrim(n.tickFormat(t))," ")}}function sA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.Ob(1,"line",6),r.Pb()),2&t){const t=r.bc(2);r.Cb("transform",t.gridLineTransform()),r.Bb(1),r.Cb("y1",-t.gridLineHeight)}}function oA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.vc(1,sA,2,2,"g",5),r.Pb()),2&t){const t=e.$implicit,n=r.bc();r.Cb("transform",n.tickTransform(t)),r.Bb(1),r.ic("ngIf",n.showGridLines)}}const aA=["ngx-charts-x-axis",""];function uA(t,e){if(1&t){const t=r.Rb();r.ac(),r.Qb(0,"g",2),r.Xb("dimensionsChanged",function(e){return r.qc(t),r.bc().emitTicksHeight(e)}),r.Pb()}if(2&t){const t=r.bc();r.ic("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)}}function cA(t,e){if(1&t&&(r.ac(),r.Ob(0,"g",3)),2&t){const t=r.bc();r.ic("label",t.labelText)("offset",t.labelOffset)("orient",t.Orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}const lA=["ngx-charts-y-axis-ticks",""];function hA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g",4),r.Qb(1,"title"),r.xc(2),r.Pb(),r.Qb(3,"text",5),r.xc(4),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=r.bc();r.Cb("transform",n.transform(t)),r.Bb(2),r.yc(n.tickFormat(t)),r.Bb(1),r.uc("font-size","12px"),r.Cb("dy",n.dy)("x",n.x1)("y",n.y1)("text-anchor",n.textAnchor),r.Bb(1),r.zc(" ",n.tickTrim(n.tickFormat(t))," ")}}function dA(t,e){if(1&t&&(r.ac(),r.Ob(0,"path",6)),2&t){const t=r.bc();r.Cb("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function fA(t,e){if(1&t&&(r.ac(),r.Ob(0,"line",9)),2&t){const t=r.bc(3);r.Cb("x2",t.gridLineWidth)}}function pA(t,e){if(1&t&&(r.ac(),r.Ob(0,"line",9)),2&t){const t=r.bc(3);r.Cb("x2",-t.gridLineWidth)}}function gA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.vc(1,fA,1,1,"line",8),r.vc(2,pA,1,1,"line",8),r.Pb()),2&t){const t=r.bc(2);r.Cb("transform",t.gridLineTransform()),r.Bb(1),r.ic("ngIf",t.orient===t.Orientation.Left),r.Bb(1),r.ic("ngIf",t.orient===t.Orientation.Right)}}function mA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.vc(1,gA,3,3,"g",7),r.Pb()),2&t){const t=e.$implicit,n=r.bc();r.Cb("transform",n.transform(t)),r.Bb(1),r.ic("ngIf",n.showGridLines)}}function yA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.Qb(1,"title"),r.xc(2),r.Pb(),r.Qb(3,"text",11),r.xc(4),r.Pb(),r.Pb()),2&t){const t=r.bc(2).$implicit,e=r.bc();r.Bb(2),r.yc(e.tickTrim(e.tickFormat(t.value))),r.Bb(1),r.Cb("dy",e.dy)("y",-6)("x",e.gridLineWidth)("text-anchor",e.textAnchor),r.Bb(1),r.zc(" ",t.name," ")}}function vA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.Ob(1,"line",10),r.vc(2,yA,5,6,"g",7),r.Pb()),2&t){const t=r.bc().$implicit,e=r.bc();r.Cb("transform",e.transform(t.value)),r.Bb(1),r.Cb("x2",e.gridLineWidth)("transform",e.gridLineTransform()),r.Bb(1),r.ic("ngIf",e.showRefLabels)}}function bA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.vc(1,vA,3,4,"g",7),r.Pb()),2&t){const t=r.bc();r.Bb(1),r.ic("ngIf",t.showRefLines)}}const wA=["ngx-charts-y-axis",""];function _A(t,e){if(1&t){const t=r.Rb();r.ac(),r.Qb(0,"g",2),r.Xb("dimensionsChanged",function(e){return r.qc(t),r.bc().emitTicksWidth(e)}),r.Pb()}if(2&t){const t=r.bc();r.ic("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)}}function SA(t,e){if(1&t&&(r.ac(),r.Ob(0,"g",3)),2&t){const t=r.bc();r.ic("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}const xA=["ngx-charts-svg-linear-gradient",""];function TA(t,e){if(1&t&&(r.ac(),r.Ob(0,"stop")),2&t){const t=e.$implicit;r.uc("stop-color",t.color)("stop-opacity",t.opacity),r.Cb("offset",t.offset+"%")}}function EA(t,e){if(1&t&&(r.Qb(0,"header",4),r.Qb(1,"span",5),r.xc(2),r.Pb(),r.Pb()),2&t){const t=r.bc();r.Bb(2),r.yc(t.title)}}function CA(t,e){if(1&t){const t=r.Rb();r.Qb(0,"li",6),r.Qb(1,"ngx-charts-legend-entry",7),r.Xb("select",function(e){return r.qc(t),r.bc().labelClick.emit(e)})("activate",function(e){return r.qc(t),r.bc().activate(e)})("deactivate",function(e){return r.qc(t),r.bc().deactivate(e)}),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit,n=r.bc();r.Bb(1),r.ic("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",n.isActive(t))}}const OA=["tooltipTemplate"],kA=function(t,e){return[t,e]},AA=["ngx-charts-bar",""];function IA(t,e){if(1&t&&(r.ac(),r.Qb(0,"defs"),r.Ob(1,"g",2),r.Pb()),2&t){const t=r.bc();r.Bb(1),r.ic("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}function PA(t,e){if(1&t){const t=r.Rb();r.ac(),r.Qb(0,"g",5),r.Xb("dimensionsChanged",function(e){return r.qc(t),r.bc().updateXAxisHeight(e)}),r.Pb()}if(2&t){const t=r.bc();r.ic("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)}}function NA(t,e){if(1&t){const t=r.Rb();r.ac(),r.Qb(0,"g",6),r.Xb("dimensionsChanged",function(e){return r.qc(t),r.bc().updateYAxisWidth(e)}),r.Pb()}if(2&t){const t=r.bc();r.ic("yScale",t.yScale)("dims",t.dims)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("yAxisOffset",t.dataLabelMaxWidth.negative)}}const DA=["ngx-charts-series-horizontal",""];function LA(t,e){if(1&t){const t=r.Rb();r.ac(),r.Qb(0,"g",2),r.Xb("select",function(e){return r.qc(t),r.bc().click(e)})("activate",function(e){return r.qc(t),r.bc().activate.emit(e)})("deactivate",function(e){return r.qc(t),r.bc().deactivate.emit(e)}),r.Pb()}if(2&t){const t=e.$implicit,n=r.bc();r.ic("@animationState","active")("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation","horizontal")("roundEdges",t.roundEdges)("gradient",n.gradient)("isActive",n.isActive(t.data))("ariaLabel",t.ariaLabel)("animations",n.animations)("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",n.noBarWhenZero)}}function jA(t,e){if(1&t){const t=r.Rb();r.ac(),r.Qb(0,"g",4),r.Xb("dimensionsChanged",function(n){r.qc(t);const i=e.index;return r.bc(2).dataLabelWidthChanged.emit({size:n,index:i})}),r.Pb()}if(2&t){const t=e.$implicit,n=r.bc(2);r.ic("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",n.dataLabelFormatting)("orientation","horizontal")}}function MA(t,e){if(1&t&&(r.ac(),r.Qb(0,"g"),r.vc(1,jA,1,7,"g",3),r.Pb()),2&t){const t=r.bc();r.Bb(1),r.ic("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}const RA=["ngx-charts-bar-label",""];let FA=(()=>{class t{constructor(t,e,n){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return t.element?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,e){if(e){if(void 0!==e.inputs){const n=Object.getOwnPropertyNames(e.inputs);for(const r of n)t.instance[r]=e.inputs[r]}if(void 0!==e.outputs){const n=Object.getOwnPropertyNames(e.outputs);for(const r of n)t.instance[r]=e.outputs[r]}}return t}appendComponent(t,e={},n){n||(n=this.getRootViewContainer());const r=this.getComponentRootNode(n),i=new NS(r,this.componentFactoryResolver,this.applicationRef,this.injector),s=new AS(t),o=i.attach(s);return this.projectComponentBindings(o,e),o}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.g),r.Ub(r.j),r.Ub(r.s))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t.globalRootViewContainer=null,t})();function UA(t,e,n){let r,i,s;n=n||{};let o=null,a=0;function u(){a=!1===n.leading?0:+new Date,o=null,s=t.apply(r,i)}return function(){const c=+new Date;a||!1!==n.leading||(a=c);const l=e-(c-a);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,a=c,s=t.apply(r,i)):o||!1===n.trailing||(o=setTimeout(u,l)),s}}var BA=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t}({});function VA(t,e,n){return n===BA.Top?t.top-7:n===BA.Bottom?t.top+t.height-e.height+7:n===BA.Center?t.top+t.height/2-e.height/2:void 0}function zA(t,e,n){return n===BA.Left?t.left-7:n===BA.Right?t.left+t.width-e.width+7:n===BA.Center?t.left+t.width/2-e.width/2:void 0}class qA{static calculateVerticalAlignment(t,e,n){let r=VA(t,e,n);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,n,r){let i;r===BA.Top&&(i=t.height/2-n.height/2+7),r===BA.Bottom&&(i=e.height-t.height/2-n.height/2-7),r===BA.Center&&(i=e.height/2-n.height/2);const s=VA(t,e,r);return s+e.height>window.innerHeight&&(i+=s+e.height-window.innerHeight),i}static calculateHorizontalAlignment(t,e,n){let r=zA(t,e,n);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,n,r){let i;r===BA.Left&&(i=t.width/2-n.width/2+7),r===BA.Right&&(i=e.width-t.width/2-n.width/2-7),r===BA.Center&&(i=e.width/2-n.width/2);const s=zA(t,e,r);return s+e.width>window.innerWidth&&(i+=s+e.width-window.innerWidth),i}static shouldFlip(t,e,n,r){let i=!1;return n===BA.Right&&t.left+t.width+e.width+r>window.innerWidth&&(i=!0),n===BA.Left&&t.left-e.width-r<0&&(i=!0),n===BA.Top&&t.top-e.height-r<0&&(i=!0),n===BA.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(i=!0),i}static positionCaret(t,e,n,r,i){let s=0,o=0;return t===BA.Right?(o=-7,s=qA.calculateVerticalCaret(n,e,r,i)):t===BA.Left?(o=e.width,s=qA.calculateVerticalCaret(n,e,r,i)):t===BA.Top?(s=e.height,o=qA.calculateHorizontalCaret(n,e,r,i)):t===BA.Bottom&&(s=-7,o=qA.calculateHorizontalCaret(n,e,r,i)),{top:s,left:o}}static positionContent(t,e,n,r,i){let s=0,o=0;return t===BA.Right?(o=n.left+n.width+r,s=qA.calculateVerticalAlignment(n,e,i)):t===BA.Left?(o=n.left-e.width-r,s=qA.calculateVerticalAlignment(n,e,i)):t===BA.Top?(s=n.top-e.height-r,o=qA.calculateHorizontalAlignment(n,e,i)):t===BA.Bottom&&(s=n.top+n.height+r,o=qA.calculateHorizontalAlignment(n,e,i)),{top:s,left:o}}static determinePlacement(t,e,n,r){if(qA.shouldFlip(n,e,t,r)){if(t===BA.Right)return BA.Left;if(t===BA.Left)return BA.Right;if(t===BA.Top)return BA.Bottom;if(t===BA.Bottom)return BA.Top}return t}}let HA=(()=>{class t{constructor(t,e,n){this.element=t,this.renderer=e,this.platformId=n}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Tt(this.platformId))return;const t=this.element.nativeElement,e=this.host.nativeElement.getBoundingClientRect();if(!e.height&&!e.width)return;const n=t.getBoundingClientRect();this.checkFlip(e,n),this.positionContent(t,e,n),this.showCaret&&this.positionCaret(e,n),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,e,n){const{top:r,left:i}=qA.positionContent(this.placement,n,e,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${r}px`),this.renderer.setStyle(t,"left",`${i}px`)}positionCaret(t,e){const n=this.caretElm.nativeElement,r=n.getBoundingClientRect(),{top:i,left:s}=qA.positionCaret(this.placement,e,t,r,this.alignment);this.renderer.setStyle(n,"top",`${i}px`),this.renderer.setStyle(n,"left",`${s}px`)}checkFlip(t,e){this.placement=qA.determinePlacement(this.placement,e,t,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.E),r.Nb(r.C))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,e){if(1&t&&r.Bc(Gk,1),2&t){let t;r.nc(t=r.Yb())&&(e.caretElm=t.first)}},hostVars:2,hostBindings:function(t,e){1&t&&r.Xb("resize",function(){return e.onWindowResize()},!1,r.pc),2&t&&r.Db(e.cssClasses)},inputs:{placement:"placement",host:"host",showCaret:"showCaret",type:"type",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Qb(0,"div"),r.Ob(1,"span",0,1),r.Qb(3,"div",2),r.vc(4,Yk,2,4,"span",3),r.vc(5,Xk,1,1,"span",4),r.Pb(),r.Pb()),2&t&&(r.Bb(1),r.Eb("tooltip-caret position-",e.placement,""),r.ic("hidden",!e.showCaret),r.Bb(3),r.ic("ngIf",!e.title),r.Bb(1),r.ic("ngIf",e.title))},directives:[pt,vt],styles:[".ngx-charts-tooltip-content{border-radius:3px;display:block;font-weight:400;opacity:0;pointer-events:none!important;position:fixed;z-index:5000}.ngx-charts-tooltip-content.type-popover{background:#fff;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);color:#060709;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{height:0;position:absolute;width:0;z-index:5001}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-bottom:7px solid transparent;border-left:7px solid #fff;border-top:7px solid transparent}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-bottom:7px solid transparent;border-right:7px solid #fff;border-top:7px solid transparent}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-bottom:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip{background:rgba(0,0,0,.75);color:#fff;font-size:12px;padding:0 10px;pointer-events:auto;text-align:center}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75);border-top:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75);border-top:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-bottom:7px solid rgba(0,0,0,.75);border-left:7px solid transparent;border-right:7px solid transparent}.ngx-charts-tooltip-content .tooltip-label{display:block;font-size:1em;line-height:1em;padding:8px 5px 5px}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{height:0;position:absolute;width:0;z-index:5001}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;pointer-events:auto;transform:translateZ(0);transition:opacity .3s,transform .3s}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{line-height:1.2em;padding:5px 0;text-align:left}.tooltip-item .tooltip-item-color{border-radius:3px;color:#5b646b;display:inline-block;height:12px;margin-right:5px;width:12px}"],encapsulation:2}),Object(il.c)([function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:UA(n.value,100,void 0)}),this[e]}}}],t.prototype,"onWindowResize",null),t})(),QA=(()=>{class t extends class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const n=this.injectComponent(t,e);return this.register(t,n),n}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const n=e.indexOf(t);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let t=e.length-1;for(;t>=0;)this.destroy(e[t--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return t.inputs||t.outputs||(t={inputs:t}),e&&(t.inputs=Object.assign(Object.assign({},e),t.inputs)),n&&(t.outputs=Object.assign(Object.assign({},n),t.outputs)),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}{constructor(t){super(t),this.type=HA}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(FA))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();var $A=function(t){return t.Right="right",t.Below="below",t}({}),GA=function(t){return t.ScaleLegend="scaleLegend",t.Legend="legend",t}({}),WA=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t}({}),KA=function(t){return t.Start="start",t.Middle="middle",t.End="end",t}({}),YA=function(t){return t.Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",t}({});let XA=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new r.n,this.legendLabelActivate=new r.n,this.legendLabelDeactivate=new r.n,this.LegendPosition=$A,this.LegendType=GA}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&this.legendOptions.position!==$A.Right||(t=this.legendType===GA.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==$A.Right?this.chartWidth:Math.floor(this.view[0]*t/12)}getLegendType(){return this.legendOptions.scaleType===YA.Linear?GA.ScaleLegend:GA.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngx-charts-chart"]],inputs:{showLegend:"showLegend",animations:"animations",legendType:"legendType",view:"view",legendOptions:"legendOptions",activeEntries:"activeEntries"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[r.Ab([QA]),r.zb],ngContentSelectors:tA,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(t,e){1&t&&(r.hc(),r.Qb(0,"div",0),r.ac(),r.Qb(1,"svg",1),r.gc(2),r.Pb(),r.vc(3,Zk,1,5,"ngx-charts-scale-legend",2),r.vc(4,Jk,1,7,"ngx-charts-legend",3),r.Pb()),2&t&&(r.uc("width",e.view[0],"px"),r.ic("@animationState","active")("@.disabled",!e.animations),r.Bb(1),r.Cb("width",e.chartWidth)("height",e.view[1]),r.Bb(2),r.ic("ngIf",e.showLegend&&e.legendType===e.LegendType.ScaleLegend),r.Bb(1),r.ic("ngIf",e.showLegend&&e.legendType===e.LegendType.Legend))},directives:function(){return[pt,SI,wI]},encapsulation:2,data:{animation:[wS("animationState",[TS(":enter",[xS({opacity:0}),_S("500ms 100ms",xS({opacity:1}))])])]},changeDetection:0}),t})(),ZA=(()=>{class t{constructor(t,e){this.element=t,this.zone=e,this.visible=new r.n,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:e,offsetWidth:n}=this.element.nativeElement;e&&n?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.A))},t.\u0275dir=r.Ib({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function JA(t){return"[object Date]"===toString.call(t)}let tI=(()=>{class t{constructor(t,e,n,i){this.chartElement=t,this.zone=e,this.cd=n,this.platformId=i,this.scheme="cool",this.schemeType=YA.Ordinal,this.animations=!0,this.select=new r.n}ngOnInit(){Et(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new ZA(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,e;const n=this.chartElement.nativeElement;if(Tt(this.platformId)&&null!==n.parentNode){const r=n.parentNode.getBoundingClientRect();t=r.width,e=r.height}return t&&e?{width:t,height:e}:null}formatDates(){for(let t=0;t<this.results.length;t++){const e=this.results[t];if(e.label=e.name,JA(e.label)&&(e.label=e.label.toLocaleDateString()),e.series)for(let t=0;t<e.series.length;t++){const n=e.series[t];n.label=n.name,JA(n.label)&&(n.label=n.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Tt(this.platformId))return;const t=LS(window,"resize").pipe(function(t,e=qs.a){return n=>n.lift(new MS(t,e))}(200)).subscribe(t=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=t}cloneData(t){const e=[];for(const n of t){const t={name:n.name};if(void 0!==n.value&&(t.value=n.value),void 0!==n.series){t.series=[];for(const e of n.series){const n=Object.assign({},e);t.series.push(n)}}void 0!==n.extra&&(t.extra=JSON.parse(JSON.stringify(n.extra))),e.push(t)}return e}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.A),r.Nb(r.h),r.Nb(r.C))},t.\u0275cmp=r.Hb({type:t,selectors:[["base-chart"]],inputs:{scheme:"scheme",schemeType:"schemeType",animations:"animations",results:"results",view:"view",customColors:"customColors"},outputs:{select:"select"},features:[r.zb],decls:1,vars:0,template:function(t,e){1&t&&r.Ob(0,"div")},encapsulation:2}),t})(),eI=(()=>{class t{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case WA.Top:case WA.Bottom:this.y=this.offset,this.x=this.width/2;break;case WA.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case WA.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l))},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[r.zb],attrs:eA,decls:2,vars:6,template:function(t,e){1&t&&(r.ac(),r.Qb(0,"text"),r.xc(1),r.Pb()),2&t&&(r.Cb("stroke-width",e.strokeWidth)("x",e.x)("y",e.y)("text-anchor",e.textAnchor)("transform",e.transform),r.Bb(1),r.zc(" ",e.label," "))},encapsulation:2,changeDetection:0}),t})();function nI(t,e=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=e?t:`${t.slice(0,e)}...`}function rI(t,e){if(t.length>e){const n=[],r=Math.floor(t.length/e);for(let e=0;e<t.length;e++)e%r==0&&n.push(t[e]);t=n}return t}let iI=(()=>{class t{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new r.n,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=KA.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Tt(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()};const e=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(t){return this.scale(t)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",e&&0!==e?(this.textTransform=`rotate(${e})`,this.textAnchor=KA.End,this.verticalSpacing=10):this.textAnchor=KA.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let e=0;this.maxTicksLength=0;for(let s=0;s<t.length;s++){const e=this.tickFormat(t[s]).toString();let n=e.length;this.trimTicks&&(n=this.tickTrim(e).length),n>this.maxTicksLength&&(this.maxTicksLength=n)}const n=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let r=n;const i=Math.floor(this.width/t.length);for(;r>i&&e>-90;)e-=30,r=Math.cos(e*(Math.PI/180))*n;return this.approxHeight=Math.max(Math.abs(Math.sin(e*(Math.PI/180))*n),10),e}getTicks(){let t;const e=this.getMaxTicks(20),n=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[n]):(t=this.scale.domain(),t=rI(t,e)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?nI(t,this.maxTickLength):t}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.C))},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(t,e){if(1&t&&r.Bc(nA,1),2&t){let t;r.nc(t=r.Yb())&&(e.ticksElement=t.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",rotateTicks:"rotateTicks",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineHeight:"gridLineHeight",width:"width"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.zb],attrs:rA,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(t,e){1&t&&(r.ac(),r.Qb(0,"g",null,0),r.vc(2,iA,5,7,"g",1),r.Pb(),r.vc(3,oA,2,2,"g",2)),2&t&&(r.Bb(2),r.ic("ngForOf",e.ticks),r.Bb(1),r.ic("ngForOf",e.ticks))},directives:[dt,pt],encapsulation:2,changeDetection:0}),t})(),sI=(()=>{class t{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=WA.Bottom,this.xAxisOffset=0,this.dimensionsChanged=new r.n,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.Orientation=WA}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){const e=t+25+5;e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(t,e){if(1&t&&r.Bc(iI,1),2&t){let t;r.nc(t=r.Yb())&&(e.ticksComponent=t.first)}},inputs:{rotateTicks:"rotateTicks",showGridLines:"showGridLines",xOrient:"xOrient",xAxisOffset:"xAxisOffset",xScale:"xScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.zb],attrs:aA,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,e){1&t&&(r.ac(),r.Qb(0,"g"),r.vc(1,uA,1,12,"g",0),r.vc(2,cA,1,5,"g",1),r.Pb()),2&t&&(r.Cb("class",e.xAxisClassName)("transform",e.transform),r.Bb(1),r.ic("ngIf",e.xScale),r.Bb(1),r.ic("ngIf",e.showLabel))},directives:[pt,iI,eI],encapsulation:2,changeDetection:0}),t})();function oI(t,e,n,r,i,[s,o,a,u]){let c="";return c=`M${[t+i,e]}`,c+="h"+((n=0===(n=Math.floor(n))?1:n)-2*i),c+=o?`a${[i,i]} 0 0 1 ${[i,i]}`:`h${i}v${i}`,c+="v"+((r=0===(r=Math.floor(r))?1:r)-2*i),c+=u?`a${[i,i]} 0 0 1 ${[-i,i]}`:`v${i}h${-i}`,c+="h"+(2*i-n),c+=a?`a${[i,i]} 0 0 1 ${[-i,-i]}`:`h${-i}v${-i}`,c+="v"+(2*i-r),c+=s?`a${[i,i]} 0 0 1 ${[i,-i]}`:`v${-i}h${i}`,c+="z",c}let aI=(()=>{class t{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new r.n,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=KA.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=WA}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Tt(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){let t;const e=this.orient===WA.Top||this.orient===WA.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,t=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()},this.adjustedScale=t.bandwidth?function(e){return t(e)+.5*t.bandwidth()}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case WA.Top:case WA.Bottom:this.transform=function(t){return"translate("+this.adjustedScale(t)+",0)"},this.textAnchor=KA.Middle,this.y2=this.innerTickSize*e,this.y1=this.tickSpacing*e,this.dy=e<0?"0em":".71em";break;case WA.Left:this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor=KA.End,this.x2=this.innerTickSize*-e,this.x1=this.tickSpacing*-e,this.dy=".32em";break;case WA.Right:this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor=KA.Start,this.x2=this.innerTickSize*-e,this.x1=this.tickSpacing*-e,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=oI(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t;const e=this.getMaxTicks(20),n=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[n]):(t=this.scale.domain(),t=rI(t,e)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?nI(t,this.maxTickLength):t}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(t=>this.tickTrim(this.tickFormat(t)).length))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.C))},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(t,e){if(1&t&&r.Bc(nA,1),2&t){let t;r.nc(t=r.Yb())&&(e.ticksElement=t.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.zb],attrs:lA,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(t,e){1&t&&(r.ac(),r.Qb(0,"g",null,0),r.vc(2,hA,5,9,"g",1),r.Pb(),r.vc(3,dA,1,2,"path",2),r.vc(4,mA,2,2,"g",3),r.vc(5,bA,2,1,"g",3)),2&t&&(r.Bb(2),r.ic("ngForOf",e.ticks),r.Bb(1),r.ic("ngIf",e.referenceLineLength>1&&e.refMax&&e.refMin&&e.showRefLines),r.Bb(1),r.ic("ngForOf",e.ticks),r.Bb(1),r.ic("ngForOf",e.referenceLines))},directives:[dt,pt],encapsulation:2,changeDetection:0}),t})(),uI=(()=>{class t{constructor(){this.showGridLines=!1,this.yOrient=WA.Left,this.yAxisOffset=0,this.dimensionsChanged=new r.n,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===WA.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===WA.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(t,e){if(1&t&&r.Bc(aI,1),2&t){let t;r.nc(t=r.Yb())&&(e.ticksComponent=t.first)}},inputs:{showGridLines:"showGridLines",yOrient:"yOrient",yAxisOffset:"yAxisOffset",yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.zb],attrs:wA,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,e){1&t&&(r.ac(),r.Qb(0,"g"),r.vc(1,_A,1,14,"g",0),r.vc(2,SA,1,5,"g",1),r.Pb()),2&t&&(r.Cb("class",e.yAxisClassName)("transform",e.transform),r.Bb(1),r.ic("ngIf",e.yScale),r.Bb(1),r.ic("ngIf",e.showLabel))},directives:[pt,aI,eI],encapsulation:2,changeDetection:0}),t})(),cI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xt]]}),t})();var lI=function(t){return t[t.popover="popover"]="popover",t[t.tooltip="tooltip"]="tooltip",t}({}),hI=function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t}({});let dI=(()=>{class t{constructor(t,e,n){this.tooltipService=t,this.viewContainerRef=e,this.renderer=n,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=BA.Top,this.tooltipAlignment=BA.Center,this.tooltipType=lI.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=hI.all,this.tooltipImmediateExit=!1,this.show=new r.n,this.hide=new r.n}get listensForFocus(){return this.tooltipShowEvent===hI.all||this.tooltipShowEvent===hI.focus}get listensForHover(){return this.tooltipShowEvent===hI.all||this.tooltipShowEvent===hI.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;const e=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const t=this.createBoundOptions();this.component=this.tooltipService.create(t),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},e)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",e=>{t.contains(e.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;const e=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?e():this.timeout=setTimeout(e,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(QA),r.Nb(r.Q),r.Nb(r.E))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,e){1&t&&r.Xb("focusin",function(){return e.onFocus()})("blur",function(){return e.onBlur()})("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(t){return e.onMouseLeave(t.target)})("click",function(){return e.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipShowEvent:"tooltipShowEvent",tooltipImmediateExit:"tooltipImmediateExit",tooltipTemplate:"tooltipTemplate",tooltipContext:"tooltipContext"},outputs:{show:"show",hide:"hide"}}),t})(),fI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[FA,QA],imports:[[xt]]}),t})();function pI(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}const gI={};function mI(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,gI[t]?mI():(gI[t]=!0,t)}var yI=function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t}({});let vI,bI=(()=>{class t{constructor(){this.orientation=yI.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===yI.Horizontal?this.x2="100%":this.orientation===yI.Vertical&&(this.y1="100%")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[r.zb],attrs:xA,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.ac(),r.Qb(0,"linearGradient",0),r.vc(1,TA,1,5,"stop",1),r.Pb()),2&t&&(r.ic("id",e.name),r.Cb("x1",e.x1)("y1",e.y1)("x2",e.x2)("y2",e.y2),r.Bb(1),r.ic("ngForOf",e.stops))},directives:[dt],encapsulation:2,changeDetection:0}),t})();"undefined"!=typeof window?vI=window:"undefined"!=typeof global&&(vI=global);let wI=(()=>{class t{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new r.n,this.labelActivate=new r.n,this.labelDeactivate=new r.n,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const t=[];for(const e of this.data){const n=pI(e);-1===t.findIndex(t=>t.label===n)&&t.push({label:e,formattedLabel:n,color:this.colors.getColor(e)})}return t}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(e=>t.label===e.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,e){return e.label}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.h))},t.\u0275cmp=r.Hb({type:t,selectors:[["ngx-charts-legend"]],inputs:{horizontal:"horizontal",data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[r.zb],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,e){1&t&&(r.Qb(0,"div"),r.vc(1,EA,3,1,"header",0),r.Qb(2,"div",1),r.Qb(3,"ul",2),r.vc(4,CA,2,4,"li",3),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.uc("width",e.width,"px"),r.Bb(1),r.ic("ngIf",(null==e.title?null:e.title.length)>0),r.Bb(2),r.uc("max-height",e.height-45,"px"),r.Fb("horizontal-legend",e.horizontal),r.Bb(1),r.ic("ngForOf",e.legendEntries)("ngForTrackBy",e.trackBy))},directives:function(){return[pt,dt,_I]},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{font-size:14px;font-weight:700;margin-bottom:5px;margin-left:10px;overflow:hidden;white-space:nowrap}.chart-legend li,.chart-legend ul{list-style:none;margin:0;padding:0}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{background:rgba(0,0,0,.05);border-radius:3px;float:left;line-height:85%;list-style:none;overflow-x:hidden;overflow-y:auto;text-align:left;white-space:nowrap;width:100%}.chart-legend .legend-label{color:#afb7c8;cursor:pointer;font-size:90%;margin:8px}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{border-radius:3px;color:#5b646b;display:inline-block;height:15px;margin-right:5px;width:15px}.chart-legend .legend-label-text{font-size:12px;line-height:15px;vertical-align:top;width:calc(100% - 20px)}.chart-legend .legend-label-text,.chart-legend .legend-title-text{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chart-legend .legend-title-text{line-height:16px;vertical-align:bottom}"],encapsulation:2,changeDetection:0}),t})(),_I=(()=>{class t{constructor(){this.isActive=!1,this.select=new r.n,this.activate=new r.n,this.deactivate=new r.n,this.toggle=new r.n}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,e){1&t&&r.Xb("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{isActive:"isActive",color:"color",label:"label",formattedLabel:"formattedLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,e){1&t&&(r.Qb(0,"span",0),r.Xb("click",function(){return e.select.emit(e.formattedLabel)}),r.Qb(1,"span",1),r.Xb("click",function(){return e.toggle.emit(e.formattedLabel)}),r.Pb(),r.Qb(2,"span",2),r.xc(3),r.Pb(),r.Pb()),2&t&&(r.Fb("active",e.isActive),r.ic("title",e.formattedLabel),r.Bb(1),r.uc("background-color",e.color),r.Bb(2),r.zc(" ",e.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),SI=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(t){const e=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${e})`}gradientString(t,e){e.push(1);const n=[];return t.reverse().forEach((t,r)=>{n.push(`${t} ${Math.round(100*e[r])}%`)}),n.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{horizontal:"horizontal",valueRange:"valueRange",colors:"colors",height:"height",width:"width"},features:[r.zb],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"span"),r.xc(3),r.Pb(),r.Pb(),r.Ob(4,"div",2),r.Qb(5,"div",1),r.Qb(6,"span"),r.xc(7),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.uc("height",e.horizontal?void 0:e.height,"px")("width",e.width,"px"),r.Fb("horizontal-legend",e.horizontal),r.Bb(3),r.yc(e.valueRange[1].toLocaleString()),r.Bb(1),r.uc("background",e.gradient),r.Bb(3),r.yc(e.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{display:flex;flex-direction:column;text-align:center}.chart-legend .scale-legend-wrap{border-radius:5px;display:inline-block;flex:1;margin:0 auto;width:30px}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{height:30px;margin:0 16px;width:auto}"],encapsulation:2,changeDetection:0}),t})(),xI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xt,cI,fI],xt,cI,fI]}),t})(),TI=[{name:"vivid",selectable:!0,group:YA.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:YA.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:YA.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:YA.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:YA.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:YA.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:YA.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:YA.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:YA.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:YA.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:YA.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:YA.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:YA.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:YA.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:YA.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class EI{constructor(t,e,n,r){"string"==typeof t&&(t=TI.find(e=>e.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=n,this.customColors=r,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,n){let r;if("string"==typeof t&&(t=TI.find(e=>e.name===t)),e===YA.Quantile)r=Ck().range(t.domain).domain(n);else if(e===YA.Ordinal)r=xk().range(t.domain).domain(n);else if(e===YA.Linear){const e=[...t.domain];1===e.length&&(e.push(e[0]),this.colorDomain=e);const n=_k(0,1,1/e.length);r=wk().domain(n).range(e)}return r}getColor(t){if(null==t)throw new Error("Value can not be null");if(this.scaleType===YA.Linear){const e=wk().domain(this.domain).range([0,1]);return this.scale(e(t))}{if("function"==typeof this.customColors)return this.customColors(t);const e=t.toString();let n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(t=>t.name.toLowerCase()===e.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,e){void 0===e&&(e=this.domain[0]);const n=wk().domain(this.domain).range([0,1]),r=Tk().domain(this.colorDomain).range([0,1]),i=this.getColor(t),s=n(e),o=this.getColor(e),a=n(t);let u=1,c=s;const l=[];for(l.push({color:o,offset:s,originalOffset:s,opacity:1});c<a&&u<this.colorDomain.length;){const t=this.colorDomain[u],e=r(t);if(e<=s)u++;else{if(e.toFixed(4)>=(a-r.bandwidth()).toFixed(4))break;l.push({color:t,offset:e,opacity:1}),c=e,u++}}if(l[l.length-1].offset<100&&l.push({color:i,offset:a,opacity:1}),a===s)l[0].offset=0,l[1].offset=100;else if(100!==l[l.length-1].offset)for(const h of l)h.offset=(h.offset-s)/(a-s)*100;return l}}let CI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})();var OI=function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t}({});let kI=(()=>{class t{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new r.n,this.activate=new r.n,this.deactivate=new r.n,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+mI().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const t=(n=this.element,"string"==typeof n?new Yx([[document.querySelector(n)]],[document.documentElement]):new Yx([[n]],Kx)).select(".bar"),e=this.getPath();var n;this.animations?t.transition().duration(500).attr("d",e):t.attr("d",e)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let t,e=this.getRadius();return this.roundEdges?this.orientation===OI.Vertical?(e=Math.min(this.height,e),t=oI(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===OI.Horizontal&&(e=Math.min(this.width,e),t=oI(this.x,this.y,1,this.height,0,this.edges)):this.orientation===OI.Vertical?t=oI(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===OI.Horizontal&&(t=oI(this.x,this.y,1,this.height,0,this.edges)),t}getPath(){let t,e=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(e=Math.min(this.height,e),t=oI(this.x,this.y,this.width,this.height,e,this.edges)):"horizontal"===this.orientation&&(e=Math.min(this.width,e),t=oI(this.x,this.y,this.width,this.height,e,this.edges)):t=oI(this.x,this.y,this.width,this.height,e,this.edges),t}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===OI.Vertical?t=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===OI.Horizontal&&(t=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===OI.Vertical&&0===this.height||this.orientation===OI.Horizontal&&0===this.width)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l))},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(t,e){1&t&&r.Xb("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",animations:"animations",noBarWhenZero:"noBarWhenZero",fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",stops:"stops",ariaLabel:"ariaLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[r.zb],attrs:AA,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,e){1&t&&(r.vc(0,IA,2,3,"defs",0),r.ac(),r.Qb(1,"path",1),r.Xb("click",function(){return e.select.emit(e.data)}),r.Pb()),2&t&&(r.ic("ngIf",e.hasGradient),r.Bb(1),r.Fb("active",e.isActive)("hidden",e.hideBar),r.Cb("d",e.path)("aria-label",e.ariaLabel)("fill",e.hasGradient?e.gradientFill:e.fill))},directives:[pt,bI],encapsulation:2,changeDetection:0}),t})(),AI=(()=>{class t extends tI{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=$A.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new r.n,this.deactivate=new r.n,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxWidth={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxWidth={negative:0,positive:0}),this.margin=[10,20+this.dataLabelMaxWidth.positive,10,20+this.dataLabelMaxWidth.negative],this.dims=function({width:t,height:e,margins:n,showXAxis:r=!1,showYAxis:i=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:u=!1,showLegend:c=!1,legendType:l=YA.Ordinal,legendPosition:h=$A.Right,columns:d=12}){let f=n[3],p=t,g=e-n[0]-n[2];if(c&&h===$A.Right&&(d-=l===YA.Ordinal?2:1),p=p*d/12,p=p-n[1]-n[3],r&&(g-=5,g-=s,a)&&(g-=30),i&&(p-=5,p-=o,f+=o,f+=10,u)){const t=30;p-=t,f+=t}return p=Math.max(0,p),g=Math.max(0,g),{width:Math.floor(p),height:Math.floor(g),xOffset:Math.floor(f)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`}getXScale(){this.xDomain=this.getXDomain();const t=wk().range([0,this.dims.width]).domain(this.xDomain);return this.roundDomains?t.nice():t}getYScale(){this.yDomain=this.getYDomain();const t=this.yDomain.length/(this.dims.height/this.barPadding+1);return Tk().rangeRound([0,this.dims.height]).paddingInner(t).domain(this.yDomain)}getXDomain(){const t=this.results.map(t=>t.value);return[this.xScaleMin?Math.min(this.xScaleMin,...t):Math.min(0,...t),this.xScaleMax?Math.max(this.xScaleMax,...t):Math.max(0,...t)]}getYDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){let t;t=this.schemeType===YA.Ordinal?this.yDomain:this.xDomain,this.colors=new EI(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return"ordinal"===t.scaleType?(t.domain=this.yDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.xDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxWidthChanged(t){t.size.negative?this.dataLabelMaxWidth.negative=Math.max(this.dataLabelMaxWidth.negative,t.size.width):this.dataLabelMaxWidth.positive=Math.max(this.dataLabelMaxWidth.positive,t.size.width),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,e=!1){t=this.results.find(n=>e?n.label===t.name:n.name===t.name),this.activeEntries.findIndex(e=>e.name===t.name&&e.value===t.value&&e.series===t.series)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,e=!1){t=this.results.find(n=>e?n.label===t.name:n.name===t.name);const n=this.activeEntries.findIndex(e=>e.name===t.name&&e.value===t.value&&e.series===t.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return t.\u0275fac=function(e){return II(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["ngx-charts-bar-horizontal"]],contentQueries:function(t,e,n){if(1&t&&r.Gb(n,OA,1),2&t){let t;r.nc(t=r.Yb())&&(e.tooltipTemplate=t.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",xScaleMax:"xScaleMax",xScaleMin:"xScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r.yb],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-series-horizontal","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","activeEntries","roundEdges","animations","showDataLabel","dataLabelFormatting","noBarWhenZero","select","activate","deactivate","dataLabelWidthChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","yAxisOffset","dimensionsChanged"]],template:function(t,e){1&t&&(r.Qb(0,"ngx-charts-chart",0),r.Xb("legendLabelClick",function(t){return e.onClick(t)})("legendLabelActivate",function(t){return e.onActivate(t,!0)})("legendLabelDeactivate",function(t){return e.onDeactivate(t,!0)}),r.ac(),r.Qb(1,"g",1),r.vc(2,PA,1,10,"g",2),r.vc(3,NA,1,9,"g",3),r.Qb(4,"g",4),r.Xb("select",function(t){return e.onClick(t)})("activate",function(t){return e.onActivate(t)})("deactivate",function(t){return e.onDeactivate(t)})("dataLabelWidthChanged",function(t){return e.onDataLabelMaxWidthChanged(t)}),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.ic("view",r.lc(22,kA,e.width,e.height))("showLegend",e.legend)("legendOptions",e.legendOptions)("activeEntries",e.activeEntries)("animations",e.animations),r.Bb(1),r.Cb("transform",e.transform),r.Bb(1),r.ic("ngIf",e.xAxis),r.Bb(1),r.ic("ngIf",e.yAxis),r.Bb(1),r.ic("xScale",e.xScale)("yScale",e.yScale)("colors",e.colors)("series",e.results)("dims",e.dims)("gradient",e.gradient)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.tooltipTemplate)("activeEntries",e.activeEntries)("roundEdges",e.roundEdges)("animations",e.animations)("showDataLabel",e.showDataLabel)("dataLabelFormatting",e.dataLabelFormatting)("noBarWhenZero",e.noBarWhenZero))},directives:function(){return[XA,pt,DI,sI,uI]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:none}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{opacity:.2;transition:opacity .1s ease-in-out}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{fill:none;stroke:#ddd;stroke-width:1}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-dasharray:5;stroke-dashoffset:5;stroke-width:1}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill:#000;fill-opacity:.05}.ngx-charts .gridline-path-dotted{fill:none;stroke:#ddd;stroke-dasharray:1,20;stroke-dashoffset:3;stroke-width:1}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,changeDetection:0}),t})();const II=r.Sb(AI);var PI=function(t){return t.Standard="standard",t.Normalized="normalized",t.Stacked="stacked",t}({}),NI=function(t){return t.positive="positive",t.negative="negative",t}({});let DI=(()=>{class t{constructor(){this.type=PI.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new r.n,this.activate=new r.n,this.deactivate=new r.n,this.dataLabelWidthChanged=new r.n,this.barsForDataLabels=[]}ngOnChanges(t){this.update()}update(){this.updateTooltipSettings();const t={[NI.positive]:0,[NI.negative]:0};let e,n;e=NI.positive,this.type===PI.Normalized&&(n=this.series.map(t=>t.value).reduce((t,e)=>t+e,0));const r=Math.max(this.xScale.domain()[0],0);this.bars=this.series.map(i=>{let s=i.value;const o=this.getLabel(i),a=pI(o);e=s>0?NI.positive:NI.negative;const u={value:s,label:o,roundEdges:this.roundEdges,data:i,formattedLabel:a};if(u.height=this.yScale.bandwidth(),this.type===PI.Standard)u.width=Math.abs(this.xScale(s)-this.xScale(r)),u.x=this.xScale(s<0?s:r),u.y=this.yScale(o);else if(this.type===PI.Stacked){const n=t[e],r=n+s;t[e]+=s,u.width=this.xScale(r)-this.xScale(n),u.x=this.xScale(n),u.y=0,u.offset0=n,u.offset1=r}else if(this.type===PI.Normalized){let r=t[e],i=r+s;t[e]+=s,n>0?(r=100*r/n,i=100*i/n):(r=0,i=0),u.width=this.xScale(i)-this.xScale(r),u.x=this.xScale(r),u.y=0,u.offset0=r,u.offset1=i,s=(i-r).toFixed(2)+"%"}this.colors.scaleType===YA.Ordinal?u.color=this.colors.getColor(o):this.type===PI.Standard?(u.color=this.colors.getColor(s),u.gradientStops=this.colors.getLinearGradientStops(s)):(u.color=this.colors.getColor(u.offset1),u.gradientStops=this.colors.getLinearGradientStops(u.offset1,u.offset0));let c=a;return u.ariaLabel=a+" "+s.toLocaleString(),this.seriesName&&(c=`${this.seriesName} \u2022 ${a}`,u.data.series=this.seriesName,u.ariaLabel=this.seriesName+" "+u.ariaLabel),u.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${function(t){return t.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]))}(c)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(s):s.toLocaleString()}</span>\n      `,u}),this.updateDataLabels()}updateDataLabels(){if(this.type===PI.Stacked){this.barsForDataLabels=[];const t={};t.series=this.seriesName;const e=this.series.map(t=>t.value).reduce((t,e)=>e>0?t+e:t,0),n=this.series.map(t=>t.value).reduce((t,e)=>e<0?t+e:t,0);t.total=e+n,t.x=0,t.y=0,t.width=this.xScale(t.total>0?e:n),t.height=this.yScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{const e={};return e.series=this.seriesName?this.seriesName:t.label,e.total=t.value,e.x=this.xScale(0),e.y=this.yScale(t.label),e.width=this.xScale(e.total)-this.xScale(0),e.height=this.yScale.bandwidth(),e})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:BA.Top,this.tooltipType=this.tooltipDisabled?void 0:lI.tooltip}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(e=>t.name===e.name&&t.series===e.series)}getLabel(t){return t.label?t.label:t.name}trackBy(t,e){return e.label}trackDataLabelBy(t,e){return t+"#"+e.series+"#"+e.total}click(t){this.select.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-series-horizontal",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelWidthChanged:"dataLabelWidthChanged"},features:[r.zb],attrs:DA,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","isActive","ariaLabel","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(t,e){1&t&&(r.vc(0,LA,1,21,"g",0),r.vc(1,MA,2,2,"g",1)),2&t&&(r.ic("ngForOf",e.bars)("ngForTrackBy",e.trackBy),r.Bb(1),r.ic("ngIf",e.showDataLabel))},directives:function(){return[dt,pt,kI,dI,LI]},encapsulation:2,data:{animation:[wS("animationState",[TS(":leave",[xS({opacity:1}),_S(500,xS({opacity:0}))])])]},changeDetection:0}),t})(),LI=(()=>{class t{constructor(t){this.dimensionsChanged=new r.n,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):pI(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l))},t.\u0275cmp=r.Hb({type:t,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.zb],attrs:RA,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(t,e){1&t&&(r.ac(),r.Qb(0,"text",0),r.xc(1),r.Pb()),2&t&&(r.Cb("text-anchor",e.textAnchor)("transform",e.transform)("x",e.x)("y",e.y),r.Bb(1),r.zc(" ",e.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),t})(),jI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})(),MI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})(),RI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})(),FI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})();Math;let UI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})(),BI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI,UI,FI]]}),t})(),VI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})(),zI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI]]}),t})(),qI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xI,UI,jI]]}),t})(),HI=(()=>{class t{constructor(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[xI,CI,jI,MI,RI,FI,BI,VI,UI,zI,qI]}),t})(),QI=(()=>{class t{constructor(){this.results=[],this.showXAxis=!0,this.showYAxis=!0,this.gradient=!0,this.showLegend=!0,this.showXAxisLabel=!0,this.yAxisLabel="Peliculas",this.showYAxisLabel=!0,this.xAxisLabel="Votos",this.colorScheme="nightLights"}ngOnInit(){console.log(this.results)}onSelect(t){console.log("Item clicked",JSON.parse(JSON.stringify(t)))}onActivate(t){console.log("Activate",JSON.parse(JSON.stringify(t)))}onDeactivate(t){console.log("Deactivate",JSON.parse(JSON.stringify(t)))}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gbh"]],inputs:{results:"results"},decls:2,vars:10,consts:[[1,"chart-container"],[1,"chart-legend","legend-labels","legend-title-text",2,"fill","white",3,"scheme","results","gradient","xAxis","yAxis","legend","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","select"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"ngx-charts-bar-horizontal",1),r.Xb("select",function(t){return e.onSelect(t)}),r.Pb(),r.Pb()),2&t&&(r.Bb(1),r.ic("scheme",e.colorScheme)("results",e.results)("gradient",e.gradient)("xAxis",e.showXAxis)("yAxis",e.showYAxis)("legend",e.showLegend)("showXAxisLabel",e.showXAxisLabel)("showYAxisLabel",e.showYAxisLabel)("xAxisLabel",e.xAxisLabel)("yAxisLabel",e.yAxisLabel))},directives:[AI],styles:[""]}),t})();function $I(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",5),r.Ob(1,"img",6),r.cc(2,"poster"),r.Qb(3,"div"),r.Qb(4,"div",1),r.Qb(5,"div",7),r.Qb(6,"h5",3),r.Qb(7,"strong"),r.xc(8),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(9,"div",1),r.Qb(10,"div",8),r.Qb(11,"button",9),r.Xb("click",function(){r.qc(t);const n=e.$implicit;return r.bc().votarPeli(n)}),r.xc(12," Votar "),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=e.$implicit;r.Bb(1),r.ic("src",r.dc(2,2,t.url),r.sc),r.Bb(7),r.yc(t.nombre)}}function GI(t,e){if(1&t&&(r.Qb(0,"div",10),r.Ob(1,"app-gbh",11),r.Pb()),2&t){const t=r.bc();r.Bb(1),r.ic("results",t.grafica)}}const WI=[{path:"home",component:cS},{path:"voto",component:(()=>{class t{constructor(t,e){this.peliculasService=t,this.db=e,this.votosP=[],this.grafica=[],this.bandera=!1}ngOnInit(){return Object(il.b)(this,void 0,void 0,function*(){this.db.collection("votos").valueChanges().pipe(Object(ge.a)(t=>t.map(({nombre:t,votos:e})=>({name:t,value:e})))).subscribe(t=>{this.grafica=t}),this.peliculasService.cargarVotosPelis().subscribe(t=>{this.votosP=t,this.votosP.length>0&&(this.bandera=!0)})})}votarPeli(t){}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Ww),r.Nb($w))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-votacion"]],decls:10,vars:2,consts:[[1,"mt-3"],[1,"row"],["class","col-md-3 mb-5 animated fadeIn",4,"ngFor","ngForOf"],[2,"text-align","center"],["class","col mb-5",4,"ngIf"],[1,"col-md-3","mb-5","animated","fadeIn"],[1,"img-fluid","poster",3,"src"],[1,"col-12"],[1,"col","text-center"],[1,"btn","btn-outline-primary",3,"click"],[1,"col","mb-5"],[3,"results"]],template:function(t,e){1&t&&(r.Qb(0,"h1",0),r.xc(1,"Votaciones PeliculasApp"),r.Pb(),r.Ob(2,"hr"),r.Qb(3,"div",1),r.vc(4,$I,13,4,"div",2),r.Pb(),r.Ob(5,"hr"),r.Qb(6,"h2",3),r.xc(7,"Votaciones Peliculas Del Mes"),r.Pb(),r.Qb(8,"div",1),r.vc(9,GI,2,1,"div",4),r.Pb()),2&t&&(r.Bb(4),r.ic("ngForOf",e.votosP),r.Bb(5),r.ic("ngIf",e.bandera))},directives:[dt,pt,QI],pipes:[n_],styles:[".card-heith[_ngcontent-%COMP%]{text-align:center}.card-heith[_ngcontent-%COMP%], .poster[_ngcontent-%COMP%]{height:400px;border-radius:10px}.poster[_ngcontent-%COMP%]{box-shadow:0 0 10px #000;margin:5px;width:100%}"]}),t})()},{path:"pelicula/:id",component:yS},{path:"buscar/:texto",component:c_},{path:"**",pathMatch:"full",redirectTo:"home"}];let KI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[Ls.forRoot(WI)],Ls]}),t})();function YI(t,e){if(1&t&&(r.Qb(0,"li"),r.Qb(1,"a",19),r.xc(2),r.Pb(),r.Pb()),2&t){const t=e.$implicit;r.Bb(2),r.yc(t.name)}}const XI=function(){return["voto"]};let ZI=(()=>{class t{constructor(t,e){this.router=t,this.peliculasService=e,this.generos=[]}ngOnInit(){this.peliculasService.getGeneros().subscribe(t=>{this.generos=t})}buscarPelicula(t){0!==(t=t.trim()).length&&this.router.navigate(["/buscar",t])}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(bs),r.Nb(Ww))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-navbar"]],decls:24,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],[1,"bi","bi-film"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"navbar-collapse","collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"dropdown"],["role","button","id","dropdownMenuLink","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-danger","dropdown-toggle"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu"],[4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item"],[1,"nav-link","navbar-brand",3,"routerLink"],[1,"bi","bi-stars"],[1,"d-flex"],["type","search","placeholder","Buscar Pelicula",1,"form-control","me-2",3,"keyup.enter"],["txtBuscar",""],["type","submit",1,"btn","btn-outline-success",3,"click"],[1,"dropdown-item"]],template:function(t,e){if(1&t){const t=r.Rb();r.Qb(0,"nav",0),r.Qb(1,"div",1),r.Qb(2,"a",2),r.Ob(3,"i",3),r.Qb(4,"strong"),r.xc(5," PeliculasApp"),r.Pb(),r.Pb(),r.Qb(6,"button",4),r.Ob(7,"span",5),r.Pb(),r.Qb(8,"div",6),r.Qb(9,"ul",7),r.Qb(10,"div",8),r.Qb(11,"a",9),r.xc(12," Generos "),r.Pb(),r.Qb(13,"ul",10),r.vc(14,YI,3,1,"li",11),r.Pb(),r.Pb(),r.Qb(15,"li",12),r.Qb(16,"a",13),r.Ob(17,"i",14),r.xc(18," Votaciones"),r.Pb(),r.Pb(),r.Pb(),r.Qb(19,"div",15),r.Qb(20,"input",16,17),r.Xb("keyup.enter",function(){r.qc(t);const n=r.oc(21);return e.buscarPelicula(n.value)}),r.Pb(),r.Qb(22,"button",18),r.Xb("click",function(){r.qc(t);const n=r.oc(21);return e.buscarPelicula(n.value)}),r.xc(23,"Buscar"),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()}2&t&&(r.Bb(14),r.ic("ngForOf",e.generos),r.Bb(2),r.ic("routerLink",r.jc(2,XI)))},directives:[_s,dt,xs],styles:[""]}),t})(),JI=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Ob(0,"app-navbar"),r.Qb(1,"div",0),r.Ob(2,"router-outlet"),r.Pb())},directives:[ZI,Ts],styles:[""]}),t})(),tP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xt]]}),t})();function eP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function nP(t){switch(t.length){case 0:return new CS;case 1:return t[0];default:return new OS(t)}}function rP(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case bS:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function iP(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&sP(n,"start",t)));break;case"done":t.onDone(()=>r(n&&sP(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&sP(n,"destroy",t)))}}function sP(t,e,n){const r=n.totalTime,i=oP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function oP(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function aP(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function uP(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let cP=(t,e)=>!1,lP=(t,e)=>!1,hP=(t,e,n)=>[];const dP=eP();(dP||"undefined"!=typeof Element)&&(cP=(t,e)=>t.contains(e),lP=(()=>{if(dP||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):lP}})(),hP=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let fP=null,pP=!1;function gP(t){fP||(fP=("undefined"!=typeof document?document.body:null)||{},pP=!!fP.style&&"WebkitAppearance"in fP.style);let e=!0;return fP.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in fP.style,!e&&pP)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in fP.style),e}const mP=lP,yP=cP,vP=hP;function bP(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let wP=(()=>{class t{validateStyleProperty(t){return gP(t)}matchesElement(t,e){return mP(t,e)}containsElement(t,e){return yP(t,e)}query(t,e,n){return vP(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new CS(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),_P=(()=>{class t{}return t.NOOP=new wP,t})();const SP="ng-enter",xP="ng-leave",TP="ng-trigger",EP=".ng-trigger",CP="ng-animating",OP=".ng-animating";function kP(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AP(parseFloat(e[1]),e[2])}function AP(t,e){switch(e){case"s":return 1e3*t;default:return t}}function IP(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=AP(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=AP(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function PP(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function NP(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else PP(t,n);return n}function DP(t,e,n){return n?e+":"+n+";":""}function LP(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=DP(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=DP(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function jP(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=qP(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),eP()&&LP(t))}function MP(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=qP(e);t.style[n]=""}),eP()&&LP(t))}function RP(t){return Array.isArray(t)?1==t.length?t[0]:SS(t):t}const FP=new RegExp("{{\\s*(.+?)\\s*}}","g");function UP(t){let e=[];if("string"==typeof t){let n;for(;n=FP.exec(t);)e.push(n[1]);FP.lastIndex=0}return e}function BP(t,e,n){const r=t.toString(),i=r.replace(FP,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function VP(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const zP=/-+([a-z0-9])/g;function qP(t){return t.replace(zP,(...t)=>t[1].toUpperCase())}function HP(t,e){return 0===t||0===e}function QP(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=GP(t,e)})}}return e}function $P(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function GP(t,e){return window.getComputedStyle(t)[e]}const WP="*";function KP(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(ZP(i,o)),"<"!=s[0]||i==WP&&o==WP||e.push(ZP(o,i))}(t,n,e)):n.push(t),n}const YP=new Set(["true","1"]),XP=new Set(["false","0"]);function ZP(t,e){const n=YP.has(t)||XP.has(t),r=YP.has(e)||XP.has(e);return(i,s)=>{let o=t==WP||t==i,a=e==WP||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?YP.has(t):XP.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?YP.has(e):XP.has(e)),o&&a}}const JP=new RegExp("s*:selfs*,?","g");function tN(t,e,n){return new eN(t).build(e,n)}class eN{constructor(t){this._driver=t}build(t,e){const n=new nN(e);return this._resetContextStyleTimingState(n),$P(this,RP(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(rN(t)){const e=t;Object.keys(e).forEach(t=>{UP(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=VP(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=$P(this,RP(t.animation),e);return{type:1,matchers:KP(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:iN(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>$P(this,t,e)),options:iN(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=$P(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:iN(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return sN(IP(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=sN(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||IP(r,e),sN(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:xS({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=xS(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==bS?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(rN(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=UP(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(rN(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(rN(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:$P(this,RP(t.animation),e),options:iN(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:iN(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:iN(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(JP,"")),[t=t.replace(/@\*/g,EP).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,OP),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,aP(e.collectedStyles,e.currentQuerySelector,{});const o=$P(this,RP(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:iN(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:IP(t.timings,e.errors,!0);return{type:12,animation:$P(this,RP(t.animation),e),timings:n,options:null}}}class nN{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rN(t){return!Array.isArray(t)&&"object"==typeof t}function iN(t){var e;return t?(t=PP(t)).params&&(t.params=(e=t.params)?PP(e):null):t={},t}function sN(t,e,n){return{duration:t,delay:e,easing:n}}function oN(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class aN{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const uN=new RegExp(":enter","g"),cN=new RegExp(":leave","g");function lN(t,e,n,r,i,s={},o={},a,u,c=[]){return(new hN).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class hN{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new aN;const l=new fN(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),$P(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[oN(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?kP(n.duration):null,s=null!=n.delay?kP(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),$P(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dN);const t=kP(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>$P(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?kP(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),$P(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return IP(e.params?BP(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?kP(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dN);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),$P(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;$P(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const dN={};class fN{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dN,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new pN(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=kP(n.duration)),null!=n.delay&&(r.delay=kP(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=BP(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new fN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=dN,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new gN(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(uN,"."+this._enterClassName)).replace(cN,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class pN{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new pN(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||bS,this._currentKeyframe[t]=bS}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=bS})):NP(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=BP(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:bS),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=NP(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==bS&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?VP(t.values()):[],s=e.size?VP(e.values()):[];if(n){const t=r[0],e=PP(t);t.offset=0,e.offset=1,r=[t,e]}return oN(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class gN extends pN{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=NP(t[0],!1);a.offset=0,i.push(a);const u=NP(t[0],!1);u.offset=mN(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=NP(t[r],!1);o.offset=mN((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return oN(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function mN(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class yN{}class vN extends yN{normalizePropertyName(t,e){return qP(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(bN[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const bN=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function wN(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const _N={};class SN{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||_N,d=this.buildStyles(n,o&&o.params||_N,l),f=a&&a.params||_N,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:lN(t,e,this.ast.animation,i,s,d,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return wN(e,this._triggerName,n,r,v,d,p,[],[],m,y,_,l);w.forEach(t=>{const n=t.element,r=aP(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=aP(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=VP(g.values());return wN(e,this._triggerName,n,r,v,d,p,w,S,m,y,_)}}class xN{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=PP(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=BP(s,r,e)),n[t]=s})}}),n}}class TN{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new xN(t.style,t.options&&t.options.params||{})}),EN(this.states,"true","1"),EN(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new SN(t,e,this.states))}),this.fallbackTransition=new SN(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function EN(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const CN=new aN;class ON{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=tN(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=rP(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=lN(this._driver,e,i,SP,xP,{},{},n,CN,r),s.forEach(t=>{const e=aP(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,bS)})});const a=nP(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=oP(e,"","","");return iP(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const kN="ng-animate-queued",AN="ng-animate-disabled",IN=".ng-animate-disabled",PN=[],NN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DN={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class LN{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=PP(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const jN="void",MN=new LN(jN);class RN{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,HN(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=aP(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=aP(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(HN(t,TP),HN(t,"ng-trigger-"+e),a[e]=MN),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new UN(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(HN(t,TP),HN(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new LN(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=MN),u.value!==jN&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{MP(t,n),jP(t,r)})}return}const c=aP(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(HN(t,kN),s.onStart(()=>{QN(t,kN)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,EP,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,jN,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&nP(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||MN,a=new LN(jN),u=new UN(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==NN||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){HN(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=oP(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,iP(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class FN{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new RN(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(BN(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!BN(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),HN(t,AN)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),QN(t,AN))}removeNode(t,e,n,r){if(BN(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return BN(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,EP,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,OP,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return nP(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=NN,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,IN)&&this.markElementAsDisabled(t,!1),this.driver.query(t,IN,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)HN(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?nP(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new aN,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=qN(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=SP+p++;f.set(e,n),t.forEach(t=>HN(t,n))});const g=[],m=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=qN(h,Array.from(m));b.forEach((t,e)=>{const n=xP+p++;v.set(e,n),t.forEach(t=>HN(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>QN(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>QN(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>MP(i,p.fromStyles)),e.onDestroy(()=>jP(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>MP(i,p.fromStyles)),e.onDestroy(()=>jP(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>aP(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,x=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(x.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{aP(S,e,[]).push(t),t.destroy()})});const T=g.filter(t=>WN(t,a,u)),E=new Map;zN(E,this.driver,y,u,bS).forEach(t=>{WN(t,a,u)&&T.push(t)});const C=new Map;d.forEach((t,e)=>{zN(C,this.driver,new Set(t),a,"!")}),T.forEach(t=>{const e=E.get(t),n=C.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const O=[],k=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>jP(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(x.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=x.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>x.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,C,E);if(s.setRealPlayer(n),t===A)O.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=nP(e)),r.push(s)}}else MP(e,o.fromStyles),s.onDestroy(()=>jP(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=nP(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<g.length;I++){const t=g[I],e=t.__ng_removed;if(QN(t,xP),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,OP,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?$N(this,t,r):this.processLeaveNode(t)}return g.length=0,O.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),O}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==jN;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=aP(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}MP(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new CS(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return GN(t,e),e}((n.get(h)||PN).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=rP(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new UN(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{aP(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>HN(t,CP));const d=nP(h);return d.onDestroy(()=>{c.forEach(t=>QN(t,CP)),jP(a,e.toStyles)}),l.forEach(t=>{aP(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new CS(t.duration,t.delay)}}class UN{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new CS,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>iP(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){aP(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function BN(t){return t&&1===t.nodeType}function VN(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function zN(t,e,n,r,i){const s=[];n.forEach(t=>s.push(VN(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=DN,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>VN(t,s[a++])),o}function qN(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function HN(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function QN(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function $N(t,e,n){nP(n).onDone(()=>t.processLeaveNode(e))}function GN(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof OS?GN(r.players,e):e.push(r)}}function WN(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class KN{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new FN(t,e,n),this._timelineEngine=new ON(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=tN(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new TN(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=uP(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=uP(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function YN(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ZN(e[0]),e.length>1&&(r=ZN(e[e.length-1]))):e&&(n=ZN(e)),n||r?new XN(t,n,r):null}let XN=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&jP(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jP(this._element,this._initialStyles),this._endStyles&&(jP(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(MP(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(MP(this._element,this._endStyles),this._endStyles=null),jP(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ZN(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];JN(i)&&(e=e||{},e[i]=t[i])}return e}function JN(t){return"display"===t||"position"===t}const tD="animation",eD="animationend";class nD{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=uD(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),aD(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),oD(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){rD(this._element,this._name,"paused")}resume(){rD(this._element,this._name,"running")}setPosition(t){const e=iD(this._element,this._name);this._position=t*this._duration,aD(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),oD(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=uD(t,"").split(","),r=sD(n,e);r>=0&&(n.splice(r,1),aD(t,"",n.join(",")))}(this._element,this._name))}}function rD(t,e,n){aD(t,"PlayState",n,iD(t,e))}function iD(t,e){const n=uD(t,"");return n.indexOf(",")>0?sD(n.split(","),e):sD([n],e)}function sD(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function oD(t,e,n){n?t.removeEventListener(eD,e):t.addEventListener(eD,e)}function aD(t,e,n,r){const i=tD+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function uD(t,e){return t.style[tD+e]||""}class cD{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new nD(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:GP(this.element,n))})}this.currentSnapshot=t}}class lD extends CS{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=bP(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class hD{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return gP(t)}matchesElement(t,e){return mP(t,e)}containsElement(t,e){return yP(t,e)}query(t,e,n){return vP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>bP(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof cD),u={};HP(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=QP(t,e,u));if(0==n)return new lD(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=YN(t,e),f=new cD(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class dD{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:GP(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class fD{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pD().toString()),this._cssKeyframesDriver=new hD}validateStyleProperty(t){return gP(t)}matchesElement(t,e){return mP(t,e)}containsElement(t,e){return yP(t,e)}query(t,e,n){return vP(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof dD);HP(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=YN(t,e=QP(t,e=e.map(t=>NP(t,!1)),u));return new dD(t,e,a,l)}}function pD(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let gD=(()=>{class t extends vS{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?SS(t):t;return vD(this._renderer,null,e,"register",[n]),new mD(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(o))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class mD extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new yD(this._id,t,e||{},this._renderer)}}class yD{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vD(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function vD(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const bD="@",wD="@.disabled";let _D=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new SD("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new xD(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(KN),r.Ub(r.A))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class SD{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==bD&&e==wD?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class xD extends SD{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==bD?"."==e.charAt(1)&&e==wD?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==bD){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=bD&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let TD=(()=>{class t extends KN{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(o),r.Ub(_P),r.Ub(yN))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const ED=[{provide:_P,useFactory:function(){return"function"==typeof pD()?new fD:new hD}},{provide:new r.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:vS,useClass:gD},{provide:yN,useFactory:function(){return new vN}},{provide:KN,useClass:TD},{provide:r.F,useFactory:function(t,e,n){return new _D(t,e,n)},deps:[Qt,KN,r.A]}];let CD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:ED,imports:[ie]}),t})(),OD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xt,Ls,e_,tP,ie,Xw,HI,CD]]}),t})(),kD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({imports:[[xt,OD,tP,e_,OD]]}),t})();const AD={apiKey:"AIzaSyCgjHntnnn_YfJapN7Z-r2rJMpfRTOFsDY",authDomain:"firestore-goty-1e6dd.firebaseapp.com",projectId:"firestore-goty-1e6dd",storageBucket:"firestore-goty-1e6dd.appspot.com",messagingSenderId:"522457980485",appId:"1:522457980485:web:afe2c14b60b7ed5f958d2c",measurementId:"G-7EJFB153XL"};class ID{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new PD(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class PD extends he.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ke.a,n.set(e,i);const t=new DD(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new DD(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new ND(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class ND extends he.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class DD extends ue.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Qn.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new LD(n)),e.add(r.subscribe(t)),e}}class LD extends Qn.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const jD=new r.r("angularfire2.analytics.analyticsCollectionEnabled"),MD=new r.r("angularfire2.analytics.appVersion"),RD=new r.r("angularfire2.analytics.appName"),FD=new r.r("angularfire2.analytics.debugMode"),UD=new r.r("angularfire2.analytics.config");let BD=(()=>{class t{constructor(t,e,r,i,s,o,a,u){if(this.analyticsInitialized=new Promise(()=>{}),Tt(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),s&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),o&&this.updateConfig(o),s&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(ae.a)(void 0).pipe(Object(Ys.b)(new Xs.e(u).outsideAngular),yn(()=>Tt(a)?u.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):fn.a),Object(ge.a)(()=>Object(Xs.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,o,s])),Sw({bufferSize:1,refCount:!1}));return Object(Xs.j)(this,c,u)}updateConfig(t){return Object(il.b)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Xs.d),r.Ub(jD,8),r.Ub(MD,8),r.Ub(RD,8),r.Ub(FD,8),r.Ub(UD,8),r.Ub(r.C),r.Ub(r.A))},t.\u0275prov=r.Jb({factory:function(){return new t(r.Ub(Xs.d),r.Ub(jD,8),r.Ub(MD,8),r.Ub(RD,8),r.Ub(FD,8),r.Ub(UD,8),r.Ub(r.C),r.Ub(r.A))},token:t,providedIn:"any"}),t})();Object(Xs.f)(BD,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let VD=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],Et(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(BD),r.Ub(r.C),r.Ub(Pw),r.Ub(r.A))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const zD="screen_class";let qD=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const HD={},QD=t=>{const e=[t.screen_class,t.outlet].join("#");if(HD.hasOwnProperty(e))return HD[e];{const t=qD++;return HD[e]=t,t}};let $D=(()=>{class t{constructor(t,e,n,r,i,s,o){if(!e||!Tt(i))return this;s.runOutsideAngular(()=>{const i=e.events.pipe(de(t=>t instanceof cr));var s;this.disposable=i.pipe(yn(t=>{var i;const s=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",o=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!o)return Object(ae.a)(null);let a=o;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=o.component;if(l){if(l===ki){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(ae.a)(Object.assign(Object.assign({},c),{[zD]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(ae.a)(Object.assign(Object.assign({},c),{[zD]:t.selector}))}return Object(ae.a)(null)}),de(t=>t),Object(ge.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:QD(t)},t)),(s=t=>t.outlet,t=>t.lift(new ID(s,void 0,void 0,void 0))),Object(ce.a)(e=>e.pipe(Gs((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Tn(void 0),Hs(),Object(ge.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),yn(e=>Object(il.b)(this,void 0,void 0,function*(){return o&&(yield o.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(BD),r.Ub(bs,8),r.Ub(oe,8),r.Ub(r.j),r.Ub(r.C),r.Ub(r.A),r.Ub(VD,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),GD=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(BD),r.Ub($D,8),r.Ub(VD,8))},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({providers:[BD]}),t})(),WD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Lb({type:t,bootstrap:[JI]}),t.\u0275inj=r.Kb({providers:[],imports:[[ie,KI,Ge,OD,kD,tP,Xs.a.initializeApp(AD),GD,Gw]]}),t})();Object(r.T)(),ne().bootstrapModule(WD).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);